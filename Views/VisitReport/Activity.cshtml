@model TuvVision.Models.NonInspectionActivity

@{
    ViewBag.Title = "Activity";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
    var estdate = DateTime.Now;
    string EstCloseDate = estdate.ToString("dd/MM/yyyy");
}

<script type="text/javascript" language="javascript" src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>
<script src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>
<script src="~/AllJsAndCss/js/datatable-custom2.js"></script>


<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />
<script>

    $(function () {
        $(".StartDate").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>

<script>

    $(function () {
        $(".EndDates").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>
<style>
    .ui-widget-header {
        background: #001ED2 !important;
    }

    .ui-datepicker-month, .ui-datepicker-year {
        color: #333 !important;
    }
</style>


<div class="white-bg section-box-shadow">
    <br />
    @*<h3 class="dynamic-page-title dynamic-page-title-2  " style="margin-left:10px;"> Item Description </h3>*@
    <div class="row">


        <div class="col-xs-12 text-right">


            @if (Model.PK_Call_ID != 0)
            {
                @*<button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("VisitReportForm", "VisitReport",new { @PK_Call_ID = Model.PK_Call_ID} )'"> General</button>
                <button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("ReferenceDocuments", "VisitReport",new { @PK_Call_ID = Model.PK_Call_ID} )'">Reference Documents</button>
                <button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("InspectionActivites", "VisitReport",new { @PK_Call_ID = Model.PK_Call_ID} )'">Stages Witnessed</button>
                <button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("DocumentReviewed", "VisitReport",new { @PK_Call_ID = Model.PK_Call_ID} )'">Document Reviewed</button>
                <button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("EquipmentDetails", "VisitReport",new { @PK_Call_ID = Model.PK_Call_ID} )'">Details Of Measuring Instrument</button>
                <button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("Conclusion", "VisitReport",new { @PK_Call_ID = Model.PK_Call_ID} )'">Conclusion</button>
                <button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("ReportImage", "VisitReport",new { @PK_Call_ID = Model.PK_Call_ID} )'">Image</button>*@
              @*<button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("IvrReports", "VisitReport",new { @PK_CALL_ID = Model.PK_CALL_ID} )'">Report</button>*@
                <a href="@Url.Action("VisitReportForm","VisitReport",new { @PK_Call_ID = Model.PK_Call_ID })" class="btn btn-info dynamic-function-btn dynamic-function-btn-2" style="float:right;"><i class="fa fa-long-arrow-left"></i> Go Back</a>
            }



            
        </div>



        <div class="col-xs-12 col-sm-offset-1 col-sm-10">
            <div class="form-box">
                <h3 class="form-page-title">Time Sheet</h3>
                <form method="post" enctype="multipart/form-data">

                    @Html.HiddenFor(m => m.PK_Call_ID)
                    @Html.HiddenFor(m => m.Id)
                    <div class="row">

                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Start Date:</label>
                                @Html.TextBoxFor(model => model.StartDate, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Start Date", @Value = EstCloseDate, @class = "form-control form-control-custom StartDate", autocomplete = "off" })
                                @*@Html.TextBoxFor(model => model.StartDate,  new { placeholder = "Select Start Date", @class = "form-control  StartDate", @Value = EstCloseDate, autocomplete = "off" })*@
                                @*@Html.ValidationMessageFor(model => model.StartDate, "", new { @class = "text-danger validation-msg" })*@
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>End Date:</label>

                                @Html.TextBoxFor(model => model.EndDate, "{0:dd MMM yyyy}",htmlAttributes: new { @placeholder = "Select End Date", @class = "form-control  EndDates", @Value = EstCloseDate, autocomplete = "off" })
                                @*@Html.ValidationMessageFor(model => model.EndDate, "", new { @class = "text-danger validation-msg" })*@
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>On Site Time:</label>

                                @Html.TextBoxFor(model => model.StartTime, new { @placeholder = "Enter On Site Time", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.StartTime, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-2">
                        <div class="form-group">
                            <label>off Site Time:</label>

                            @Html.TextBoxFor(model => model.EndTime, new { @placeholder = "Enter Off Site Time", @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.EndTime, "", new { @class = "text-danger validation-msg" })
                        </div>
                    </div>

                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Travel Time:</label>

                                @Html.TextBoxFor(model => model.TravelTime, new { @placeholder = "Enter Travel Time", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.TravelTime, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-6">
                            <div class="form-group">
                                <label>Description:</label>

                                @Html.TextAreaFor(model => model.Description, new { @placeholder = "Enter Description", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>

                        @*<div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Po Item No:</label>

                                @Html.TextBoxFor(model => model.Po_Item_No, new { @placeholder = "Po Item No", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Po_Item_No, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Item Code:</label>

                                @Html.TextBoxFor(model => model.Item_Code, new { @placeholder = "Item Code", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Item_Code, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>*@

                        @*<div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Unit:</label>

                                @Html.TextBoxFor(model => model.Unit, new { @placeholder = "Unit", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Unit, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Po Quantity:</label>

                                @Html.TextBoxFor(model => model.Po_Quantity, new { @placeholder = "Po Quantity", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Po_Quantity, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Offered Quantity:</label>

                                @Html.TextBoxFor(model => model.Offered_Quantity, new { @placeholder = "Offered Quantity", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Offered_Quantity, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-2">
                            <div class="form-group">
                                <label>Accepted Quantity:</label>

                                @Html.TextBoxFor(model => model.Accepted_Quantity, new { @placeholder = "Accepted Quantity", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Accepted_Quantity, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>*@

                        <div class="col-xs-12 col-sm-4">
                            <div class="form-group">
                                <label>Attachment </label>
                                <input type="file" class="inputupload" name="Image" id="img_Banner" multiple="multiple" />

                                @Html.HiddenFor(m => m.Attachment)
                                @if (Model != null && Model.Attachment != null && Model.Attachment != "")
                                {
                                    string[] words = (Model.Attachment).Split(',');
                                    for (int j = 1; j < words.Count(); j++)
                                    {
                                        <a target="_blank" href="@Url.Content("~/NonInspectionActivityDocument/" + words[j-1])">
                                            @*<img src="~/PDF-Icon.png" width="50" height="50" />*@
                                            <span>Download</span>
                                        </a>
                                                                        @*<img src="@Url.Content("~/Content/JobDocument/" + words[j-1])" width="50" height="50" />*@
                                    }
                                }
                            </div>
                        </div>


                    </div>


                    <div class="col-xs-12 text-center">
                        <button type="submit" class="btn btn-default insert-form-btn">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!--Contact Details By Manoj -->


</div><!-- /.box-shadow -->


<div class="main-content3 xs-max-height">

    <!--Start of header-->
    <div class="container-fluid">
        @*<div class="row assignfixedwidth rp-15">

                <h3 class="form-page-title">Item Description</h3>
                <div class="col-xs-12">
                    <hr class="custom-hr">
                </div>
            </div>*@

        <div class="col-xs-12">
            <table id="example" class="display custom-table" cellspacing="0" width="100%">
                <thead>
                   <tr>
                        @*<th>Id</th>*@
                        <th>Activity Type</th>
                        @*<th>Location</th>*@
                        <th>Start Date</th>
                       @*<th>End Date</th>*@                        
                       <th>On Site Time</th>
                        <th>Off Site Time</th>
                       <th>Travel Time</th>
                        @*<th>Service Code</th>*@
                        <th>Description</th>
                        <th class="remove-search">Action</th>
                </thead>
                @if (ViewData["NonInspectionActivityList"] != null)
                {
                    <tbody>

                        @{
                            int i = 0;
                        }
                        @foreach (var item in ViewData["NonInspectionActivityList"] as IEnumerable<TuvVision.Models.NonInspectionActivity>)
                        {
                            <tr>
                                @*<td><input type=label</td>*@
                                @*<td> @item.Id</td>*@
                                <td>@item.ActivityType</td>
                                @*<td>@item.Location</td>*@
                                <td>@item.DateSE</td>
                                @*<td>@item.EndDate</td>*@                                
                                <td>@item.StartTime</td>
                                @*<td>@asset.EndDate</td>*@                                
                                <td>@item.EndTime</td>
                                <td>@item.TravelTime</td>
                                @*<td>@item.ServiceCode</td>*@
                                <td>@item.Description</td>


                                <td class="action-btn" style="text-align:center;">
                                    <a href="@Url.Action("Activity", "VisitReport", new { @sid = @item.Id, @kid=Model.PK_Call_ID })" class="btn btn-info btn-xs" title="Edit"><i class="fa fa-pencil"></i></a>

                                    <a href="@Url.Action("DeleteActivity", "VisitReport", new { @aid = @item.Id, @kid = Model.PK_Call_ID })" class="delete" onclick="return confirm('Are you sure you wish to Delete selected Record?');" title="Delete"><i class="fa fa-trash"></i></a>
                                </td>

                            </tr>

                        }

                    </tbody>
                                        }
                                        else
                                        {

                                        }
              

            </table>
        </div><!-- /.data table col -->


    </div><!-- /.container-fluid -->
    <!--End of header-->

</div>

<!--End of Ashwini Code-->
                                        }
@*...Calender Control...*@
