@model TuvVision.Models.Library

@{
    ViewBag.Title = "LibraryFolder";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
}



<style>
    #customers {
        /*font-family: Arial, Helvetica, sans-serif;*/
        font-family:'TNG Pro';
        border-collapse: collapse;
        width: 100%;
    }

        #customers td, #customers th {
            border: 1px solid #ddd;
            padding: 8px;
        }

        #customers tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        #customers tr:hover {
            background-color: #ddd;
        }

        #customers th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: left;
            /*background-color: #04AA6D;*/
            background-color: #001ED2;
            color: white;
        }
</style>

<style>
    #myInput {
        background-image: url('/css/searchicon.png'); /* Add a search icon to input */
        background-position: 10px 12px; /* Position the search icon */
        background-repeat: no-repeat; /* Do not repeat the icon image */
        width: 100%; /* Full-width */
        font-size: 14px; /* Increase font-size */
        /*padding: 12px 20px 12px 40px;*/ /* Add some padding */
        padding: 6px 19px 5px 16px;
        border: 1px solid #ddd; /* Add a grey border */
        margin-bottom: 12px; /* Add some space below the input */
    }

    table {
        /*font-family: arial, sans-serif;*/
        font-family:'TNG Pro';
        border-collapse: collapse;
        width: 100%;
    }

    /*td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }*/
    td {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }

    th {
        padding-top: 12px;
        padding-bottom: 12px;
        text-align: left;
        /*background-color: #04AA6D;*/
        background-color: #001ED2;
        color: white;
        font-size:14px;
    }


    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
</style>


<link href="~/Content/Css/extra.css" rel="stylesheet">
<!--fancybox-->
<link rel="stylesheet" href="~/AllJsAndCss/fancybox/jquery.fancybox.css" media="screen">
<link rel="stylesheet" href="~/AllJsAndCss/fancybox/jquery.fancybox-thumbs.css" media="screen">
<!--fancybox-->
<!--datatable-->
<link href="~/Content/Css/datatable/css/jquery.dataTables.css" rel="stylesheet" />
<!--datatable-->
<script type="text/javascript" language="javascript" src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>

<!--export to excel-->
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
<script src="~/AllJsAndCss/js/datatable-custom.js"></script>
<link href="~/AllJsAndCss/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<!--datatable-->
<!--filterizr-->
<script src="~/AllJsAndCss/js/jquery.filterizr.js"></script>
<script>
        $(function () {
            $('.filtr-container').filterizr();
            $('.gallery-filter-tab li').click(function() {
            $(this).addClass('filtr-active');
            $(this).siblings().removeClass('filtr-active');
        });
        });
</script>

<!--fancybox-->
<script src="~/AllJsAndCss/fancybox/jquery.fancybox.js"></script>
<script src="~/AllJsAndCss/fancybox/jquery.fancybox.pack.js"></script>
<script src="~/AllJsAndCss/fancybox/jquery.fancybox-thumbs.js"></script>
<script>
      $(function () {
      $('.fancybox-thumbs').fancybox({
            prevEffect : 'none',
            nextEffect : 'none',

            closeBtn  : true,
            arrows    : true,
            nextClick : true,

            helpers : {
                thumbs : {
                    width  : 88,
                    height : 50
                }
            }
        });
        });
</script>



<!--equalheight-->
<script src="~/AllJsAndCss/js/equalHeight.js"></script>





<!--Start of main content 3-->
<div class="main-content2 xs-max-height">
    <!--Start of header-->
    <div class="container-fluid">
        <div class="row assignfixedwidth rp-15">
            <div class="col-xs-12 col-md-4">
                @*<h3 class="dynamic-page-title dynamic-page-title-2 text-left" style="margin-bottom:10px;">Library</h3>*@
              

                 @*@if (Session["Doc"].ToString() != null || Session["Doc"].ToString() == "")*@

                    @if (!string.IsNullOrEmpty(Session["Doc"] as string))
                                        
                {
                    <h4 class="dynamic-page-title dynamic-page-title-2 text-left" style="margin-bottom:10px;white-space: nowrap;width: 100%;overflow: hidden;text-overflow: ellipsis;"><i class="fa fa-folder-open"></i><span style = "font-size:19px;" > @Session["Doc"] </span></h4 >
                }
                else
                {
                    <h4 class="dynamic-page-title dynamic-page-title-2 text-left" style="margin-bottom:10px;white-space: nowrap;width: 25%;overflow: hidden;text-overflow: ellipsis;"><i class="fa fa-folder-open"></i> Files</h4>
                    }
            </div><!-- /.col -->
        
@if (Model.Rollid == 36 || Model.Rollid == 1 || Convert.ToString(System.Web.HttpContext.Current.Session["UserIDs"]) == "TUV0001742" || Convert.ToString(System.Web.HttpContext.Current.Session["UserIDs"]) == "TUV0002556" || Convert.ToString(System.Web.HttpContext.Current.Session["UserIDs"]) == "TUV00280" || Convert.ToString(System.Web.HttpContext.Current.Session["UserIDs"]) == "TUV000730" || Convert.ToString(System.Web.HttpContext.Current.Session["UserIDs"]) == "TUV00496")
{
            <div class="col-xs-12 col-md-8">
                <form class="form-inline" method="post">
                    <div class="form-group">
                        @Html.HiddenFor(model => model.PK_SubSubID)
                        @Html.HiddenFor(model => model.Lib_Id)
                        @*<input type="email" class="form-control" placeholder="Type Here....">*@
                        @Html.TextBoxFor(model => model.FolderName, new { placeholder = "type...", @class = "form-control", @required = "required" })
                        @Html.ValidationMessageFor(model => model.FolderName, "", new { @class = "text-danger validation-msg" })
                    </div>
                    <button type="submit" class="btn btn-info dynamic-function-btn" style="margin-bottom: 0!important;"><i class="fa fa-save"></i> Save</button>
                </form>
            </div>
        }

            <div class="col-xs-12">
                <hr class="custom-hr1">
            </div>

            <div class="col-xs-12">
                @*<table id="example" class="display" cellspacing="0" width="100%">*@ @*library-dt*@ 

                <input type="text" id="myInput" onkeyup="myFunction1()" placeholder="Search by Name.">
                <table id="myTable" class="display" cellspacing="0" width="60%">
                    
                        <thead>
                            <tr>
                                @if (Model.Rollid == 1 || Model.Rollid == 36 || Convert.ToString(System.Web.HttpContext.Current.Session["UserIDs"]) == "TUV00496")
                                {
                                    <th width="5%" class="remove-search" style="padding: 10px 10px !important;">Action</th>
                                }
                                <th class="remove-search" style="padding: 10px 10px !important;" >Name</th>
                                @*<th class="remove-search" style="padding: 10px 10px !important;" width="15%">Uploaded Date</th>
                                <th class="remove-search" style="padding: 10px 10px !important;" width="15%">Uploaded By</th>*@
                                @*<th class="remove-search" style="padding: 10px 10px !important;">Modified Date</th>
                        <th class="remove-search" style="padding: 10px 10px !important;">Modified By</th>*@
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in ViewData["LibraryList"] as IEnumerable<TuvVision.Models.Library>)
                            {
                                <tr>
                                    @if (Model.Rollid == 1 || Model.Rollid == 36)
                                    {
                                        <td>
                                            <a href="@Url.Action("LibraryFolder", "Library", new {@Lib_Id = item.Lib_Id })"><i class="fa fa-pencil" style="color:green;"></i>&nbsp;</a>
                                            <a href="@Url.Action("DeleteLibraryFolder", "Library", new {@Lib_Id = item.Lib_Id , @PK_SubSubID = item.PK_SubSubID })" onclick="return confirm('Are you sure you want to Delete this Record?')"><i class="fa fa-trash-o" style="color:red;"></i>&nbsp;</a>
                                        </td>
                                    }
                                    <td>

                                        <a href="@Url.Action("LibraryDocuments", "Library", new {@Lib_Id = item.Lib_Id,@FolderName = item.FolderName })"><i class="fa fa-folder" style="color:#f8c63c;"></i>&nbsp; @item.FolderName</a>
                                    </td>
                                    @*<td>@item.CreatedDate.Value.ToString("dd/MM/yyyy")</td>
                                    <td>@item.CreatedBy</td>*@
                                    @*<td>@item.ModifyDate.Value.ToString("dd/MM/yyyy")</td>*@
                                    @*@if (item.ModifyDate.Value.ToString() == "01-01-1900 00:00:00")
                            {
                                <td>NA</td>
                            }
                            else
                            {
                                <td>@item.ModifyDate.Value.ToString("dd/MM/yyyy")</td>
                            }
                            <td>@item.ModifyBy</td>*@
                                </tr>
                            }

                        </tbody>

                    </table>
</div><!-- /.data table col -->

        </div><!-- /.row -->



    </div><!-- /.container-fluid -->
    <!--End of header-->

</div>
<!--End of main content 3-->
     <!--filterizr-->


<script>
    function myFunction1() {
        debugger;
  // Declare variables
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      txtValue = td.textContent || td.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>