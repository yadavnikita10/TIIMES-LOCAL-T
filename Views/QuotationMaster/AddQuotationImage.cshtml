@model TuvVision.Models.QuotationMaster

@{
    ViewBag.Title = "AddQuotationImage";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
    int j = 0;
}

<style>
    #customers {
        /*font-family: Arial, Helvetica, sans-serif;*/
        font-family:'TNG Pro';
        border-collapse: collapse;
        width: 100%;
    }

        #customers td, #customers th {
            border: 1px solid #ddd;
            padding: 8px;
        }

        #customers tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        #customers tr:hover {
            background-color: #ddd;
        }

        #customers th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: left;
            /*background-color: #04AA6D;*/
            background-color: #001ED2;
            color: white;
        }
</style>
<script type="text/javascript" language="javascript" src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>
<script src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>
<script src="~/AllJsAndCss/js/datatable-custom.js"></script>


<div class="main-content3 xs-max-height grey-bg-f3">
    <div class="grey-bg-f3">
        <!--Start of header-->
        <div class="container-fluid">
            <div class="col-xs-12 col-sm-offset-1 col-sm-10">

                <div class="col-xs-12 form-col">
                    <div class="row">
                        <br />
                        @*<a href="@Url.Action("IvrReports","VisitReport")" class="btn btn-info dynamic-function-btn dynamic-function-btn-2"><i class="fa fa-long-arrow-left"></i> Go Back</a>*@





                        <div class="col-xs-12">
                            <div class="white-bg section-box-shadow">
                                <h3 class="form-page-title">Quotation Image</h3>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-offset-1 col-sm-10">

                                        <div class="form-box">
                                            <form method="post" enctype="multipart/form-data">

                                                <div class="row">

                                                  

                                                    <div class="col-xs-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label>
                                                                Image <span class="required"></span><br />
                                                                <span>Size :- (56h * 56w)</span>
                                                            </label>
                                                            @*<input type="file" class="inputupload" name="img_Banner" id="img_Banner" multiple />*@
                                                            @*<input type="file" name="postedFile" multiple/>*@
                                                            <input type="file" class="inputupload" name="img_Banner" id="img_Banner" multiple />
                                                            @Html.HiddenFor(m => m.IName)
                                                            @if (Model != null)
                                                            {
                                                                <a href="~/ImageUpload/@Html.DisplayFor(m => m.IName)">
                                                                     @Html.ValidationMessageFor(m => m.IName, "", new { @class = "text-danger", })
                                                                </a>
                                                                @*<img src="@Url.Content("~/Content/Uploads/Images/" + Html.DisplayFor(m => m.Image))" width="100" height="100" />*@
                                                            }
                                                        </div>
                                                    </div>



                                                </div>


                                                <div class="col-xs-12 text-center">

                                                    <button type="submit" class="btn btn-default insert-form-btn">Save</button>

                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                @using (Html.BeginForm("DeleteImage", "QuotationMaster", FormMethod.Post, new { enctype = "multipart/form-data", @id = "formiid" }))
                                {
                                    @Html.HiddenFor(m => m.IId)
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="col-xs-12">
                                                <table id="customers" class="display custom-table" cellspacing="0" width="100%">

                                                    <thead>
                                                        <tr>
                                                            <th class="hidden">Id</th>
                                                            <th class="remove-search" width="5%">Sr No </th>
                                                        
                                                            <th class="remove-search" width="40%">Image</th>
                                                            <th class="remove-search" width="5%">
                                                                Select to Delete
                                                                <input type="checkbox" name="ID" class="custom-checkbox chkCheckBoxId" id="DeleteImageById" />
                                                            </th>
                                                        </tr>
                                                    </thead>

                                                    <tbody>

                                                        @{
                                                            int i = 0;
                                                        }
                                                        @*@foreach (var item in ViewData["CostSheet"] as IEnumerable<TuvVision.Models.ReportImageModel>)*@
                                                        @foreach (var item in ViewBag.CostSheet as IEnumerable<TuvVision.Models.QuotationMaster>)
                                                        {

                                                            i = i + 1;
                                                            <tr>
                                                                @Html.HiddenFor(model => model.LImage[j].IId, new { @placeholder = "ID", @Value = item.IId, @class = "form-control" })
                                                                <td class="hidden">@Html.HiddenFor(model => model.LImage[j].IId, new { @placeholder = "ID", @Value = item.IId, @class = "form-control" })</td>
                                                                <td width="5%">@i</td>
                                                              
                                                                <td width="40%">
                                                                    @*<a href="~/CompressFiles/@item.IName">*@
                                                                        
                                                                        <img alt="@item.IName"
                                                                             src="data:image/jpg;base64,@Convert.ToBase64String(item.IData)"  style="height:150px;width:150px;"/>
                                                                    @*</a>*@

                                                                </td>
                                                                <td class="less-width" width="5%">
                                                                    @Html.CheckBoxFor(model => model.LImage[j].chkbox, new { @placeholder = "Heading", @class = "chkCheckBoxId" })
                                                                </td>

                                                            </tr>
                                                                            j++;
                                                                        }
                                                    </tbody>
                                                </table>
                                            </div>



                                            <!--Contact Details By Manoj -->


                                        </div><!-- /.box-shadow -->

                                    </div>



                                    <div class="col-xs-12 text-center">

                                        

                                        <button type="submit" value="Delete" class="btn btn-default insert-form-btn" style="background-color:red;" onclick="return confirm('Do you want to delete the selected Image(s)?')"><i class="fa fa-trash-o"></i> Delete</button>

                                    </div>
                                                                        }


                                <script type="text/javascript">

        $(document).ready(function () {

            $('#DeleteImageById').click(function () {
                if ($(this).is(":checked")) {
                    $(".chkCheckBoxId").prop("checked", true)
                }
                else {
                    $(".chkCheckBoxId").prop("checked", false)
                }
            });
        });
                                </script>


                            </div>
                        </div>


                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
