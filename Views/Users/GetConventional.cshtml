@model TuvVision.Models.ProfileUser
@using NonFactors.Mvc.Grid;
@using System.Web.Mvc;


@{
    ViewBag.Title = "GetConventional";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
}


<style>
    #myInput {
        background-image: url('/css/searchicon.png'); /* Add a search icon to input */
        background-position: 10px 12px; /* Position the search icon */
        background-repeat: no-repeat; /* Do not repeat the icon image */
        width: 100%; /* Full-width */
        font-size: 14px; /* Increase font-size */
        /*padding: 12px 20px 12px 40px;*/ /* Add some padding */
        padding: 6px 19px 5px 16px;
        border: 1px solid #ddd; /* Add a grey border */
        margin-bottom: 12px; /* Add some space below the input */
    }

    table.tableA {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

        table.tableA td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        table.tableA th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: left;
            /*background-color: #04AA6D;*/
            background-color: #001ED2;
            color: white;
        }


        table.tableA tr:nth-child(even) {
            background-color: #f2f2f2;
        }
</style>

@using (Html.BeginForm())
{
    <!--Start of header-->
    <!--Start of main content 3-->
    <div class="main-content3 xs-max-height">

        <!--Start of header-->
        <div class="container-fluid">
            <div class="row assignfixedwidth rp-15">

                <div class="col-xs-12">
                    <h3 class="dynamic-page-title dynamic-page-title-2  text-left">Training Detail</h3>

                    <a href="@Url.Action("CreateUser", "Users" , new {@UserID = Model.PK_UserID })" class="btn btn-info dynamic-function-btn dynamic-function-btn-2" style="margin-left:10px;"><i class="fa fa-long-arrow-left"></i> Go Back</a>    
                <button type="button" id="a" value="ExportToExcel" class="btn btn-info dynamic-function-btn dynamic-function-btn-2" onclick="location.href='@Url.Action("ExportTrainingDetail","Users")'">
                        Export To Excel
                    </button>
                </div><!-- /.col -->

                <div class="col-xs-12">
                    <hr class="custom-hr">
                </div><!-- /.col -->
                <!--Table was here-->

            </div><!-- /.row -->

            <div class="col-xs-12">
                @*<table id="example" class="display" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th class="hidden"></th>
                                <th class="remove-search less-width">Action</th>
                                <th>Employee Code</th>
                                <th>Name</th>
                                <th>Branch</th>
                                <th>Image</th>
                                <th>Employee Grade</th>
                                <th>SAP Code</th>
                                <th>Date Of Joining</th>
                                <th>Designation</th>
                                <th>Address 2</th>
                                <th>Address 1</th>
                                <th>Cost Center</th>
                                <th>Additional Qualification</th>
                                <th>Qualification</th>
                                <th>Mobile No</th>
                                <th>Emergency Mobile No</th>
                                <th>Email ID</th>
                                <th>TUV Email-Id</th>
                                <th>Date Of Birth</th>
                                <th>Gender</th>
                                <th>Blood Group</th>
                                <th>Shoes Size</th>
                                <th>Pan No</th>
                                <th>Aadhar No</th>
                                <th>CV</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr class="hidden">
                                <td></td>
                                <td>Action</td>
                                <td>Employee Code</td>
                                <td>Name</td>
                                <td>Branch</td>
                                <td>Image</td>
                                <td>EmployeeGrade</td>
                                <td>SAP Code</td>
                                <td>Date Of Joining</td>
                                <td>Designation</td>
                                <td>Address2</td>
                                <td>Address1</td>
                                <td>Cost Center</td>
                                <td>Additional Qualification</td>
                                <td>Qualification</td>
                                <td>Mobile No</td>
                                <td>Emergency Mobile No</td>
                                <td>Email ID</td>
                                <td>Tuv EmailId</td>
                                <td>Date of birth</td>
                                <td>Gender</td>
                                <td>Blood Group</td>
                                <td>Shoes Size</td>
                                <td>Pan No</td>
                                <td>Aadhar No</td>
                                <td>CV</td>
                                <td>Status</td>
                            </tr>
                            <tr class="hidden">
                                <td></td>

                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>

                            </tr>

                            @{

                            }
                            @foreach (var item in ViewData["UserList"] as IEnumerable<TuvVision.Models.ProfileUser>)
                            {
                            <tr>
                                <td class="hidden"></td>
                                <td style="width:125px;">
                                    <a href="@Url.Action("CreateUser", "Users", new {@UserID = item.PK_UserID })" title="Edit"><span class="fa fa-pencil"></span>&nbsp;</a>
                                    <a href="@Url.Action("Delete", "Users", new {@UserID = item.PK_UserID })" onclick="return confirm('Are you sure you want to Delete this record?')" title="Delete"><span class="fa fa-trash-o"></span>&nbsp;</a>
                                    @{
                                        if ((Convert.ToString(TempData["InsertUsers"])) != "" && Convert.ToString(TempData["InsertUsers"]) != null)
                                        {
                                            TempData["InsertUsers"] = null;
                                            <script type="text/javascript" language="javascript">
                                                                    alert("User Added Successfully!!!!");
                                            </script>
                                        }
                                        if ((Convert.ToString(TempData["UpdateUsers"])) != "" && Convert.ToString(TempData["UpdateUsers"]) != null)
                                        {
                                            TempData["UpdateUsers"] = null;
                                            <script type="text/javascript" language="javascript">
                                                                        alert("User Updated Successfully");
                                            </script>
                                        }
                                        if ((Convert.ToString(TempData["DeleteUser"])) != "" && Convert.ToString(TempData["DeleteUser"]) != null)
                                        {
                                            TempData["DeleteUser"] = null;
                                            <script type="text/javascript" language="javascript">
                                                                        alert("User Deleted Successfully");
                                            </script>
                                        }

                                    }
                                </td>

                               <td>@item.EmployeeCode</td>
                                <td>@item.FirstName @item.LastName</td>
                                <td>@item.Branch</td>
                                <td>@item.Image</td
                                <td><img src="~/Content/Uploads/Images/@item.Image" /></td>
                                <td>@item.EmployeeGrade</td>
                                <td>@item.SAP_VendorCode</td>
                                <td>@item.DateOfJoining.Value.ToString("dd/MM/yyyy")</td>
                                <td>@item.Designation</td>
                                <td>@item.Address2</td>
                                <td>@item.Address1</td>
                                <td>@item.Cost_Center</td>
                                <td>@item.Additional_Qualification</td>
                                <td>@item.Qualification</td>
                                <td>@item.MobileNo</td>
                                <td>@item.EmergencyMobile_No</td>
                                <td>@item.EmailID</td>
                                <td>@item.TuvEmailId</td>
                                <td>@item.DOB.Value.ToString("dd/MM/yyyy")</td>
                                <td>@item.Gender</td>
                                <td>@item.BloodGroup</td>
                                <td>@item.ShoesSize</td>
                                <td>@item.PanNo</td>
                                <td>@item.AadharNo</td>
                                @if (item.CV !="")
                                {
                                    <td><a download="" href="~/Content/Uploads/Images/@item.CV">CV</a></td>
                                }
                                else
                                {
                                    <td><a>NA</a></td>
                                }

                                <td>@item.IsActive</td>

                            </tr>
                           }
                        </tbody>
                    </table>*@<!-- /.data table col -->

            </div>

            @Html.HiddenFor(m => m.PK_UserID)

            <div class="row">
                <div class="col-xs-12">
                    <table id="tableB" class="tableA" cellspacing="0" width="60%">
                        @*<table id="example" class="display" cellspacing="0" width="100%">*@
                        <thead>
                            <tr>

                                <th class="hidden">Id</th>
                                <th class="hidden">TrainingRecordId</th>
                                <th class="hidden">TrainingRecordId</th>
                                <th class="remove-search">Training Topic</th>
                                <th class="remove-search">Trainer Name</th>
                                @*<th>Trainee Name</th>*@
                                @*<th class="remove-search">Branch Name</th>*@
                                <th class="remove-search">External Trainer</th>
                                <th class="remove-search">Scope</th>
                                <th class="remove-search">Training Start Date</th>
                                @*<th class="remove-search">Training End Date</th>
                            <th class="remove-search">Training Start Time</th>
                            <th class="remove-search">Training End Time</th>*@
                                <th class="remove-search">Training Type</th>
                                <th class="remove-search">Venue</th>
                                <th class="remove-search">Link</th>
                                <th class="remove-search">Video File</th>
                                <th class="remove-search">Organiser Name</th>
                                <th class="remove-search">Mobile No.</th>

                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var b in ViewBag.TrainingList as IEnumerable<TuvVision.Models.TrainingScheduleModel>)
                            {
                                <tr>
                                    @*<td cRemarkslass="action-btn" style="text-align:center;">
                                    <a href="@Url.Action("GetQuiz", "Quiz", new { @sid = @b.PK_TrainingScheduleId ,@chkAtt = "AttChk"})" class="btn btn-info btn-xs" title="Quiz"><i class="fa fa-question"></i></a>
                                    <a href="@Url.Action("TrainingFeedBack", "TrainingSchedule", new { @fid = @b.PK_TrainingScheduleId ,@chkAtt = "AttChk"})" class="btn btn-info btn-xs" title="Feedback"><i class="fa fa-check"></i></a>
                                </td>*@
                                    <td class="hidden">@b.PK_TrainingScheduleId</td>
                                    <td class="hidden">@b.TrainingRecordId</td>
                                    <td class="hidden">@b.TrainingId</td>
                                    <td>@b.TrainingName</td>
                                    <td>@b.TrainerName</td>
                                    <td>@b.ExternalTrainer</td>
                                    <td>@b.Scope</td>
                                    <td>@b.TrainingStartDate</td>
                                    @*<td>@b.TrainingEndDate</td>
                                <td>@b.TrainingStartTime</td>
                                <td>@b.TrainingEndTime</td>*@
                                    <td>@b.TrainType</td>
                                    <td>@b.Venue</td>
                                    <td>
                                        @if (b.Link != "")
                                        {
                                            <a href="@b.Link" class="new-tab" target="_blank"><img src="~/View1.png" /></a>
                                        }


                                    </td>

                                    @if (b.TrainType.ToUpper() == "E-LEARNING")
                                    {

                                        <td align="center">
                                            @if (b.FileName != "")
                                            {
                                                <a onclick="window.open('@Url.Action("PlayVideo", "MisReport", new {@VideoFile=b.FileName })')"
                                                   id="btnView1" class="menu_links" align="center">
                                                    &nbsp;&nbsp;&nbsp;<img src="@Url.Content("~/View1.png")" />
                                                </a>
                                            }

                                        </td>
                                    }
                                    else
                                    {
                                        <td>@*@b.Venue*@</td>
                                    }

                                    <td>@b.CreatedBy</td>
                                    <td>@b.MobileNo</td>

                                </tr>
                            }
                        </tbody>

                    </table>

                </div>
            </div>



        </div><!-- /.container-fluid -->
        <!--End of header-->
    </div>
  <!--End of main content 3-->
}

