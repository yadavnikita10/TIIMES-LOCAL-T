@using TuvVision.Models;
@model TuvVision.Models.Users
@{
    ViewBag.Title = "CreateUser";
    Layout = "~/Views/Shared/_TuvVision.cshtml";

    int j = 0;
    int k = 0;
    int e = 0;
    int jpq = 0;
    List<string> EditProdName = ViewBag.EditproductName as List<string>;
}

<title>Users </title>
@*<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" crossorigin="anonymous"></script>*@
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" crossorigin="anonymous"></script>

<script src="~/AllJsAndCss/moment-precise-range.js"></script>


<!--  required libraries  -->
@*DATEPICKER*@

<script type="text/javascript" src="../../Scripts/jquery-1.5.1.min.js"></script>


@*DATEPICKER*@
@*<script src="https://code.jquery.com/jquery-1.10.2.js"></script>*@
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>


<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />


<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>




@*below two js for search inside dropdown*@
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

<!--filepond-->
<link href="~/AllJsAndCss/css/filepond.css" rel="stylesheet" />






@*Bootstrap Time Picker*@
@*<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/TimePicker/bootstrap-timepicker.css" rel="stylesheet" />
    <link href="~/TimePicker/MvcBootstrapTimepicker.css" rel="stylesheet" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/TimePicker/bootstrap-timepicker.js" type="text/javascript"></script>
    <script src="~/TimePicker/MvcBootstrapTimepicker.js" type="text/javascript"></script>*@

@*<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css" rel="stylesheet" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />*@

<script>
    $(document).ready(function () {

        $('#TYE').bind("cut copy paste", function (e) {
            e.preventDefault();
        });

        $('#TYEM').bind("cut copy paste", function (e) {
            e.preventDefault();
        });

        if ('@ViewBag.lstDOrderType' == null) {

            $('.CDegree').each(function () {
                $(this).css('display', 'block');
            });

            $('.CDiploma').each(function () {
                //    alert(1);
                $(this).css('display', 'none');
            });

            $('.CPGD').each(function () {
                $(this).css('display', 'none');
            });
        }


    });

    function AcceptSelNumber(obj) {

        if ($(obj).val() > 100) {

            $(obj).val('');
            return false;
            //    $(obj).val('100');
        }
    }



    $(function () {
        $(".dateofjoinings").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });


    function BindYearOfPassing() {
        $(".CYearOfPassing").datepicker({
            dateFormat: 'yy',//check change
            viewMode: "years",
            changeMonth: false,
            changeYear: true,
            yearRange: "-100:+50"

            //dateFormat: "yyyy",
            //viewMode: "years",
            //minViewMode: "years",
            //autoclose: true

        });
    }

    $(function () {
        $(".CYearOfPassing").datepicker({
            dateFormat: 'yy',//check change
            viewMode: "years",
            changeMonth: false,
            changeYear: true,
            yearRange: "-100:+50"

            //dateFormat: "yyyy",
            //viewMode: "years",
            //minViewMode: "years",
            //autoclose: true

        });
    });

    //$(".CYearOfPassing").datepicker({
    //    format: "yyyy",
    //    viewMode: "years",
    //    minViewMode: "years"
    //});

</script>
<script>

    function BindIssueDate() {

        $(".CCertIssueDate").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    }
    $(function () {
        $(".CCertIssueDate").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });

    $(function () {
        $(".ECertIssueDate").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });



    function BindValidDate() {
        $(".CCertValidTill").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    }
    $(function () {
        $(".CCertValidTill").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });


    $(function () {
        $(".OrgChangeDate").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });



    $(function () {
        $(".dateofbirths").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });


    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : evt.keyCode;


        if (String.fromCharCode(charCode).match(/[^0-9]/g))

            return false;

        /*  if (charCode != 46 && charCode > 31  && (charCode < 48 || charCode > 57))
              return false;*/


        return true;
    }

    function SiteDisplay(CAssign) {
        if (CAssign == "Site/fixed location Deputed at single vendor/customer location for inspection/QA activity.") {
            $("#divSiteDetails").css('display', 'block')
        }
        else { $("#divSiteDetails").css('display', 'none') }

    }

    function ChangeBranch(ValCostCentre) {

        $.ajax({
            type: "GET",
            url: "@Url.Action("CheckBranchDetails", "Users")",
            data: { ValCostCentre: ValCostCentre },
            dataType: "json",
            cache: false,
            success: function (res) {

                $('select[name="BrAuditeeName"] option[value="' + res[0].PKId + '"]').prop('selected', true);
                $('#BrAuditee').multiselect('refresh');
                $('#BrAuditee').siblings('.btn-group').find('ul.multiselect-container li').removeClass('active'); //if required than comment ===previous applyed all class remove

                $('#BrAuditee').siblings('.btn-group').find('ul.multiselect-container li').has('input[value="' + res[0].PKId + '"]').addClass('active');

                var EmpType = res[0].Employee_Type;
                separatedArray = EmpType.split(',');


                for (var i = 0; i < separatedArray.length; i++) {
                    $('select[name="AuditeeName"] option[value="' + separatedArray[i] + '"]').prop('selected', true);
                    $('#Auditee').multiselect('refresh');
                    $('#Auditee').siblings('.btn-group').find('ul.multiselect-container li').removeClass('active'); //if required than comment ===previous applyed all class remove

                    $('#Auditee').siblings('.btn-group').find('ul.multiselect-container li').has('input[value="' + separatedArray[i] + '"]').addClass('active');
                }

            },
            error: function (res) {
                alert(res.responseText);
            }
        });

    }


</script>
<style>
    .ui-widget-header {
        background: #001ED2 !important;
    }

    .ui-datepicker-month, .ui-datepicker-year {
        color: #333 !important;
    }
</style>

<style>
    .ui-widget-header {
        background: #001ED2 !important;
    }

    .ui-datepicker-month, .ui-datepicker-year {
        color: #333 !important;
    }
    /*-- Delete color-profile --*/
    ul.Attachment {
        padding-left: 0px;
        list-style: none;
        margin-bottom: 0px;
    }

        ul.Attachment > li {
            border: 1px solid #999;
            margin: 7px 5px 0 0;
            display: inline-block;
            padding: 0px 10px;
            background-color: #dfdfdf;
            color: #000;
        }

            ul.Attachment > li a.title {
                color: #000;
                vertical-align: text-bottom;
                text-transform: capitalize;
            }

            ul.Attachment > li a.deleteItem {
                color: white;
                font-size: 10px;
                background: #e91e1e;
                padding: 2px 4px;
                border-radius: 50%;
                vertical-align: text-top;
            }
    /*EndCode*/
    /*-- Delete color-profile --*/
    ul.AttachmentFormat {
        padding-left: 0px;
        list-style: none;
        margin-bottom: 0px;
    }

        ul.AttachmentFormat > li {
            border: 1px solid #999;
            margin: 7px 5px 0 0;
            display: inline-block;
            padding: 0px 10px;
            background-color: #dfdfdf;
            color: #000;
        }

            ul.AttachmentFormat > li a.title1 {
                color: #000;
                vertical-align: text-bottom;
                text-transform: capitalize;
            }

            ul.AttachmentFormat > li a.deleteItemFormat {
                color: white;
                font-size: 10px;
                background: #e91e1e;
                padding: 2px 4px;
                border-radius: 50%;
                vertical-align: text-top;
            }
    /*EndCode*/
</style>


@{
    List<string> EditSectorCode = ViewBag.EditSectorCode as List<string>;
    List<string> EditAnalystName = ViewBag.EditAnalystName as List<string>;
    string strFileName = string.Empty;
    string strPKId = string.Empty;
}

@using (Html.BeginForm())
{
    @Html.Hidden("PK_UserID")
    @Html.HiddenFor(m => m.PKId)
    @Html.HiddenFor(m => m.LoginUserRoleId)
    @Html.HiddenFor(m => m.UserPrimaryKey)
    @Html.HiddenFor(m => m.arrEducationQualification)
    @Html.HiddenFor(m => m.PK_UserID)
    @Html.HiddenFor(m => m.After7Days)

    @Html.AntiForgeryToken()
     <!--Start of main content 3-->
    <div class="grey-bg-f3">
        <!--Start of header-->
        <div class="container-fluid">
            <div class="row assignfixedwidth rp-5">

                <div class="col-xs-12 form-col">
                    <div class="row">

                        @*<div class="col-xs-12 text-right">
                                <a href="@Url.Action("UserDashBoard", "Users")" class="btn btn-info dynamic-function-btn"><i class="fa fa-long-arrow-left"></i> Go Back</a>
                            </div>*@

                        <div class="col-xs-12">
                            <div class="white-bg section-box-shadow">
                                @*<span>
                                        <strong>Notes </strong>
                                    </span>: 1) <span style="color:#E12F24;">*</span> - Mandatory.<br /> &nbsp;&nbsp;*@
                                @if (Model != null)
                                {
                                    if (Model.PK_UserID != "" && Model.PK_UserID != null)
                                    {
                                        <h3 class="form-page-title">Update User</h3>
                                    }
                                    else
                                    {
                                        <h3 class="form-page-title">Insert User</h3>
                                    }
                                }
                                else
                                {
                                    <h3 class="form-page-title">Insert User</h3>
                                }

                                <div class="row">
                                    <div class="col-xs-12 col-sm-offset-1 col-sm-10">
                                        <div class="form-box">
                                            <form>
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-9">
                                                        <span>
                                                            <strong style="color:#E12F24;">Notes </strong>
                                                        </span>: 1) <span style="color:#E12F24;font-size:20px;">*</span> - Mandatory For Domestic Users.<br />
                                                        <span>
                                                            <strong style="color:#E12F24;"></strong>
                                                        </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) <span style="color:#33EFD3;font-size:20px;">*</span> - Mandatory for International Users.<br />
                                                        <span>
                                                            <strong style="color:#E12F24;"></strong>
                                                        </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) <span style="color:#4AB248;font-size:20px;">*</span> - Required For Technical Competency.<br />
                                                        <span>
                                                            <strong style="color:#E12F24;"></strong>
                                                        </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4) <span style="color:#4AB248;font-size:20px;"></span> - Create CV Button will be visible only if all Mandatory Fields are filled.<br />

                                                        @if (Model.StrIData == null || Model.StrIData == string.Empty)
                                                        {
                                                            <span>
                                                                <strong style="color:#E12F24;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>5)
                                                            </span>
                                                            <span style="color:#4AB248;"></span>
                                                            <b>
                                                                <label style="color:red;">Please upload picture and signature in the upload document section shown at the bottom of this page.</label>
                                                            </b>
                                                        }
                                                        @*<label><u>Profile Photo</u></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            <label><u>Signature</u></label>*@
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <hr class="custom-hr1">
                                                        </div>
                                                    </div>
                                                    @*<div class="col-xs-12 col-sm-3">
                                                            <label><u>Signature</u></label>
                                                        </div>*@
                                                    <div class="col-xs-12 col-sm-9">

                                                        @if (Model.StrIData == null || Model.StrIData == string.Empty)
                                                        {
                                                            <img id="Profileimage" src="~/Content/SIGN/NoImage.jpg" height="75px" width="75px" />
                                                            @*<b><label style="color:red">Please upload picture and signature in upload document section shown on bottom section of this page</label></b>*@

                                                        }
                                                        else
                                                        {

                                                            @*<img src="data:image/jpg;base64,@Convert.ToBase64String(Model.IData)" height="75px" width="75px" />*@
                                                            <img id="Profileimage" src="~/content/Sign/@Model.StrIData.ToString()" height="75px" width="75px" />
                                                        }<br>
                                                        <label><u>Profile Photo</u></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;


                                                    </div>
                                                    @if (Model.LoginUserRoleId.ToString() == "61")
                                                    {
                                                        <div class="col-xs-12 col-sm-3">
                                                            @*Signature*@
                                                            @if (Model.StrSignatureData == null || Model.StrSignatureData == string.Empty)

                                                            {
                                                                <img src="~/Content/SIGN/NoImage.jpg" height="75px" width="75px" />

                                                            }
                                                            else
                                                            {

                                                                @*<img src="data:image/jpg;base64,@Convert.ToBase64String(Model.SignatureData)" height="75px" width="75px" />*@
                                                                <img src="~/content/Sign/@Model.StrSignatureData.ToString()" height="75px" width="75px" />
                                                            }
                                                            <br><label><u>Signature</u></label>
                                                        </div>
                                                    }
                                                    else if (Model.LoginUserRoleId.ToString() == "62")
                                                    {
                                                        <div class="col-xs-12 col-sm-3">
                                                            @*Signature*@
                                                            @if (Model.StrSignatureData == null || Model.StrSignatureData == string.Empty)

                                                            {
                                                                <img src="~/Content/SIGN/NoImage.jpg" height="75px" width="75px" />

                                                            }
                                                            else
                                                            {

                                                                @*<img src="data:image/jpg;base64,@Convert.ToBase64String(Model.SignatureData)" height="75px" width="75px" />*@
                                                                <img src="~/content/Sign/@Model.StrSignatureData.ToString()" height="75px" width="75px" />
                                                            }
                                                            <br><label><u>Signature</u></label>
                                                        </div>
                                                    }
                                                    else
                                                    {

                                                    }

                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <hr class="custom-hr1">
                                                    </div>
                                                </div>

                                                @if (Model.LoginUserRoleId.ToString() == "61")
                                                {
                                                    <div class="row" style="pointer-events:none;">
                                                        <div class="col-xs-12 col-sm-12">
                                                            <label><u style="color:#100ED2;">Title</u></label>
                                                        </div>
                                                        <div id="idFirstName">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>First Name:</label>
                                                                    @Html.TextBoxFor(model => model.FirstName, new { placeholder = "Enter First Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-3">
                                                            <div class="form-group">
                                                                <label>Middle Name (Father/Mother):</label>
                                                                @Html.TextBoxFor(model => model.MiddleName, new { placeholder = "Enter Middle Name", @class = "form-control form-control-custom" })
                                                                @Html.ValidationMessageFor(model => model.MiddleName, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div id="idLastName">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Last Name(Surname):@*<span style="color:#ff0000;">*</span>*@</label>
                                                                    @Html.TextBoxFor(model => model.LastName, new { placeholder = "Enter Last Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Display Name:@*<span style="color:#ff0000;">*</span>*@</label>
                                                                    @Html.TextBoxFor(model => model.DisplayName, new { placeholder = "Enter Display Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.DisplayName, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                }
                                                else if (Model.LoginUserRoleId.ToString() == "62")
                                                {
                                                    <div class="row" style="pointer-events:none;">
                                                        <div class="col-xs-12 col-sm-12">
                                                            <label><u style="color:#100ED2;">Title</u></label>
                                                        </div>
                                                        <div id="idFirstName">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>First Name:</label>
                                                                    @Html.TextBoxFor(model => model.FirstName, new { placeholder = "Enter First Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-3">
                                                            <div class="form-group">
                                                                <label>Middle Name (Father/Mother):</label>
                                                                @Html.TextBoxFor(model => model.MiddleName, new { placeholder = "Enter Middle Name", @class = "form-control form-control-custom" })
                                                                @Html.ValidationMessageFor(model => model.MiddleName, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div id="idLastName">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Last Name(Surname):@*<span style="color:#ff0000;">*</span>*@</label>
                                                                    @Html.TextBoxFor(model => model.LastName, new { placeholder = "Enter Last Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Display Name:@*<span style="color:#ff0000;">*</span>*@</label>
                                                                    @Html.TextBoxFor(model => model.DisplayName, new { placeholder = "Enter Display Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.DisplayName, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                }

                                                else
                                                {
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-12">
                                                            <label><u style="color:#100ED2;">Title</u></label>
                                                        </div>
                                                        <div id="idFirstName">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>First Name:</label>
                                                                    @Html.TextBoxFor(model => model.FirstName, new { placeholder = "Enter First Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-3">
                                                            <div class="form-group">
                                                                <label>Middle Name (Father/Mother):</label>
                                                                @Html.TextBoxFor(model => model.MiddleName, new { placeholder = "Enter Middle Name", @class = "form-control form-control-custom" })
                                                                @Html.ValidationMessageFor(model => model.MiddleName, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div id="idLastName">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Last Name(Surname):@*<span style="color:#ff0000;">*</span>*@</label>
                                                                    @Html.TextBoxFor(model => model.LastName, new { placeholder = "Enter Last Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Display Name:@*<span style="color:#ff0000;">*</span>*@</label>
                                                                    @Html.TextBoxFor(model => model.DisplayName, new { placeholder = "Enter Display Name", @class = "form-control form-control-custom" })
                                                                    @Html.ValidationMessageFor(model => model.DisplayName, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                }

                                                <div id="IdReadOnly">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <hr class="custom-hr1">
                                                        </div>
                                                    </div>


                                                    @if (Model.LoginUserRoleId.ToString() == "61")
                                                    {
                                                        <div class="row" style="pointer-events:none;">
                                                            <div class="col-xs-6">
                                                                <label><u style="color:#100ED2;"> Administrative </u></label>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="pointer-events:none;">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Date Of Joining:</label>
                                                                    @Html.TextBoxFor(model => model.DateOfJoining, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Date Of Joining", @class = "form-control form-control-custom dateofjoinings", autocomplete = "off" })
                                                                    @Html.ValidationMessageFor(model => model.DateOfJoining, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Branch:</label>


                                                                    <select id="BrAuditee" class="form-control form-multiselect-city" multiple="multiple" name="BrAuditeeName" placeholder="Select Option">
                                                                        @{
                                                                            foreach (var item in ViewData["BranchNameItems"] as IEnumerable<SelectListItem>)
                                                                            {

                                                                                if (ViewData["ListBranchchecked"] != null)
                                                                                {
                                                                                    if (Convert.ToString(ViewData["ListBranchchecked"]).Split(',').Contains(item.Value.ToString()))
                                                                                    {
                                                                                        <option selected="selected" value="@item.Value">@item.Text&nbsp; &nbsp;</option>

                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                }
                                                                            }
                                                                        }
                                                                    </select>

                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-2">
                                                                <div class="form-group">
                                                                    <label>International:</label>
                                                                    @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                    @Html.DropDownListFor(model => model.Dom_Inter, new List<SelectListItem>
                                                                     {
                                                                    //new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="NO", Value = "NO" },
                                                                     new SelectListItem{ Text="YES", Value = "YES" },



                                                           },

new { @class = "form-control", @id = "ddlDom_Inter" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">
                                                                    <label>Designation:</label>
                                                                    @Html.TextBoxFor(
                                                                                                model => model.Designation,
                                                                                                new
                                                                                                {
                                                                                                    placeholder = "Enter Designation",
                                                                                                    @class = "form-control form-control-custom",
                                                                                                    value = "Engineer - Inspection Services, India"
                                                                                                }
                                                                                            )

                                                                </div>
                                                            </div>



                                                        </div>
                                                            <div class="row">
                                                                <div class="col-xs-12">
                                                                    <hr class="custom-hr1">
                                                                </div>
                                                            </div>


                                                                            }
                                                                            else if (Model.LoginUserRoleId.ToString() == "62")
                                                                            {
                                                                                <div class="row" style="pointer-events:none;">
                                                                                    <div class="col-xs-6">
                                                                                        <label><u style="color:#100ED2;"> Administrative </u></label>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="row" style="pointer-events:none;">
                                                                                    <div class="col-xs-12 col-sm-3">
                                                                                        <div class="form-group">
                                                                                            <label>Date Of Joining:</label>
                                                                                            @Html.TextBoxFor(model => model.DateOfJoining, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Date Of Joining", @class = "form-control form-control-custom dateofjoinings", autocomplete = "off" })
                                                                                            @Html.ValidationMessageFor(model => model.DateOfJoining, "", new { @class = "text-danger" })
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-3">
                                                                                        <div class="form-group">
                                                                                            <label>Branch:</label>


                                                                                            <select id="BrAuditee" class="form-control form-multiselect-city" multiple="multiple" name="BrAuditeeName" placeholder="Select Option">
                                                                                                @{
                                                                                                    foreach (var item in ViewData["BranchNameItems"] as IEnumerable<SelectListItem>)
                                                                                                    {

                                                                                                        if (ViewData["ListBranchchecked"] != null)
                                                                                                        {
                                                                                                            if (Convert.ToString(ViewData["ListBranchchecked"]).Split(',').Contains(item.Value.ToString()))
                                                                                                            {
                                                                                                                <option selected="selected" value="@item.Value">@item.Text&nbsp; &nbsp;</option>

                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                                            }
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            </select>

                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="col-xs-12 col-sm-3">
                                                                                        <div class="form-group">
                                                                                            <label>Designation:</label>
                                                                                            @Html.TextBoxFor(
                                                                                                model => model.Designation,
                                                                                                new
                                                                                                {
                                                                                                    placeholder = "Enter Designation",
                                                                                                    @class = "form-control form-control-custom",
                                                                                                    value = string.IsNullOrEmpty(Model.Designation) ? "Engineer - Inspection Services, India" : Model.Designation
                                                                                                }
                                                                                            )

                                                                                        </div>
                                                                                    </div>


                                                                                </div>
                                                                                <div class="row">
                                                                                    <div class="col-xs-12">
                                                                                        <hr class="custom-hr1">
                                                                                    </div>
                                                                                </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="row">
                                                                                                            <div class="col-xs-6">
                                                                                                                <label><u style="color:#100ED2;"> Administrative </u></label>
                                                                                                            </div>
                                                                                                            <div id="IdHide2">


                                                                                                                <div class="col-xs-6 text-right">
                                                                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnViewHistory" style="margin-bottom:5px" title="Submit">View History</button>

                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        @*<div class="col-xs-12">
                                                                                                                <div class="col-xs-6">
                                                                                                                    <label><u> Administrative </u></label>
                                                                                                                </div>
                                                                                                                <div class="col-xs-6 text-right">
                                                                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnViewHistory" style="margin-bottom:5px" title="Submit">View History</button>

                                                                                                                </div>
                                                                                                            </div>*@

                                                                                                        <div class="row">
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>Date Of Joining:</label>
                                                                                                                    @Html.TextBoxFor(model => model.DateOfJoining, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Date Of Joining", @class = "form-control form-control-custom dateofjoinings", autocomplete = "off" })
                                                                                                                    @Html.ValidationMessageFor(model => model.DateOfJoining, "", new { @class = "text-danger" })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>Cost Centre:</label>
                                                                                                                    @if (ViewBag.SubCatlist != null)
                                                                                                                    {
                                                                                                                        @Html.DropDownListFor(m => m.CostCenter, ViewBag.SubCatlist as IEnumerable<SelectListItem>, "--Select Cost center--", new { @class = "form-control", @id = "Pk_CC_Id", })
                                                                                                                        @Html.ValidationMessageFor(model => model.CostCenter, "", new { @class = "text-danger validation-msg" })
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>Branch:</label>


                                                                                                                    <select id="BrAuditee" class="form-control form-multiselect-city" multiple="multiple" name="BrAuditeeName" placeholder="Select Option">
                                                                                                                        @{
                                                                                                                            foreach (var item in ViewData["BranchNameItems"] as IEnumerable<SelectListItem>)
                                                                                                                            {

                                                                                                                                if (ViewData["ListBranchchecked"] != null)
                                                                                                                                {
                                                                                                                                    if (Convert.ToString(ViewData["ListBranchchecked"]).Split(',').Contains(item.Value.ToString()))
                                                                                                                                    {
                                                                                                                                        <option selected="selected" value="@item.Value">@item.Text&nbsp; &nbsp;</option>

                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                    </select>

                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="col-xs-12 col-sm-3" id="IdEmploymentCate">
                                                                                                                <div class="form-group">
                                                                                                                    <label>Employment category:</label>
                                                                                                                    @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                                                                    @Html.DropDownListFor(m => m.EmployementCategory, new List<SelectListItem>
                                                                     {
                                                                     //new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     //new SelectListItem{ Text="Payroll", Value = "Payroll" },
                                                                     //new SelectListItem{ Text="Regular Contract", Value = "Regular Contract" },
                                                                     //new SelectListItem{ Text="Exclusive Contract with PF", Value = "Exclusive Contract with PF" },
                                                                     //new SelectListItem{ Text="Exclusive Contract", Value = "Exclusive Contract" },
                                                                    // new SelectListItem{ Text="Empanelled Direct", Value = "Empanelled Direct" },
                                                                    // new SelectListItem{ Text="Empanelled External", Value = "Empanelled External" },

																	 new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="Payroll", Value = "3" },
                                                                     new SelectListItem{ Text="Regular Contract", Value = "2" },
                                                                     new SelectListItem{ Text="Exclusive Contract with PF", Value = "5" },
                                                                     new SelectListItem{ Text="Exclusive Contract", Value = "1" },
                                                                     new SelectListItem{ Text="Empanelled Direct", Value = "10" },
                                                                     //new SelectListItem{ Text="Empanelled External", Value = "Empanelled External" },
                                                                     new SelectListItem{ Text="Empanelled Agency", Value = "11" },
                                                                     new SelectListItem{ Text="Exclusive Contract with PF-ICF", Value = "6" },


                                                           },

new { @class = "form-control", @id = "EC" })
                                                                                                                </div>
                                                                                                            </div>





                                                                                                        </div>
                                                                                                        <div class="row">
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>Employee Grade:</label>
                                                                                                                    @Html.DropDownListFor(model => model.EmployeeGradeId, new SelectList(@ViewBag.EmployeeGrade, "Code", "Name"), "---Select Title---", new { @id = "EGI", @class = "form-control" })

                                                                                                                    @Html.ValidationMessageFor(model => model.EmployeeGradeId, "", new { @class = "text-danger validation-msg", @id = "EGI" })


                                                                                                                </div>


                                                                                                            </div>
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>HR Employee Code:</label>
                                                                                                                    @Html.TextBoxFor(model => model.EmployeeCode, new { placeholder = "Enter Employee Code", @class = "form-control form-control-custom" })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>SAP Employee Code:</label>
                                                                                                                    @Html.TextBoxFor(model => model.SAPEmployeeCode, new { placeholder = "SAP Employee Code", @class = "form-control form-control-custom" })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-xs-12 col-sm-3">

                                                                                                                <div class="form-group">
                                                                                                                    <label>SAP Vendor Code:</label>
                                                                                                                    @Html.TextBoxFor(model => model.SAP_VendorCode, new { placeholder = "Enter SAP Vendor Code", @class = "form-control form-control-custom" })
                                                                                                                </div>

                                                                                                            </div>






                                                                                                        </div>

                                                                                                        <div class="row">
                                                                                                            @*<div class="col-xs-12 col-sm-4">
                                                                                                                    <div class="form-group">
                                                                                                                        <label>Reporting Person One (Manager): </label>
                                                                                                                        @Html.DropDownListFor(m => m.ReportingOne, (SelectList)ViewBag.Employees, "Select Reporting Person One", new { @class = "form-control form-control-custom-ddl", @id = "R1" })

                                                                                                                        @Html.ValidationMessageFor(model => model.ReportingOne, "", new { @class = "text-danger" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                                    <div class="form-group">
                                                                                                                        <label>Reporting Person Two (PCH):</label>
                                                                                                                        @Html.DropDownListFor(m => m.ReportingTwo, (SelectList)ViewBag.Employees, "Select Reporting person 2", new { @class = "form-control form-control-custom-ddl", @id = "R2" })

                                                                                                                    </div>
                                                                                                                </div>*@
                                                                                                            @*<div id="IdHide1">

                                                                                                                    <div class="col-xs-12 col-sm-4">
                                                                                                                        <div class="form-group">
                                                                                                                            <label>Eligible for OPE:</label>

                                                                                                                            @Html.DropDownListFor(m => m.OPE, new List<SelectListItem>
                                                                                                                             {
                                                                                                                            new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                                                             new SelectListItem{ Text="YES", Value = "YES" },
                                                                                                                             new SelectListItem{ Text="NO", Value = "NO" },


                                                                                                                   },

                                                                                                                             new { @class = "form-control", @id = "OPE" })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>*@
                                                                                                        </div>

                                                                                                        <div class="row">
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>Designation:</label>
                                                                                                                    @Html.TextBoxFor(model => model.Designation, new { placeholder = "Enter Designation", @class = "form-control form-control-custom" })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-xs-12 col-sm-3">
                                                                                                                <div class="form-group">
                                                                                                                    <label>TUVI Email ID:</label>
                                                                                                                    @Html.TextBoxFor(model => model.TuvEmailId, new { placeholder = "Enter TUV Email", @class = "form-control form-control-custom" })
                                                                                                                    @*@Html.ValidationMessageFor(model => model.TuvEmailId, "", new { @class = "text-danger" })*@
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div id="IdOrgChangeDateMain">

                                                                                                                <div class="col-xs-12 col-sm-3">
                                                                                                                    <div class="form-group">
                                                                                                                        <label>Organisational Change Date:</label>
                                                                                                                        @Html.TextBoxFor(model => model.OrgChangeDate, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Organisational Change Date", @class = "form-control form-control-custom OrgChangeDate", autocomplete = "off" })
                                                                                                                        @Html.ValidationMessageFor(model => model.OrgChangeDate, "", new { @class = "text-danger" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div id="IdHide3">
                                                                                                                <div class="col-xs-12 col-sm-3" id="HideFirstTime">
                                                                                                                    <div class="form-group">
                                                                                                                        <label>Reason for update:</label>
                                                                                                                        @Html.DropDownListFor(m => m.ReasonForUpdate, (SelectList)ViewBag.OrgChange, "Select Reason For Update", new { @class = "form-control form-control-custom-ddl", @id = "RFU" })
                                                                                                                        @Html.ValidationMessageFor(model => model.ReasonForUpdate, "", new { @class = "text-danger" })

                                                                                                                        @*@Html.DropDownListFor(m => m.ReasonForUpdate, new List<SelectListItem>
                                                                                                                                      {
                                                                                                                                     new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                                                                      new SelectListItem{ Text="Transfer To Other Branch", Value = "Transfer To Other Branch" },
                                                                                                                                      new SelectListItem{ Text="Promotion", Value = "Promotion" },
                                                                                                                                      new SelectListItem{ Text="Re-designation", Value = "Re-designation" },
                                                                                                                                      new SelectListItem{ Text="Organizational Change", Value = "Organizational Change" },
                                                                                                                                      new SelectListItem{ Text="Correction", Value = "Correction" },
                                                                                                                                     new SelectListItem{ Text="Left Organisation", Value = "Left Organisation" },


                                                                                                                            },

                                                                                                                                      new { @class = "form-control", @id = "RFU" })*@
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            @*</div>*@
                                                                                                        </div>

                                                                                                        @* Added By shrutika salve 10/08/2023
                                                                                                            </div>*@
                                                    if (Model.PK_UserID != "" && Model.PK_UserID != null)
                                                    {
                                                        <div class="row">
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Main Branch:</label>
                                                                    @Html.TextBoxFor(model => model.MainBranch, new { placeholder = "Main Branch", @class = "form-control form-control-custom" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>OBS Type:</label>
                                                                    @Html.TextBoxFor(model => model.OBSTYPE, new { placeholder = "OBS Type", @class = "form-control form-control-custom" })
                                                                    @*@Html.ValidationMessageFor(model => model.TuvEmailId, "", new { @class = "text-danger" })*@

                                                                    @*</div>*@
                                                                </div>
                                                            </div>

                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>PCH Name:</label>
                                                                    @*@Html.TextBoxFor(new { placeholder = "OBS Type", @class = "form-control form-control-custom",@id="txtpch"})*@
                                                                    @*@Html.ValidationMessageFor(model => model.TuvEmailId, "", new { @class = "text-danger" })*@

                                                                    <input type="text" class="form-control form-control-custom" id="txtpch" />
                                                                    @*</div>*@
                                                                </div>
                                                            </div>

                                                        </div>
                                                        }

                                                    }



                                                    @*</div>*@

                                                    @if (Model.LoginUserRoleId.ToString() == "61")
                                                    {
                                                    }
                                                    else if (Model.LoginUserRoleId.ToString() == "62")
                                                    {

                                                    }
                                                    else
                                                    {
                                                        <div class="row">
                                                            <div class="col-xs-12" id="divHistory" style="overflow:auto;width:99%;height:350px;display:none;">
                                                                <div class="row">
                                                                    <div class="col-xs-12">
                                                                        <hr class="custom-hr1">
                                                                    </div>
                                                                </div>

                                                                <table class="display dataTable no-footer" style="overflow-y:auto;width:350%" id="WOSummaryTable">
                                                                    <tr style="background-color:#f0f0f0">

                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Employee Grade</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Employee Code</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">SAP Vendor Code</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Status</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Role</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Designation</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Branch</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Employee Type</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Cost Center</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Tuv Email Id</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Reporting Person One</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Reporting Person Two</td>
                                                                        <td style="text-align:center;width:20px;font-size:smaller;">Locked Status</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">SAP Employee Code</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">OPE Eligible</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Employement Category</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Reason For Update</td>
                                                                        <td style="text-align:center;width:80px;font-size:smaller;">Org.Change Date</td>


                                                                    </tr>
                                                                    @if (Model.dtUserHistory != null && Model.dtUserHistory.Rows.Count != 0)
                                                                    {

                                                                        for (int cnt = 0; cnt < Model.dtUserHistory.Rows.Count; cnt++)
                                                                        {
                                                                            System.Data.DataRow row = Model.dtUserHistory.Rows[cnt];
                                                                            System.Data.DataRow prerow = cnt > 0 ? Model.dtUserHistory.Rows[cnt - 1] : null;


                                                                            <tr style="background-color:white">
                                                                                @for (int colcnt = 0; colcnt < Model.dtUserHistory.Columns.Count; colcnt++)
                                                                                {
                                                                                    if (prerow == null)
                                                                                    {
                                                                                        <td style="background-color:white; text-align:center;width:80px;font-size:smaller;">@row[colcnt]</td>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        if (row[colcnt].ToString() == prerow[colcnt].ToString())
                                                                                        {
                                                                                            <td style="background-color:white; text-align:center;width:80px;font-size:smaller;">@row[colcnt]</td>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <td style="background-color:#709eed;text-align:center;width:80px;font-size:smaller;">@row[colcnt]</td>
                                                                                        }
                                                                                    }
                                                                                }
                                                                            </tr>

                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <tr style="background-color:white">
                                                                            <td colspan="17" style="text-align:left;color:red; width:20px;font-size:smaller;">No History Available!</td>
                                                                        </tr>
                                                                    }

                                                                </table><br />


                                                            </div>


                                                        </div>

                                                        <div class="row">
                                                            <div class="col-xs-12">
                                                                <hr class="custom-hr1">
                                                            </div>
                                                        </div>



                                                        <div id="UserHide">
                                                            <label><u style="color:#100ED2;"> TIIMES </u></label>
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-3" style="pointer-events:none;">
                                                                    <div class="form-group">
                                                                        <label>UIN:</label>
                                                                        @*<input type="text" class="form-control" placeholder="Status Here">*@
                                                                        @Html.TextBoxFor(model => model.PK_UserID, new { @placeholder = "Enter UIN", @class = "form-control", @readonly = "readonly", @id = "txtpkuserid" })
                                                                        @Html.ValidationMessageFor(model => model.PK_UserID, "", new { @class = "text-danger validation-msg" })
                                                                    </div>
                                                                </div>
                                                                <div id="idUserName">
                                                                    <div class="col-xs-12 col-sm-3">
                                                                        <div class="form-group">
                                                                            <label>TIIMES User Name:</label>
                                                                            @Html.TextBoxFor(model => model.UserName, new { placeholder = "Enter User Name", @class = "form-control form-control-custom" })
                                                                            @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-3">
                                                                    <div class="form-group">
                                                                        <label> Role:</label>
                                                                        @{
                                                                            if (Model != null)
                                                                            {
                                                                                if (ViewBag.UserRole != null)
                                                                                {
                                                                                    @Html.DropDownListFor(model => model.UserRole, new SelectList(@ViewBag.UserRole, "Code", "Name"), "---Select User Type---", new { @id = "ddlUserName", @class = "form-control form-control-custom-ddl" })
                                                                                }
                                                                                else if (ViewData["RoleNameItems"] != null)
                                                                                {
                                                                                    @Html.DropDownListFor(model => model.UserRole, (IEnumerable<SelectListItem>)ViewData["RoleNameItems"], "---Select User Type---", new { @id = "ddlUserName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                                }
                                                                                else
                                                                                {
                                                                                    @Html.DropDownListFor(model => model.UserRole, new SelectList(@ViewBag.UserRole, "Code", "Name"), "---Select User Type---", new { @id = "ddlUserName", @class = "form-control form-control-custom-ddl" })
                                                                                }
                                                                            }

                                                                        }
                                                                    </div>
                                                                </div>

                                                                <div class="col-xs-12 col-sm-3" id="autoUpdate">
                                                                    <div class="form-group">
                                                                        @*<label>Employee Bifurcation :</label>*@
                                                                        <label>Portfolio Access :</label>
                                                                        <select id="Auditee" class="form-control form-multiselect-city" multiple="multiple" name="AuditeeName" placeholder="Select Option">
                                                                            @{
                                                                                foreach (var item in ViewData["ProjectTypeItems"] as IEnumerable<SelectListItem>)
                                                                                {

                                                                                    if (ViewData["ListPKSubJobChecked"] != null)
                                                                                    {
                                                                                        if (Convert.ToString(ViewData["ListPKSubJobChecked"]).Split(',').Contains(item.Value.ToString()))
                                                                                        {
                                                                                            <option selected="selected" value="@item.Value">@item.Text&nbsp; &nbsp;</option>

                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                    }
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>


                                                                </div>


                                                            </div>
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-2">

                                                                    <div class="form-group">
                                                                        <label>Status:</label>
                                                                        @if (Model.PK_UserID != "" && Model.PK_UserID != null)
                                                                        {
                                                                            if (Model.IsActive == true)
                                                                            {
                                                                                <select class="form-control" id="IsActive">
                                                                                    <option value="">---Select---</option>
                                                                                    <option value="1" selected>Active</option>
                                                                                    <option value="0">InActive</option>
                                                                                </select>

                                                                            }
                                                                            else if (Model.IsActive == false)
                                                                            {

                                                                                <select class="form-control" id="IsActive">
                                                                                    <option value="">---Select---</option>
                                                                                    <option value="1">Active</option>
                                                                                    <option value="0" selected>InActive</option>

                                                                                </select>
                                                                            }
                                                                        }
                                                                        else
                                                                        {

                                                                            <select class="form-control" id="IsActive">
                                                                                <option value="">---Select---</option>
                                                                                <option value="1" selected>Active</option>
                                                                                <option value="0">InActive</option>
                                                                            </select>

                                                                        }

                                                                    </div>



                                                                </div>
                                                                <div class="col-xs-12 col-sm-2">
                                                                    <div class="form-group">
                                                                        <label for="InActive" style="color:red;">Profile Locked:</label>

                                                                        @if (Model.PK_UserID != "" && Model.PK_UserID != null)






                                                                        {
                                                                            if (Model.IsLocked == true)

                                                                            {




                                                                                <select class="form-control" id="IsLocked">
                                                                                    <option value="">---Select---</option>
                                                                                    <option value="YES" selected>YES</option>
                                                                                    <option value="NO">NO</option>

                                                                                </select>

                                                                            }
                                                                            else if (Model.IsLocked == false)
                                                                            {

                                                                                <select class="form-control" id="IsLocked">
                                                                                    <option value="">---Select---</option>
                                                                                    <option value="YES">YES</option>
                                                                                    <option value="NO" selected>NO</option>

                                                                                </select>


                                                                            }
                                                                        }
                                                                        else
                                                                        {

                                                                            <select class="form-control" id="IsLocked">
                                                                                <option value="">---Select---</option>
                                                                                <option value="YES">YES</option>
                                                                                <option value="NO" selected>NO</option>
                                                                            </select>

                                                                        }
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-2">
                                                                    <div class="form-group">
                                                                        <label>PQS:</label>
                                                                        @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                        @Html.DropDownListFor(model => model.specialservices, new List<SelectListItem>
                                                                     {
                                                                    //new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="NO", Value = "NO" },
                                                                     new SelectListItem{ Text="YES", Value = "YES" },



                                                           },

new { @class = "form-control", @id = "ddlspecialservice" })
                                                                    </div>
                                                                </div>

                                                                @*added on 06122024*@
                                                                <div class="col-xs-12 col-sm-2">
                                                                    <div class="form-group">
                                                                        <label>International:</label>
                                                                        @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                        @Html.DropDownListFor(model => model.Dom_Inter, new List<SelectListItem>
                                                                     {
                                                                    //new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="NO", Value = "NO" },
                                                                     new SelectListItem{ Text="YES", Value = "YES" },



                                                           },

new { @class = "form-control", @id = "ddlDom_Inter" })
                                                                    </div>
                                                                </div>



                                                                <div class="col-xs-12 col-sm-2">
                                                                    <div class="form-group">
                                                                        <label>LPG Cylinder:</label>
                                                                        @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                        @Html.DropDownListFor(model => model.LpgGasCylinder, new List<SelectListItem>
                                                                     {
                                                                    //new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="NO", Value = "NO" },
                                                                     new SelectListItem{ Text="YES", Value = "YES" },



                                                           },

new { @class = "form-control", @id = "LpgGasCylinder" })
                                                                    </div>
                                                                </div>



                                                                <div id="IdHide1">

                                                                    <div class="col-xs-12 col-sm-2">
                                                                        <div class="form-group">
                                                                            <label>Eligible for OPE:<span style="color:#E12F24;">*</span></label>
                                                                            @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                            @Html.DropDownListFor(m => m.OPE, new List<SelectListItem>
                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="YES", Value = "YES" },
                                                                     new SelectListItem{ Text="NO", Value = "NO" },


                                                           },

new { @class = "form-control", @id = "OPE" })
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                @*nikita on 12032025*@
                                                                @*@if (Model.LoginUserRoleId.ToString() == "36")
                                                                    {
                                                                    <div class="col-xs-12 col-sm-2">
                                                                        <div class="form-group">
                                                                            <label>S1 Check:</label>
                                                                            @Html.DropDownListFor(model => model.S1Check, new List<SelectListItem>
                                                                         {
                                                                         new SelectListItem{ Text="NO", Value = "0" },
                                                                         new SelectListItem{ Text="YES", Value = "1" },
                                                                         },
                                                                          new { @class = "form-control", @id = "S1Check" })
                                                                        </div>
                                                                    </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="col-xs-12 col-sm-2" style="pointer-events:none;">
                                                                            <div class="form-group">
                                                                                <label>S1 Check:</label>
                                                                                @Html.DropDownListFor(model => model.S1Check, new List<SelectListItem>
                                                                         {
                                                                         new SelectListItem{ Text="NO", Value = "NO" },
                                                                         new SelectListItem{ Text="YES", Value = "YES" },
                                                                         },
                                                                         new { @class = "form-control", @id = "S1Check" })
                                                                            </div>
                                                                        </div>
                                                                    }*@
                                                                @if (Model.LoginUserRoleId.ToString() == "36")
                                                                {
                                                                    <div class="col-xs-12 col-sm-2">
                                                                        <div class="form-group">
                                                                            <label>IBR competent:</label>
                                                                            @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                            @Html.DropDownListFor(model => model.IBRcompetent, new List<SelectListItem>
                                                                     {
                                                                    //new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="NO", Value = "0" },
                                                                     new SelectListItem{ Text="YES", Value = "1" },
                                                                     },
                                                                      new { @class = "form-control", @id = "IBRcompetent" })
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="col-xs-12 col-sm-2" style="pointer-events:none;">
                                                                        <div class="form-group">
                                                                            <label>IBR competent:</label>
                                                                            @Html.DropDownListFor(model => model.IBRcompetent, new List<SelectListItem>
                                                                     {
                                                                     new SelectListItem{ Text="NO", Value = "0" },
                                                                     new SelectListItem{ Text="YES", Value = "1" },
                                                                     },
                                                                     new { @class = "form-control", @id = "IBRcompetent" })
                                                                        </div>
                                                                    </div>
                                                                }

                                                                <div class="row">
                                                                    <div class="col-xs-12">
                                                                        <hr class="custom-hr1">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                                                }
                                                </div>

                                                @*</div>*@


                                                <label style="color:#100ED2;"><u style="color:#100ED2;">Personal Details</u></label>
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">
                                                            <label>Date of Birth:<span style="color:#E12F24;">*</span><span style="color:#33EFD3;">*</span><span style="color:#4AB248;">*</span></label>
                                                            @Html.TextBoxFor(model => model.DOB, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Date Of Birth", @class = "form-control form-control-custom dateofbirths", autocomplete = "off" })
                                                            @Html.ValidationMessageFor(model => model.DOB, "", new { @class = "text-danger" })

                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-6" style="pointer-events:none;">
                                                        <div class="form-group">
                                                            <label>Age:</label>
                                                            @Html.TextBoxFor(model => model.AgeCalculator, new { @placeholder = "Age", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.AgeCalculator, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">
                                                            <label>PF-UAN Number</label>
                                                            @Html.TextBoxFor(model => model.PFUANNumber, new { @placeholder = "PF UAN Number", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.PFUANNumber, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>PAN:<span style="color:#E12F24;">*</span></label>
                                                            @*<input type="text" class="form-control" placeholder="Status Here">*@
                                                            @Html.TextBoxFor(model => model.PanNo, new { @placeholder = "Enter PAN No", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.PanNo, "", new { @class = "text-danger validation-msg" })
                                                        </div>

                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Aadhar Number:</label>
                                                            @*<input type="text" class="form-control" placeholder="Status Here">*@
                                                            @Html.TextBoxFor(model => model.AadharNo, new { @placeholder = "Enter Aadhar No", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.AadharNo, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Personal Email ID:<span style="color:#E12F24;">*</span></label>
                                                            @Html.TextBoxFor(model => model.EmailID, new { placeholder = "Enter Personal Email ID", @class = "form-control form-control-custom" })
                                                            @Html.ValidationMessageFor(model => model.EmailID, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="row">

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">
                                                            <label>Mobile Number:<span style="color:#E12F24;">*</span></label>
                                                            @Html.TextBoxFor(model => model.MobileNo, new { placeholder = "Enter Mobile Number", @class = "form-control form-control-custom" })
                                                            @Html.ValidationMessageFor(model => model.MobileNo, "", new { @class = "text-danger", @onkeypress = "return isNumberKey(event);" })

                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">
                                                            <label>Emergency Contact Number.:<span style="color:#E12F24;">*</span></label>
                                                            @*<input type="text" class="form-control" placeholder="Status Here">*@
                                                            @Html.TextBoxFor(model => model.EmergencyMobile_No, new { @placeholder = "Enter Emergency Mobile Number", @class = "form-control", @onkeypress = "return isNumberKey(event);" })
                                                            @Html.ValidationMessageFor(model => model.EmergencyMobile_No, "", new { @class = "text-danger validation-msg" })

                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">
                                                            <label>Residence Number:</label>
                                                            @Html.TextBoxFor(model => model.ResidenceNo, new { placeholder = "Enter Residence Number", @class = "form-control form-control-custom", @onkeypress = "return isNumberKey(event);" })
                                                            @Html.ValidationMessageFor(model => model.ResidenceNo, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">
                                                            <label>TUVI Landline Number:</label>
                                                            @Html.TextBoxFor(model => model.OfficeNo, new { placeholder = "Enter Office Number", @class = "form-control form-control-custom", @onkeypress = "return isNumberKey(event);" })
                                                            @Html.ValidationMessageFor(model => model.OfficeNo, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>

                                                </div>


                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label>Residing Address:<span style="color:#E12F24;">*</span></label>

                                                            @Html.TextAreaFor(model => model.Address1, new { placeholder = "Enter Residing Address", @class = "form-control", @rows = "4" })


                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label>Permanent Address:<span style="color:#E12F24;">*</span></label>

                                                            @Html.TextAreaFor(model => model.Address2, new { placeholder = "Enter Permanent Address ", @class = "form-control", @rows = "4" })


                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            @*<label>Residing Address ZIP Code:</label>*@
                                                            <label>Residing Address PIN code:<span style="color:#E12F24;">*</span></label>
                                                            @Html.TextBoxFor(model => model.ZipCode, new { placeholder = "Enter Residing Address PIN code", @class = "form-control form-control-custom CPIN", @onkeypress = "return isNumberKey(event);" })
                                                            @Html.ValidationMessageFor(model => model.ZipCode, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            @*<label>Residing Address ZIP Code:</label>*@
                                                            <label>Permanent address PIN Code:<span style="color:#E12F24;">*</span></label>
                                                            @Html.TextBoxFor(model => model.PermanantPin, new { placeholder = "Enter Permanent address PIN Code", @class = "form-control form-control-custom CPIN", @onkeypress = "return isNumberKey(event);" })
                                                            @Html.ValidationMessageFor(model => model.PermanantPin, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>

                                                    @if (Model.LoginUserRoleId.ToString() == "36")
                                                    {
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                @*<label>Residing Address ZIP Code:</label>*@
                                                                <label>CBB Authorisation Number :</label>
                                                                @Html.TextBoxFor(model => model.CBBAuthorisationNumber, new { placeholder = "Enter CBB Authorisation Number ", @class = "form-control form-control-custom CBBAuthorisationNumber " })
                                                                @Html.ValidationMessageFor(model => model.CBBAuthorisationNumber, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    }
                                                    else
                                                    {
                                                        <div class="col-xs-12 col-sm-4" style="pointer-events:none;">
                                                            <div class="form-group">
                                                                @*<label>Residing Address ZIP Code:</label>*@
                                                                <label>CBB Authorisation Number :</label>
                                                                @Html.TextBoxFor(model => model.CBBAuthorisationNumber, new { placeholder = "Enter CBB Authorisation Number ", @class = "form-control form-control-custom CBBAuthorisationNumber " })
                                                                @Html.ValidationMessageFor(model => model.CBBAuthorisationNumber, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    }
                                                </div>




                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Gender:<span style="color:#E12F24;">*</span><span style="color:#33EFD3;">*</span></label>


                                                            @Html.DropDownListFor(m => m.Gender, new List<SelectListItem>

                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="Male", Value = "Male" },
                                                                     new SelectListItem{ Text="Female", Value = "Female" },
                                                                     new SelectListItem{ Text="Non-binary", Value = "Non-binary" },
                                                                     new SelectListItem{ Text="Transgender", Value = "Transgender" },
                                                                     new SelectListItem{ Text="Intersex", Value = "Intersex" },
                                                           },

new { @class = "form-control", @id = "Gender" })
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Marital Status:<span style="color:#E12F24;">*</span><span style="color:#33EFD3;">*</span></label>

                                                            @*@Html.TextBoxFor(model => model.Marital_Status, new { @placeholder = "Enter Marital Status", @class = "form-control" })
                                                                @Html.ValidationMessageFor(model => model.Marital_Status, "", new { @class = "text-danger validation-msg" })*@
                                                            @Html.DropDownListFor(m => m.Marital_Status, new List<SelectListItem>
                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="Single", Value = "Single" },
                                                                     new SelectListItem{ Text="Married", Value = "Married" },
                                                                     new SelectListItem{ Text="Divorced", Value = "Divorced" },
                                                                     new SelectListItem{ Text="Widowed", Value = "Widowed" },


                                                           },

new { @class = "form-control", @id = "Marital_Status" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Language Known:<span style="color:#E12F24;">*</span><span style="color:#33EFD3;">*</span></label>
                                                            <select id="LangAuditee" class="form-control form-multiselect-city" multiple="multiple" name="LangAuditee" placeholder="Select Option">
                                                                @{
                                                                    foreach (var item in ViewData["LangNameItems"] as IEnumerable<SelectListItem>)
                                                                    {

                                                                        if (ViewData["ListBranchchecked"] != null)
                                                                        {
                                                                            if (Convert.ToString(ViewData["ListLangchecked"]).Split(',').Contains(item.Value.ToString()))
                                                                            {
                                                                                <option selected="selected" value="@item.Value">@item.Text&nbsp; &nbsp;</option>

                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                        }
                                                                    }
                                                                }
                                                            </select>

                                                        </div>
                                                    </div>










                                                </div>













                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Blood Group:<span style="color:#E12F24;">*</span></label>

                                                            @Html.DropDownListFor(m => m.BloodGroup, new List<SelectListItem>
                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="A-positive (A+)", Value = "A-positive (A+)" },
                                                                     new SelectListItem{ Text="A-negative (A-)", Value = "A-negative (A-)" },
                                                                     new SelectListItem{ Text="B-positive (B+)", Value = "B-positive (B+)" },
                                                                     new SelectListItem{ Text="B-negative (B-)", Value = "B-negative (B-)" },
                                                                     new SelectListItem{ Text="AB-positive (AB+)", Value = "AB-positive (AB+)" },
                                                                     new SelectListItem{ Text="AB-negative (AB-)", Value = "AB-negative (AB-)" },
                                                                     new SelectListItem{ Text="O-positive (O+)", Value = "O-positive (O+)" },
                                                                     new SelectListItem{ Text="O-negative (O-)", Value = "O-negative (O-)" },


                                                           },

new { @class = "form-control", @id = "BG" })
                                                            @Html.ValidationMessageFor(model => model.BloodGroup, "", new { @class = "text-danger validation-msg" })







                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Shirt Size :<span style="color:#E12F24;">*</span></label>

                                                            @Html.DropDownListFor(m => m.ShirtSize, new List<SelectListItem>
                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="38 - XS", Value = "38 - XS" },
                                                                     new SelectListItem{ Text="39 - S", Value = "39 - S" },
                                                                     new SelectListItem{ Text="40 - M", Value = "40 - M" },
                                                                     new SelectListItem{ Text="41 - M", Value = "41 - M" },
                                                                     new SelectListItem{ Text="42 - L", Value = "42 - L" },
                                                                     new SelectListItem{ Text="43 - L", Value = "43 - L" },
                                                                     new SelectListItem{ Text="44 - XL", Value = "44 - XL" },
                                                                     new SelectListItem{ Text="45 - XL", Value = "45 - XL" },
                                                                     new SelectListItem{ Text="46 - XXL", Value = "46 - XXL" },
                                                                     new SelectListItem{ Text="47 - XXL", Value = "47 - XXL" },
                                                                     new SelectListItem{ Text="48 - XXXL", Value = "48 - XXXL" },



                                                           },


new { @class = "form-control", @id = "ShirtSize" })
                                                            @Html.ValidationMessageFor(model => model.ShirtSize, "", new { @class = "text-danger validation-msg" })

                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Shoes Size:<span style="color:#E12F24;">*</span></label>

                                                            @Html.DropDownListFor(m => m.ShoesSize, new List<SelectListItem>
                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="5.5 - 23.5 CM", Value = "5.5 - 23.5 CM" },
                                                                     new SelectListItem{ Text="6 - 24.1 CM", Value = "6 - 24.1 CM" },
                                                                     new SelectListItem{ Text="6.5 - 24.4 CM", Value = "6.5 - 24.4 CM" },
                                                                     new SelectListItem{ Text="7 - 24.8 CM", Value = "7 - 24.8 CM" },
                                                                     new SelectListItem{ Text="7.5 - 25.4 CM", Value = "7.5 - 25.4 CM" },
                                                                     new SelectListItem{ Text="8 - 25.7 CM", Value = "8 - 25.7 CM" },
                                                                     new SelectListItem{ Text="8.5 - 26 CM", Value = "8.5 - 26 CM" },
                                                                     new SelectListItem{ Text="9 - 26.7 CM", Value = "9 - 26.7 CM" },
                                                                     new SelectListItem{ Text="9.5 - 27 CM", Value = "9.5 - 27 CM" },
                                                                     new SelectListItem{ Text="10 - 27.3 CM", Value = "10 - 27.3 CM" },
                                                                     new SelectListItem{ Text="10.5 - 27.9 CM", Value = "10.5 - 27.9 CM" },
                                                                     new SelectListItem{ Text="11 - 28.3 CM", Value = "11 - 28.3 CM" },
                                                                     new SelectListItem{ Text="11.5 - 28.6 CM", Value = "11.5 - 28.6 CM" },
                                                                     new SelectListItem{ Text="12.5 - 29.4 CM", Value = "12.5 - 29.4 CM" },
                                                                     new SelectListItem{ Text="13.5 - 30.2 CM", Value = "13.5 - 30.2 CM" },
                                                                     new SelectListItem{ Text="14.5 - 31 CM", Value = "14.5 - 31 CM" },
                                                                     new SelectListItem{ Text="15.5 - 31.8 CM", Value = "15.5 - 31.8 CM" },

                                                           },

new { @class = "form-control", @id = "ShoesSize" })
                                                            @Html.ValidationMessageFor(model => model.ShoesSize, "", new { @class = "text-danger validation-msg" })

                                                        </div>
                                                    </div>






                                                </div>

                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label>Medical History:</label>

                                                            @Html.TextBoxFor(model => model.Medical_History, new { @placeholder = "Enter Medical History", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.Medical_History, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label>Allergies:</label>

                                                            @Html.TextBoxFor(model => model.Allergies, new { @placeholder = "Enter Allergies (if any) ", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.Allergies, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>


                                                </div>
                                                <label>Experience before Joining TUVI In @*In Years E.g.(02:05)(YY:MM):*@</label>
                                                <div class="row">

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">

                                                            <label>Years and:<span style="color:#E12F24;font-size:20px;">*</span><span style="color:#33EFD3;font-size:20px;">*</span><span style="color:#4AB248;font-size:20px;">*</span></label>


                                                            @Html.TextBoxFor(model => model.TotalyearofExprience, new { @placeholder = "", @class = "form-control CTYE", @id = "TYE", @onkeypress = "return isNumberKey(event);" })
                                                            @*@Html.TextBoxFor(model => model.ExperienceInMonth, new { @placeholder = "Month ", @class = "form-control", @id = "TYEM", @onkeypress = "return isNumberKey(event);" })*@
                                                            @Html.ValidationMessageFor(model => model.TotalyearofExprience, "", new { @class = "text-danger validation-msg" })

                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">

                                                            <label>Months:<span style="color:#E12F24;font-size:20px;">*</span><span style="color:#33EFD3;font-size:20px;">*</span><span style="color:#4AB248;font-size:20px;">*</span></label>

                                                            @Html.TextBoxFor(model => model.ExperienceInMonth, new { @placeholder = "", @class = "form-control", @id = "TYEM", @onkeypress = "return isNumberKey(event);" })
                                                            @Html.ValidationMessageFor(model => model.ExperienceInMonth, "", new { @class = "text-danger validation-msg" })

                                                        </div>
                                                    </div>
                                                    @*Added by Adesh Sawant on 12-08-2025*@
                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="form-group">

                                                            <label>Experience with TUV:<span style="color:#E12F24;font-size:20px;"></span></label>

                                                            @Html.TextBoxFor(model => model.ExperienceWithTUV, new { @placeholder = "", @class = "form-control", @id = "TYEM", @onkeypress = "return isNumberKey(event);" })
                                                            @*@Html.ValidationMessageFor(model => model.ExperienceInMonth, "", new { @class = "text-danger validation-msg" })*@

                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-3" style="pointer-events:none;">
                                                        <div class="form-group">

                                                            <label>Total Experience:<span style="color:#E12F24;font-size:20px;"></span></label>

                                                            @Html.TextBoxFor(model => model.DynamicCalTotalYearExp, new { @placeholder = " ", @class = "form-control", @id = "DynamicCalTotalYearExp", @onkeypress = "return isNumberKey(event);" })
                                                            @Html.ValidationMessageFor(model => model.DynamicCalTotalYearExp, "", new { @class = "text-danger validation-msg" })

                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>TUVI Stamp No:</label>

                                                            @*@Html.TextBoxFor(model => model.TUVIStampNo, new { @placeholder = "Enter Stamp No", @class = "form-control", @onkeypress = "return isNumberKey(event);" })*@
                                                            @Html.TextBoxFor(model => model.TUVIStampNo, new
                                                       {
                                                           @placeholder = "Enter Stamp No",
                                                           @class = "form-control",
                                                           @onkeypress = "return isAlphaNumeric(event);",
                                                           @maxlength = "5"  // restrict input to 4 characters
                                                       })
                                                            @Html.ValidationMessageFor(model => model.TUVIStampNo, "", new { @class = "text-danger validation-msg" })


                                                            @Html.ValidationMessageFor(model => model.TUVIStampNo, "", new { @class = "text-danger validation-msg" })

                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-8">
                                                        <div class="form-group">
                                                            <label>Can inspect below item (Self declaration by inspectors):</label>
                                                            <select id="IdItemToBeInspected" class="form-control form-multiselect-city" multiple="multiple" name="IdItemToBeInspected" placeholder="Select Option">
                                                                @{
                                                                    foreach (var item in ViewData["AllItemToBeInspected"] as IEnumerable<SelectListItem>)
                                                                    {

                                                                        if (ViewData["ListBranchchecked"] != null)
                                                                        {

                                                                            if (Convert.ToString(ViewData["ListItemToBeInspectedchecked"]).Split(',').Contains(item.Value.ToString()))
                                                                            {
                                                                                <option selected="selected" value="@item.Value">@item.Text&nbsp; &nbsp;</option>

                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                        }
                                                                    }
                                                                }
                                                            </select>

                                                        </div>
                                                    </div>
                                                </div>

                                                @if (Model.LoginUserRoleId.ToString() == "61" || Model.LoginUserRoleId.ToString() == "62")
                                                {
                                                }

                                                else
                                                {
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6">
                                                            <div class="form-group">
                                                                <label>Current Assignments:<span style="color:#E12F24;">*</span></label>
                                                                @*@Html.TextBoxFor(model => model.OPE, new { placeholder = "Enter OPE", @class = "form-control form-control-custom" })*@
                                                                @Html.DropDownListFor(m => m.CurrentAssignment, new List<SelectListItem>
                                                {
                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                    //new SelectListItem{ Text="Regional – Inspection at different vendor locations", Value = "Regional – Inspection at different vendor locations" },
                                                    //new SelectListItem{ Text="Site – Deputed on Man Month Basis at Client / vendor location", Value = "Site – Deputed on Man Month Basis at Client / vendor location" },
                                                    //new SelectListItem{ Text="Office – Working from office", Value = "Office – Working from office" },
                                                    //new SelectListItem{ Text="Regional & Office – Marketing and customer visits / Inspection at vendor location", Value = "Regional & Office – Marketing and customer visits / Inspection at vendor location" },
                                                    new SelectListItem{ Text="Regional - Daily inspection at different location.", Value = "Regional - Daily inspection at different location." },
                                                    new SelectListItem{ Text="Site/fixed location Deputed at single vendor/customer location for inspection/QA activity.", Value = "Site/fixed location Deputed at single vendor/customer location for inspection/QA activity." },
                                                    new SelectListItem{ Text="Office - Major work performed from office (Coodinators/Managers/PCH)", Value = "Office - Major work performed from office (Coodinators/Managers/PCH)" },
                                                    new SelectListItem{ Text="Marketing - Marketing On-Site/off-Site", Value = "Marketing - Marketing On-Site/off-Site" },
                                                    new SelectListItem{ Text="QA - Quality Assurance", Value = "QA - Quality Assurance" },
                                                    new SelectListItem{ Text="ASME/PED/Special assignments", Value = "ASME/PED/Special assignments" },
                                                },

new { @class = "form-control", @id = "CA", @onchange = "SiteDisplay(this.value);" })
                                                            </div>
                                                        </div>

                                                        <div class="col-xs-12 col-sm-3">
                                                            <div class="form-group">
                                                                <label>
                                                                    NDT Qualification Roll No:
                                                                    @*<span style="color:#E12F24;font-size:20px;">*</span>
                                                                        <span style="color:#33EFD3;font-size:20px;">*</span>
                                                                        <span style="color:#4AB248;font-size:20px;">*</span>*@
                                                                </label>
                                                                @if (Model.LoginUserRoleId.ToString() == "36")
                                                                {

                                                                    @Html.TextBoxFor(model => model.EmpRollNo, new { @placeholder = "Enter Roll No", @class = "form-control", @id = "EmpRollNo" })

                                                                }
                                                                else
                                                                {
                                                                    @Html.TextBoxFor(model => model.EmpRollNo, new { @placeholder = "Enter Roll No", @class = "form-control", @id = "EmpRollNo", @readonly = "readonly" })
                                                                }
                                                                @Html.ValidationMessageFor(model => model.EmpRollNo, "", new { @class = "text-danger validation-msg" })
                                                            </div>
                                                        </div>


                                                        <div id="divSiteDetails" style="display:none;">
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">

                                                                    <label>Customer/vendor name:</label>


                                                                    @*<input type="text" class="form-control" placeholder="Phone Here">*@
                                                                    @Html.TextBoxFor(model => model.SiteDetail, new { @placeholder = "Site Detail", @class = "form-control" })
                                                                    @Html.ValidationMessageFor(model => model.TotalyearofExprience, "", new { @class = "text-danger validation-msg" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-3">
                                                                <div class="form-group">

                                                                    <label>Site Pin Code:</label>


                                                                    @*<input type="text" class="form-control" placeholder="Phone Here">*@
                                                                    @Html.TextBoxFor(model => model.SitePin, new { @placeholder = "Site Pin Code", @class = "form-control" })
                                                                    @Html.ValidationMessageFor(model => model.TotalyearofExprience, "", new { @class = "text-danger validation-msg" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                                @*Added  by shrutika salve 28022024*@
                                                <div class="row">
                                                    @*<div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label> Core Field of Study:<span style="color:#E12F24;font-size:20px;">*</span><span style="color:#33EFD3;font-size:20px;">*</span><span style="color:#4AB248;font-size:20px;">*</span></label>
                                                                @{
                                                                    if (Model != null)
                                                                    {
                                                                        if (ViewBag.CoreField != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.CoreField, new SelectList(@ViewBag.CoreField), "---Select---", new { @id = "ddlCoreStudy", @class = "form-control form-control-custom-ddl" })
                                                                        }
                                                                        else if (ViewData["item2"] != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.CoreField, (IEnumerable<SelectListItem>)ViewData["item2"], "---Select---", new { @id = "ddlCoreStudy", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.DropDownListFor(model => model.CoreField, new SelectList(@ViewBag.CoreField, "Code", "Name"), "---Select---", new { @id = "ddlCoreStudy", @class = "form-control form-control-custom-ddl" })
                                                                        }
                                                                    }

                                                                }
                                                            </div>
                                                        </div>*@

                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label> Core Field of Study:<span style="color:#E12F24;font-size:20px;">*</span><span style="color:#33EFD3;font-size:20px;">*</span><span style="color:#4AB248;font-size:20px;">*</span></label>
                                                            @{

                                                                <select id="ddlCoreStudy" class="form-control" name="ddlCoreStudy" placeholder="Select Option">
                                                                    @{
                                                                        @*<option selected="selected" value="---Select---">---Select---</option>*@
                                                                        <option selected="selected" value="">---Select---</option>
                                                                        foreach (var item in ViewData["item2"] as IEnumerable<SelectListItem>)
                                                                        {

                                                                            if (Model != null)
                                                                            {

                                                                                if (Model.CoreField == item.Value)
                                                                                {
                                                                                    <option selected="selected" value="@item.Value">@item.Text&nbsp; &nbsp;</option>

                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                            }
                                                                        }
                                                                    }
                                                                </select>


                                                            }
                                                        </div>
                                                    </div>



                                                    @*added by nikita*@
                                                    @*<div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>
                                                                    Nationality:
                                                                    <span style="color:#E12F24;font-size:20px;">*</span>
                                                                    <span style="color:#33EFD3;font-size:20px;">*</span>
                                                                    <span style="color:#4AB248;font-size:20px;">*</span>
                                                                </label>
                                                                <div class="form-group">
                                                                    <label>Cost Centre:</label>
                                                                    @if (ViewBag.SubCatlist_nationality != null)
                                                                    {
                                                                        @Html.DropDownListFor(m => m.Nationality, ViewBag.SubCatlist_nationality as IEnumerable<SelectListItem>, "--Select Cost center--", new { @class = "form-control", @id = "Pk_CC_Id", })
                                                                        @Html.ValidationMessageFor(model => model.Nationality, "", new { @class = "text-danger validation-msg" })
                                                                    }
                                                                </div>


                                                            </div>
                                                        </div>*@
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>
                                                                Nationality:
                                                                <span style="color:#E12F24;font-size:20px;">*</span>
                                                                <span style="color:#33EFD3;font-size:20px;">*</span>
                                                                <span style="color:#4AB248;font-size:20px;">*</span>
                                                            </label>
                                                            @if (!string.IsNullOrEmpty(ViewBag.Status?.ToString()))
                                                            {
                                                                if (Model.LoginUserRoleId.ToString() == "36")
                                                                {
                                                                    if (ViewBag.SubCatlist_nationality != null)
                                                                    {
                                                                        @Html.DropDownListFor(m => m.Nationality, ViewBag.SubCatlist_nationality as IEnumerable<SelectListItem>, "--Select Nationality--", new { @class = "form-control", @id = "Nationality" })
                                                                        @Html.ValidationMessageFor(model => model.Nationality, "", new { @class = "text-danger validation-msg" })
                                                                    }
                                                                }

                                                                else if (ViewBag.Status.ToUpper() == "YES")
                                                                {
                                                                    @Html.DropDownListFor(m => m.Nationality, ViewBag.SubCatlist_nationality as IEnumerable<SelectListItem>, "--Select Nationality--", new { @class = "form-control", @id = "Nationality" })
                                                                    @Html.ValidationMessageFor(model => model.Nationality, "", new { @class = "text-danger validation-msg" })
                                                                }
                                                                else
                                                                {
                                                                    @*@Html.DropDownListFor(model => model.Nationality, new SelectList(@ViewBag.SubCatlist_nationality, "Nationality_ID", "Nationality_"), "---Select---", new { @id = "Nationality", @class = "form-control form-control-custom-ddl" })*@
                                                                    @Html.DropDownListFor(
                                                                              m => m.Nationality,
                                                                              new List<SelectListItem> { new SelectListItem { Text = "Indian", Value = "15" } },
                                                                              new { @class = "form-control", @id = "Nationality" }
                                                                              )
                                                                }

                                                            }
                                                            else
                                                            {
                                                                if (Model.LoginUserRoleId.ToString() == "36")
                                                                {
                                                                    if (ViewBag.SubCatlist_nationality != null)
                                                                    {
                                                                        @Html.DropDownListFor(m => m.Nationality, ViewBag.SubCatlist_nationality as IEnumerable<SelectListItem>, "--Select Nationality--", new { @class = "form-control", @id = "Nationality" })
                                                                        @Html.ValidationMessageFor(model => model.Nationality, "", new { @class = "text-danger validation-msg" })
                                                                    }

                                                                }

                                                                else
                                                                {
                                                                    @Html.DropDownListFor(
                                                                                  m => m.Nationality,
                                                                                  new List<SelectListItem> { new SelectListItem { Text = "Indian", Value = "15" } },
                                                                                  new { @class = "form-control", @id = "Nationality" }
                                                                                  )
                                                                }
                                                            }

                                                            @Html.ValidationMessageFor(m => m.Nationality, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>
                                                                Location:
                                                                <span style="color:#E12F24;font-size:20px;">*</span>
                                                                <span style="color:#33EFD3;font-size:20px;">*</span>
                                                                <span style="color:#4AB248;font-size:20px;">*</span>
                                                            </label>
                                                            @if (Model != null && !string.IsNullOrEmpty(ViewBag.Status?.ToString()))
                                                            {
                                                                if (ViewBag.Status.ToUpper() == "YES")
                                                                {
                                                                    @Html.TextBoxFor(model => model.Location, new { @placeholder = "Enter Location", @class = "form-control", @id = "Location" })
                                                                }
                                                                else
                                                                {
                                                                    @Html.TextBoxFor(model => model.Location, new { @placeholder = "", @class = "form-control", @id = "Location", @readonly = "readonly" })
                                                                }
                                                            }
                                                            else
                                                            {
                                                                @Html.TextBoxFor(model => model.Location, new { @placeholder = "", @class = "form-control", @id = "Location", @readonly = "readonly" })
                                                            }
                                                            @Html.ValidationMessageFor(model => model.Location, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>
                                                    <input type="hidden" id="hiddenMessage" value="@ViewData["DocAttachments"]" />
                                                </div>
                                                <div id="IdHideAddUser">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <hr class="custom-hr1">
                                                        </div>
                                                    </div>
                                                    @*<label><u>Educational Qualification</u></label>*@
                                                    <div class="row">
                                                        <script>
                                                            $('.select2').select2();

                                                            $(function () {
                                                                $("#Uni").change(function () {
                                                                    GetUniversityName();
                                                                });
                                                            })
                                                            function GetBranchName(obj) {
                                                                var strdegree = $(obj).val();
                                                                var row = $(obj).closest("tr");
                                                                var objBranch = row.find('.CDBranch');
                                                                $.ajax({
                                                                    type: "POST",
                                                                    url: '@Url.Action("GetDegreeName", "Users")',
                                                                    dataType: 'json',
                                                                    Async: false,
                                                                    data: JSON.stringify({ "strDegree": strdegree }),
                                                                    enctype: "multipart/form-data",
                                                                    contentType: "application/json; charset=utf-8",

                                                                    success: function (res) {
                                                                        $(objBranch).empty();
                                                                        for (var i = 0; i < res.length; i++) {
                                                                            var opt = new Option(res[i].BranchName, res[i].DBrId);
                                                                            $(objBranch).append(opt);
                                                                        }
                                                                    }
                                                                });
                                                            }

                                                            function GetCourceName(obj) {
                                                                debugger;
                                                                var strCourse = $(obj).val();
                                                                var row = $(obj).closest("tr");
                                                                var objBranch = row.find('.CDBranch');

                                                                if (strCourse == 'Diploma') {
                                                                    var objdiploma = row.find('.CDiploma');
                                                                    var objdeg = row.find('.CDegree');
                                                                    var objPGD = row.find('.CPGD');
                                                                    var objPG = row.find('.CPG');
                                                                    $(objdeg).css('display', 'none')
                                                                    $(objdiploma).css('display', 'block')
                                                                    $(objPGD).css('display', 'none')
                                                                    $(objPG).css('display', 'none')
                                                                    return false;
                                                                }
                                                                else if (strCourse == 'PGD') {
                                                                    var objdiploma = row.find('.CDiploma');
                                                                    var objdeg = row.find('.CDegree');
                                                                    var objPGD = row.find('.CPGD');
                                                                    var objPG = row.find('.CPG');
                                                                    $(objdeg).css('display', 'none')
                                                                    $(objdiploma).css('display', 'none')
                                                                    $(objPGD).css('display', 'block')
                                                                    $(objPG).css('display', 'none')

                                                                    $(objPGD).prop('disabled', true);
                                                                    $(objPGD).css("background-color", "Lightgrey");
                                                                    $(objBranch).prop('disabled', true);
                                                                    $(objBranch).css("background-color", "Lightgrey");
                                                                    return false;
                                                                }
                                                                else if (strCourse == 'PG') {
                                                                    var objdiploma = row.find('.CDiploma');
                                                                    var objdeg = row.find('.CDegree');
                                                                    var objPGD = row.find('.CPGD');
                                                                    var objPG = row.find('.CPG');
                                                                    $(objdeg).css('display', 'none')
                                                                    $(objdiploma).css('display', 'none')
                                                                    $(objPGD).css('display', 'none')
                                                                    $(objPG).css('display', 'block')
                                                                }
                                                                else {

                                                                    var objdiploma = row.find('.CDiploma');
                                                                    var objdeg = row.find('.CDegree');
                                                                    var objPGD = row.find('.CPGD');
                                                                    var objPG = row.find('.CPG');

                                                                    $(objdeg).css('display', 'block')
                                                                    $(objdiploma).css('display', 'none')
                                                                    $(objPGD).css('display', 'none')
                                                                    $(objPG).css('display', 'none')

                                                                    if (strCourse == 'S.S.C' || strCourse == 'H.S.C') {

                                                                        $(objdeg).prop('disabled', true);
                                                                        $(objdeg).css("background-color", "Lightgrey");

                                                                        $(objBranch).prop('disabled', true);
                                                                        $(objBranch).css("background-color", "Lightgrey");
                                                                    }
                                                                    else {

                                                                        $(objdeg).prop('disabled', false);
                                                                        $(objdeg).css("background-color", "white");
                                                                        $(objBranch).prop('disabled', false);
                                                                        $(objBranch).css("background-color", "white");
                                                                    }
                                                                    return false;


                                                                }




                                                            }

                                                        </script>
                                                    </div>

                                                    <div id="DomesticCurrency" style='align:center'>
                                                        <div class="form-page-title" style="width:110%;"> <label><u>Educational Qualification:</u> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E12F24;font-size:20px;">*</span><span style="color:#33EFD3;font-size:20px;">*</span><span style="color:#4AB248;font-size:20px;">*</span></label> </div>

                                                        <table id="DTestTable" cellspacing="0" cellpadding="5" border="1" style="width: 110%;font-family:'TNG Pro';font-size:14px;">
                                                            <tr style="background-color:lightgray;color:black">
                                                                <td width="10%" style="text-align: left">
                                                                    Course
                                                                </td>
                                                                <td width="20%" style="text-align: left">
                                                                    Degree
                                                                </td>
                                                                <td width="20%" style="text-align: left">
                                                                    Field of study
                                                                </td>
                                                                <td width="10%" style="text-align: left">
                                                                    Year of Passing
                                                                </td>
                                                                <td width="15%" style="text-align: left">
                                                                    Institution/University
                                                                </td>



                                                                <td width="10%" style="text-align: left">
                                                                    Last Year % / CGPA
                                                                </td>
                                                                <td width="10%" style="text-align: left">
                                                                    Aggregate % / CGPA
                                                                </td>
                                                                <td></td>

                                                            </tr>

                                                            @{
                                                                int v = 0;
                                                            }

                                                            @if (ViewBag.lstDOrderType != null)
                                                            {
                                                                if (ViewBag.lstDOrderType.Count != 0)
                                                                {
                                                                    foreach (var item in ViewBag.lstDOrderType as IEnumerable<TuvVision.Models.Users>)
                                                                    {
                                                                        v = v + 1;
                                                                        <tr class="trEduQualification" style="background-color:#f0f0f0">
                                                                            <td>

                                                                                @Html.DropDownListFor(m => m.lstEducationQualification[j].Course, new List<SelectListItem>
                                                                        {
                                                                             new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                             new SelectListItem{ Text="S.S.C", Value = "S.S.C" , Selected = (item.Course == "S.S.C") ?true : false} ,
                                                                             new SelectListItem{ Text="H.S.C", Value = "H.S.C" , Selected = (item.Course == "H.S.C") ?true : false} ,
                                                                             new SelectListItem{ Text="Diploma", Value = "Diploma" , Selected = (item.Course == "Diploma") ?true : false} ,
                                                                             new SelectListItem{ Text="Graduate", Value = "Graduate" , Selected = (item.Course == "Graduate") ?true : false} ,
                                                                             new SelectListItem{ Text="PGD", Value = "PGD" , Selected = (item.Course == "PGD") ?true : false} ,
                                                                             new SelectListItem{ Text="PG", Value = "PG" , Selected = (item.Course == "PG") ?true : false} ,
                                                                        },
new { @class = "form-control CCourse", @id = "ddlCourse", @Value = item.Course, @onchange = "return GetCourceName(this);" })
                                                                            </td>

                                                                            <td>
                                                                                @if (item.Course == "Diploma")
                                                                                {
                                                                                    @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                    {
                                                                                        new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                        new SelectListItem{ Text="Technical", Value = "Tech" , Selected = (item.Degree == "Tech") ?true : false} ,
                                                                                        new SelectListItem{ Text="Non Technical", Value = "NTech" , Selected = (item.Degree == "NTech") ?true : false} ,
                                                                                    },

new { @class = "form-control CDiploma", @id = "ddlDiploma", @Value = item.Degree, @onchange = "GetBranchName(this);", @display = "block" })

                                                                                }
                                                                                else if (item.Course == "PGD")
                                                                                {
                                                                                    @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                {
                                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                    //new SelectListItem{ Text="Master of Engineering", Value = "MEng" , Selected = (item.Degree == "MEng") ?true : false} ,
                                                                                    //new SelectListItem{ Text="Master of Technology", Value = "MTech" , Selected = (item.Degree == "MTech") ?true : false} ,
                                                                                },

new { @class = "form-control CPGD", @id = "ddlPGD", @Value = item.Degree, @onchange = "GetBranchName(this);", @display = "block" })

                                                                                }
                                                                                else if (item.Course == "PG")
                                                                                {
                                                                                    @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                {
                                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                    new SelectListItem{ Text="Master of Engineering", Value = "ME" , Selected = (item.Degree == "ME") ?true : false} ,
                                                                                    new SelectListItem{ Text="MTech", Value = "MTech" , Selected = (item.Degree == "MTech") ?true : false} ,
                                                                                    new SelectListItem{ Text="MBA", Value = "MBA" , Selected = (item.Degree == "MBA") ?true : false} ,

                                                                                },

                                                                                new { @class = "form-control CPG", @id = "ddlPG", @Value = item.Degree, @onchange = "GetBranchName(this);", @display = "block" })

                                                                                }
                                                                                else if (item.Course == "S.S.C" || item.Course == "H.S.C")
                                                                                {
                                                                                    @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                {
                                                                                    new SelectListItem{ Text="---SELECT---", Value = "",Selected=true },

                                                                                },

new { @class = "form-control CDegree", @id = "ddlDegree", @Value = item.Degree, @display = "block" })

                                                                                }
                                                                                else
                                                                                {
                                                                                    @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                     {
                                                                                        new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                        new SelectListItem{ Text="Bachelor of Engineering", Value = "BEng" , Selected = (item.Degree == "BEng") ?true : false} ,
                                                                                        new SelectListItem{ Text="Bachelor of Technology", Value = "BTech" , Selected = (item.Degree == "BTech") ?true : false} ,
                                                                                        new SelectListItem{ Text="AMIE", Value = "AMIE" , Selected = (item.Degree == "AMIE") ?true : false} ,
                                                                                        new SelectListItem{ Text="Bachelor of Arts", Value = "BA" , Selected = (item.Degree == "BA") ?true : false} ,
                                                                                        new SelectListItem{ Text="Bachelor of Science", Value = "BSc" , Selected = (item.Degree == "BSc") ?true : false} ,
                                                                                        new SelectListItem{ Text="Bachelor of Commerce", Value = "BCom" , Selected = (item.Degree == "BCom") ?true : false} ,
                                                                                        new SelectListItem{ Text="BBA", Value = "BBA" ,  Selected = (item.Degree == "BBA") ?true : false} ,
                                                                                        new SelectListItem{ Text="BMS", Value = "BMS" , Selected = (item.Degree == "BMS") ?true : false} ,
                                                                                        new SelectListItem{ Text="BBS", Value = "BBS" , Selected = (item.Degree == "BBS") ?true : false} ,
                                                                                    },

new { @class = "form-control CDegree", @id = "ddlDegree", @Value = item.Degree, @onchange = "GetBranchName(this);", @display = "block" })
                                                                                }

                                                                            </td>

                                                                            <td>
                                                                                @if (item.Course != "S.S.C" && item.Course != "H.S.C")
                                                                                {
                                                                                    @Html.TextBoxFor(model => model.lstEducationQualification[j].MajorFieldOfStudy, new { @placeholder = "MajorFieldOfStudy", @class = "form-control CDBranch", @Value = item.MajorFieldOfStudy })

                                                                                }
                                                                                else
                                                                                {
                                                                                    @Html.TextBoxFor(model => model.lstEducationQualification[j].MajorFieldOfStudy, new { @placeholder = "MajorFieldOfStudy", @class = "form-control CDBranch", @Value = item.MajorFieldOfStudy, @readonly = "readonly" })
                                                                                }
                                                                                @Html.ValidationMessageFor(model => model.lstEducationQualification[j].MajorFieldOfStudy, "", new { @class = "text-danger validation-msg" })
                                                                            </td>
                                                                            <td>
                                                                                @*@Html.TextBoxFor(model => model.lstEducationQualification[j].YearOfPassing, new { @placeholder = "Year Of Passing", @class = "form-control CYearOfPassing", @Value = item.YearOfPassing })*@
                                                                                @*@Html.DropDownListFor(model => model.lstEducationQualification[j].YearOfPassing, ViewBag.YearOfPassing as IEnumerable<SelectListItem>, "--Select Year--", new { @class = "form-control form-control-custom CYearOfPassing",@Value = item.YearOfPassing , @id= "ddlYearPassing" +j })*@
                                                                                @Html.DropDownListFor(m => m.lstEducationQualification[j].YearOfPassing, new SelectList(@ViewBag.YearOfPassing, "Name", "Name", item.YearOfPassing), "--Select Year--", new { @id = "ddlYearPassing", @class = "form-control CYearOfPassing" })
                                                                                @Html.HiddenFor(m => m.YearOfPassing)

                                                                                @Html.ValidationMessageFor(model => model.lstEducationQualification[j].YearOfPassing, "", new { @class = "text-danger validation-msg" })
                                                                            </td>
                                                                            <td>
                                                                                @Html.TextBoxFor(model => model.lstEducationQualification[j].UniversityName, new { @placeholder = "University", @class = "form-control CUniversity", @Value = item.UniversityName })
                                                                                @Html.ValidationMessageFor(model => model.lstEducationQualification[j].UniversityName, "", new { @class = "text-danger validation-msg" })
                                                                            </td>

                                                                            <td>
                                                                                @Html.TextBoxFor(model => model.lstEducationQualification[j].LastYearCGPA, new { @placeholder = "LastYearCGPA", @class = "form-control CLastYearCGPA", @Value = item.LastYearCGPA, @onkeypress = "return isNumberKey(event);", @onkeyup = "return AcceptSelNumber(this);" })
                                                                                @Html.ValidationMessageFor(model => model.lstEducationQualification[j].LastYearCGPA, "", new { @class = "text-danger validation-msg" })
                                                                            </td>
                                                                            <td>
                                                                                @Html.TextBoxFor(model => model.lstEducationQualification[j].AggregateCGPA, new { @placeholder = "LastYearCGPA", @class = "form-control CAggregateCGPA", @Value = item.AggregateCGPA, @onkeypress = "return isNumberKey(event);", @onkeyup = "return AcceptSelNumber(this);" })
                                                                                @Html.ValidationMessageFor(model => model.lstEducationQualification[j].AggregateCGPA, "", new { @class = "text-danger validation-msg" })
                                                                            </td>
                                                                            <td>
                                                                                @if (v == 1)
                                                                                {
                                                                                    <button type="button" id="btnAdd" class="btn btn-xs btn-primary classAdd">Add</button>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <button type="button" id="btnDelete" class="deleteContact btn btn btn-danger btn-xs">Remove</button>
                                                                                }


                                                                            </td>



                                                                        </tr>

                                                                        j++;
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <tr class="trEduQualification" style="background-color:#f0f0f0">
                                                                        <td>

                                                                            @Html.DropDownListFor(m => m.Course, new List<SelectListItem>
                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="S.S.C", Value = "S.S.C" },
                                                                     new SelectListItem{ Text="H.S.C", Value = "H.S.C" },
                                                                     new SelectListItem{ Text="Diploma", Value = "Diploma" },
                                                                     new SelectListItem{ Text="Graduate", Value = "Graduate" },
                                                                     new SelectListItem{ Text="PGD", Value = "PGD" },
                                                                     new SelectListItem{ Text="PG", Value = "PG" },


                                                           },
new { @class = "form-control CCourse", @id = "ddlCourse", @onchange = "return GetCourceName(this);" })
                                                                        </td>

                                                                        <td>
                                                                            @Html.DropDownListFor(m => m.Degree, new List<SelectListItem>
                                                                        {
                                                                            new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                             new SelectListItem{ Text="Bachelor of Engineering", Value = "BEng" } ,
                                                                             new SelectListItem{ Text="Bachelor of Technology", Value = "BTech" } ,
                                                                             new SelectListItem{ Text="AMIE", Value = "AMIE" } ,
                                                                             new SelectListItem{ Text="Bachelor of Arts", Value = "BA" } ,
                                                                             new SelectListItem{ Text="Bachelor of Science", Value = "BSc" } ,
                                                                             new SelectListItem{ Text="Bachelor of Commerce", Value = "BCom" } ,
                                                                             new SelectListItem{ Text="BBA", Value = "BBA" } ,
                                                                             new SelectListItem{ Text="BMS", Value = "BMS" } ,
                                                                             new SelectListItem{ Text="BBS", Value = "BBS" } ,

                                                                        },
new { @class = "form-control CDegree", @id = "ddlDegree", @onchange = "GetBranchName(this);", @style = "display:none;" })

                                                                            @Html.DropDownListFor(m => m.Degree, new List<SelectListItem>
                                                                             {
                                                                                new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                new SelectListItem{ Text="Technical", Value = "Tech" } ,
                                                                                new SelectListItem{ Text="Non Technical", Value = "NTech" } ,
                                                                            },

new { @class = "form-control CDiploma", @id = "ddlDiploma", @onchange = "GetBranchName(this);", @style = "display:none;" })

                                                                            @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                {
                                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                    //new SelectListItem{ Text="Master of Engineering", Value = "MEng" } ,
                                                                                    //new SelectListItem{ Text="Master of Technology", Value = "MTech" } ,
                                                                                },






new { @class = "form-control CPGD", @id = "ddlPGD", @onchange = "GetBranchName(this);", @style = "display:none;" })
                                                                            @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                {
                                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                    new SelectListItem{ Text="Master of Engineering", Value = "ME" } ,
                                                                                    new SelectListItem{ Text="MBA", Value = "MBA" } ,
                                                                                },
                                                                              new { @class = "form-control CPG", @id = "ddlPG", @onchange = "GetBranchName(this);", @style = "display:none;" })
                                                                        </td>
                                                                        <td>
                                                                            @*@Html.TextBoxFor(model => model.MajorFieldOfStudy, new { @placeholder = "MajorFieldOfStudy", @class = "form-control CMajorFieldOfStudy" })*@
                                                                            @Html.DropDownListFor(model => model.MajorFieldOfStudy, new SelectList("", ""), "---Select---", new { @id = "DBranch", @class = "form-control CDBranch" })
                                                                            @Html.ValidationMessageFor(model => model.lstEducationQualification[j].MajorFieldOfStudy, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td>
                                                                            @*@Html.TextBoxFor(model => model.YearOfPassing, new { @placeholder = "Year Of Passing", @class = "form-control CYearOfPassing" })*@
                                                                            @*@Html.DropDownListFor(model => model.YearOfPassing, ViewBag.YearOfPassing as IEnumerable<SelectListItem>, "--Select Year--", new { @class = "form-control form-control-custom CYearOfPassing" })*@
                                                                            @Html.DropDownListFor(m => m.YearOfPassing, new SelectList(@ViewBag.YearOfPassing, "Name", "Name"), "--Select Year--", new { @id = "ddlYearPassing", @class = "form-control CYearOfPassing" })


                                                                            @Html.ValidationMessageFor(model => model.YearOfPassing, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td>
                                                                            @Html.TextBoxFor(model => model.UniversityName, new { @placeholder = "University", @class = "form-control CUniversity" })
                                                                            @Html.ValidationMessageFor(model => model.lstEducationQualification[j].UniversityName, "", new { @class = "text-danger validation-msg" })
                                                                        </td>

                                                                        <td>
                                                                            @Html.TextBoxFor(model => model.LastYearCGPA, new { @placeholder = "LastYearCGPA", @class = "form-control CLastYearCGPA", @onkeypress = "return isNumberKey(event);", @onkeyup = "return AcceptSelNumber(this);" })
                                                                            @Html.ValidationMessageFor(model => model.lstEducationQualification[j].LastYearCGPA, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td>
                                                                            @Html.TextBoxFor(model => model.AggregateCGPA, new { @placeholder = "LastYearCGPA", @class = "form-control CAggregateCGPA", @onkeypress = "return isNumberKey(event);", @onkeyup = "return AcceptSelNumber(this);" })
                                                                            @Html.ValidationMessageFor(model => model.AggregateCGPA, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td>
                                                                            @if (v == 1)
                                                                            {
                                                                                <button type="button" id="btnAdd" class="btn btn-xs btn-primary classAdd">Add</button>
                                                                            }
                                                                            else
                                                                            {
                                                                                <button type="button" id="btnDelete" class="deleteContact btn btn btn-danger btn-xs">Remove</button>
                                                                            }


                                                                        </td>



                                                                    </tr>


                                                                }
                                                            }
                                                            else
                                                            {
                                                                <tr class="trEduQualification" style="background-color:#f0f0f0">
                                                                    <td style="text-align:left">

                                                                        @Html.DropDownListFor(m => m.Course, new List<SelectListItem>
                                                                     {
                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                     new SelectListItem{ Text="S.S.C", Value = "S.S.C" },
                                                                     new SelectListItem{ Text="H.S.C", Value = "H.S.C" },
                                                                     new SelectListItem{ Text="Diploma", Value = "Diploma" },
                                                                     new SelectListItem{ Text="Graduate", Value = "Graduate" },
                                                                     new SelectListItem{ Text="PGD", Value = "PGD" },
                                                                     new SelectListItem{ Text="PG", Value = "PG" },


                                                           },
new { @class = "form-control CCourse", @id = "ddlCourse", @onchange = "return GetCourceName(this);" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.DropDownListFor(m => m.Degree, new List<SelectListItem>
                                                                     {
                                                                            new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                             new SelectListItem{ Text="Bachelor of Engineering", Value = "BEng" } ,
                                                                             new SelectListItem{ Text="Bachelor of Technology", Value = "BTech" } ,
                                                                             new SelectListItem{ Text="AMIE", Value = "AMIE" } ,
                                                                             new SelectListItem{ Text="Bachelor of Arts", Value = "BA" } ,
                                                                             new SelectListItem{ Text="Bachelor of Science", Value = "BSc" } ,
                                                                             new SelectListItem{ Text="Bachelor of Commerce", Value = "BCom" } ,
                                                                             new SelectListItem{ Text="BBA", Value = "BBA" } ,
                                                                             new SelectListItem{ Text="BMS", Value = "BMS" } ,
                                                                             new SelectListItem{ Text="BBS", Value = "BBS" } ,


                                                           },
new { @class = "form-control CDegree", @id = "ddlDegree", @onchange = "GetBranchName(this);", @style = "display:none;" })

                                                                        @Html.DropDownListFor(m => m.Degree, new List<SelectListItem>
                                                                             {
                                                                                new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                new SelectListItem{ Text="Technical", Value = "Tech" } ,
                                                                                new SelectListItem{ Text="Non Technical", Value = "NTech" } ,
                                                                            },

new { @class = "form-control CDiploma", @id = "ddlDiploma", @onchange = "GetBranchName(this);", @style = "display:none;" })

                                                                        @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                {
                                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                    //new SelectListItem{ Text="Master of Engineering", Value = "MEng" } ,
                                                                                    //new SelectListItem{ Text="Master of Technology", Value = "MTech" } ,
                                                                                },

new { @class = "form-control CPGD", @id = "ddlPGD", @onchange = "GetBranchName(this);", @style = "display:none;" })

                                                                        @Html.DropDownListFor(m => m.lstEducationQualification[j].Degree, new List<SelectListItem>
                                                                                {
                                                                                    new SelectListItem{ Text="---SELECT---", Value = "" },
                                                                                    new SelectListItem{ Text="Master of Engineering", Value = "ME" } ,
                                                                                    new SelectListItem{ Text="MTech", Value = "MTech" } ,
                                                                                    new SelectListItem{ Text="MBA", Value = "MBA" } ,
                                                                                },

new { @class = "form-control CPG", @id = "ddlPG", @onchange = "GetBranchName(this);", @style = "display:none;" })




                                                                    </td>

                                                                    <td style="text-align:left">
                                                                        @*@Html.TextBoxFor(model => model.MajorFieldOfStudy, new { @placeholder = "MajorFieldOfStudy", @class = "form-control CMajorFieldOfStudy" })*@

                                                                        @Html.DropDownListFor(model => model.MajorFieldOfStudy, new SelectList("", ""), "---Select---", new { @id = "DBranch", @class = "form-control CDBranch" })
                                                                        @Html.ValidationMessageFor(model => model.lstEducationQualification[j].MajorFieldOfStudy, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @*@Html.TextBoxFor(model => model.YearOfPassing, new { @placeholder = "Year Of Passing", @class = "form-control CYearOfPassing" })*@
                                                                        @*@Html.DropDownListFor(model => model.YearOfPassing, ViewBag.YearOfPassing as IEnumerable<SelectListItem>, "--Select Year--", new { @class = "form-control form-control-custom CYearOfPassing" })*@

                                                                        @Html.DropDownListFor(m => m.YearOfPassing, new SelectList(@ViewBag.YearOfPassing, "Name", "Name"), "--Select Year--", new { @id = "ddlYearPassing", @class = "form-control CYearOfPassing" })
                                                                        @Html.ValidationMessageFor(model => model.YearOfPassing, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.UniversityName, new { @placeholder = "University", @class = "form-control CUniversity" })
                                                                        @Html.ValidationMessageFor(model => model.lstEducationQualification[j].UniversityName, "", new { @class = "text-danger validation-msg" })
                                                                    </td>

                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.LastYearCGPA, new { @placeholder = "LastYearCGPA", @class = "form-control CLastYearCGPA", @onkeypress = "return isNumberKey(event);", @onkeyup = "return AcceptSelNumber(this);" })
                                                                        @Html.ValidationMessageFor(model => model.lstEducationQualification[j].LastYearCGPA, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.AggregateCGPA, new { @placeholder = "AggregateCGPA", @class = "form-control CAggregateCGPA", @onkeypress = "return isNumberKey(event);", @onkeyup = "return AcceptSelNumber(this);" })
                                                                        @Html.ValidationMessageFor(model => model.lstEducationQualification[j].AggregateCGPA, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td>
                                                                        @*@if (v == 1)
                                                                            {*@
                                                                        <button type="button" id="btnAdd" class="btn btn-xs btn-primary classAdd">Add</button>

                                                                    </td>



                                                                </tr>
                                                            }
                                                        </table><br />
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <hr class="custom-hr1">
                                                        </div>
                                                    </div>


                                                    @*<label><u>Proffesional Certificates</u></label>*@


                                                    <div id="DivProffCert" style='align:center'>
                                                        <div class="form-page-title" style="width:110%;"> <label><u>Professional Qualification</u>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4AB248;font-size:20px;">*</span></label> </div>

                                                        <table id="DTestTablePFC" cellspacing="0" cellpadding="5" border="1" style="width: 110%;font-family:'TNG Pro';font-size:14px;">
                                                            <tr style="background-color:lightgray;color:black">
                                                                <td width="25%" style="text-align: left">
                                                                    Certification
                                                                </td>
                                                                <td width="25%" style="text-align: left">
                                                                    Certification No.
                                                                </td>
                                                                <td width="20%" style="text-align: left">
                                                                    Issue Date
                                                                </td>
                                                                <td width="20%" style="text-align: left">
                                                                    Valid Till
                                                                </td>


                                                                <td></td>

                                                            </tr>

                                                            @{
                                                                int vp = 0;
                                                            }

                                                            @if (ViewBag.lstProfCerts != null)
                                                            {
                                                                if (ViewBag.lstProfCerts.Count != 0)
                                                                {
                                                                    foreach (var item in ViewBag.lstProfCerts as IEnumerable<TuvVision.Models.Users>)
                                                                    {
                                                                        vp = vp + 1;
                                                                        <tr class="trProfCertificates" style="background-color:#f0f0f0">
                                                                            <td style="text-align:left">
                                                                                @Html.TextBoxFor(model => model.lstProfCertificates[k].CertName, new { @placeholder = "Cert Name", @class = "form-control form-control-custom CCertName", @Value = item.CertName })
                                                                                @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertName, "", new { @class = "text-danger validation-msg" })
                                                                                <input type="hidden" id="HfCertName" name="HfCertName" />
                                                                                @Html.HiddenFor(model => model.lstProfCertificates[k].CertName)
                                                                            </td>

                                                                            <td style="text-align:left">
                                                                                @Html.TextBoxFor(model => model.lstProfCertificates[k].CertNo, new { @placeholder = "Cert No", @class = "form-control CCertNo", @Value = item.CertNo })
                                                                                @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertNo, "", new { @class = "text-danger validation-msg" })
                                                                            </td>
                                                                            <td style="text-align:left">
                                                                                @Html.TextBoxFor(model => model.lstProfCertificates[k].CertIssueDate, new { @placeholder = "Certificate Issue Date", @class = "form-control CCertIssueDate", @Value = item.CertIssueDate })
                                                                                @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertIssueDate, "", new { @class = "text-danger validation-msg" })
                                                                            </td>
                                                                            <td style="text-align:left">
                                                                                @Html.TextBoxFor(model => model.lstProfCertificates[k].CertValidTill, new { @placeholder = "Certificate Valid Till", @class = "form-control CCertValidTill", @Value = item.CertValidTill })
                                                                                @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertValidTill, "", new { @class = "text-danger validation-msg" })
                                                                            </td>

                                                                            <td style="text-align:left">
                                                                                @if (vp == 1)
                                                                                {
                                                                                    <button type="button" id="btnAddPFC" class="btn btn-xs btn-primary classAddPFC">Add</button>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <button type="button" id="btnDeletePFC" class="deleteContact btn btn btn-danger btn-xs">Remove</button>
                                                                                }
                                                                            </td>

                                                                        </tr>

                                                                        k++;
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <tr class="trProfCertificates" style="background-color:#f0f0f0">
                                                                        <td style="text-align:left">
                                                                            @Html.TextBoxFor(model => model.CertName, new { @placeholder = "Certificate Name", @class = "form-control form-control-custom CCertName" })
                                                                            @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertName, "", new { @class = "text-danger validation-msg" })
                                                                            <input type="hidden" id="HfCertName" name="HfCertName" />
                                                                            <label id="SelectedCertName" name="SelectedCertName" style="color:red;"></label>
                                                                            @Html.HiddenFor(model => model.CertName)
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @Html.TextBoxFor(model => model.CertNo, new { @placeholder = "Certificate No", @class = "form-control CCertNo" })
                                                                            @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertNo, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @Html.TextBoxFor(model => model.CertIssueDate, new { @placeholder = "Certificate Issue Date", @class = "form-control CCertIssueDate" })
                                                                            @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertIssueDate, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @Html.TextBoxFor(model => model.CertValidTill, new { @placeholder = "Certificate Valid Till", @class = "form-control CCertValidTill" })
                                                                            @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertValidTill, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @if (vp == 1)
                                                                            {
                                                                                <button type="button" id="btnAddPFC" class="btn btn-xs btn-primary classAddPFC">Add</button>
                                                                            }
                                                                            else
                                                                            {
                                                                                <button type="button" id="btnDeletePFC" class="deleteContact btn btn btn-danger btn-xs">Remove</button>
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <tr class="trProfCertificates" style="background-color:#f0f0f0">

                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.CertName, new { @placeholder = "Certificate Name", @class = "form-control form-control-custom CCertName" })
                                                                        @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertName, "", new { @class = "text-danger validation-msg" })
                                                                        <label id="SelectedCertName" name="SelectedCertName" style="color:red;"></label>

                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.CertNo, new { @placeholder = "Certificate No", @class = "form-control CCertNo" })
                                                                        @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertNo, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.CertIssueDate, new { @placeholder = "Certificate Issue Date", @class = "form-control CCertIssueDate" })
                                                                        @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertIssueDate, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.CertValidTill, new { @placeholder = "Certificate Valid Till", @class = "form-control CCertValidTill" })
                                                                        @Html.ValidationMessageFor(model => model.lstProfCertificates[k].CertValidTill, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        <button type="button" id="btnAddPFC" class="btn btn-xs btn-primary classAddPFC">Add</button>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </table><br />
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <hr class="custom-hr1">
                                                        </div>
                                                    </div>

                                                    <div id="DivNdtCert" style='align:center'>
                                                        <div class="form-page-title" style="width:110%;"> <label><u>TUVI NDT Level II Certification</u>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4AB248;font-size:20px;">*</span></label> </div>

                                                        <table id="DTestTableNdt" cellspacing="0" cellpadding="5" border="1" style="width: 110%;font-family:'TNG Pro';font-size:14px;">
                                                            <tr style="background-color:lightgray;color:black">
                                                                <td width="25%" style="text-align: left">
                                                                    Certification
                                                                </td>
                                                                <td width="20%" style="text-align: left">
                                                                    Issue Date
                                                                </td>
                                                                <td width="20%" style="text-align: left">
                                                                    Valid Till
                                                                </td>




                                                            </tr>

                                                            @if (ViewBag.lstNdtCertificates != null && ViewBag.lstNdtCertificates.Count > 0)
                                                            {
                                                                foreach (var item in ViewBag.lstNdtCertificates as IEnumerable<TuvVision.Models.NDTQualification>)
                                                                {
                                                                    <tr class="trProfCertificates" style="background-color:white;height:40px;">
                                                                        <td style="text-align:left">
                                                                            @item.NdtCertName
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @DateTime.Parse(item.NdtCertDate).ToString("dd/MM/yyyy") <!-- Format date as needed -->
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @DateTime.Parse(item.NdtValid).ToString("dd/MM/yyyy") <!-- Format date as needed -->
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <tr>
                                                                    <td colspan="4" style="text-align:center;">No data available</td>
                                                                </tr>
                                                            }


                                                        </table><br />
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <hr class="custom-hr1">
                                                        </div>
                                                    </div>

                                                    <div id="DivEyeTest" style='align:center'>
                                                        <div class="form-page-title" style="width:110%;"> <label><u>Eye Test</u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E12F24;font-size:20px;">*</span></label> </div>

                                                        <table id="DTestTableEYE" cellspacing="0" cellpadding="5" border="1" style="width: 110%;font-family:'TNG Pro';font-size:14px;">
                                                            <tr style="background-color:lightgray;color:black">
                                                                <td style="text-align: left">
                                                                    Issue By
                                                                </td>
                                                                <td style="text-align: left">
                                                                    Issue Date
                                                                </td>
                                                                <td style="text-align: left">
                                                                    Valid Till
                                                                </td>




                                                            </tr>

                                                            @{
                                                                int ve = 0;
                                                            }

                                                            @if (ViewBag.lstEYE != null)
                                                            {
                                                                if (ViewBag.lstEYE.Count != 0)
                                                                {
                                                                    foreach (var item in ViewBag.lstEYE as IEnumerable<TuvVision.Models.Users>)
                                                                    {
                                                                        ve = ve + 1;
                                                                        string[] arrFile = item.FileName.Split(',');
                                                                        string[] arrValue = null;
                                                                        <tr class="DivEyeTest" style="background-color:#f0f0f0">
                                                                            <td style="text-align:left">
                                                                                @Html.HiddenFor(model => model.lstPQ[e].PK_ID, new { @placeholder = "Pk_id", @class = "form-control form-control-custom EPK_ID", @Value = item.PK_ID })
                                                                                @Html.TextBoxFor(model => model.lstPQ[e].EyeCreatedBy, new { @placeholder = "Issue By", @class = "form-control form-control-custom ECreatedBy", @Value = item.EyeCreatedBy })
                                                                                @Html.ValidationMessageFor(model => model.lstPQ[e].EyeCreatedBy, "", new { @class = "text-danger validation-msg" })
                                                                                <input type="hidden" id="HfCertName" name="HfCertName" />
                                                                                @Html.HiddenFor(model => model.lstPQ[e].EyeCertName)
                                                                            </td>

                                                                            <td style="text-align:left">
                                                                                @Html.TextBoxFor(model => model.lstPQ[e].EyeIssueDate, new { @placeholder = "Issue Date", @class = "form-control ECertIssueDate", @Value = item.EyeIssueDate })
                                                                                @Html.ValidationMessageFor(model => model.lstPQ[e].EyeIssueDate, "", new { @class = "text-danger validation-msg" })
                                                                            </td>
                                                                            <td style="text-align:left">
                                                                                @Html.TextBoxFor(model => model.lstPQ[e].EyeValidTill, new { @placeholder = "Certificate Issue Date", @class = "form-control ECertValidTill", @Value = item.EyeValidTill, @readonly = "readonly" })
                                                                                @Html.ValidationMessageFor(model => model.lstPQ[e].EyeValidTill, "", new { @class = "text-danger validation-msg" })
                                                                            </td>



                                                                            @*<td style="text-align:left">
                                                                                    @if (ve == 1)
                                                                                    {
                                                                                        <button type="button" id="btnAddEYE" class="btn btn-xs btn-primary classAddEYE">Add</button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <button type="button" id="btnDeleteEYE" class="deleteContact btn btn btn-danger btn-xs">Remove</button>
                                                                                    }
                                                                                </td>*@

                                                                        </tr>

                                                                        e++;
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <tr class="DivEyeTest" style="background-color:#f0f0f0">
                                                                        <td style="text-align:left">
                                                                            @Html.TextBoxFor(model => model.EyeCreatedBy, new { @placeholder = "Certificate Name", @class = "form-control form-control-custom ECreatedBy" })
                                                                            @Html.ValidationMessageFor(model => model.EyeCreatedBy, "", new { @class = "text-danger validation-msg" })
                                                                            <input type="hidden" id="HfCertName" name="HfCertName" />
                                                                            @Html.HiddenFor(model => model.EyeCertName)
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @Html.TextBoxFor(model => model.EyeIssueDate, new { @placeholder = "Cert Issue Date", @class = "form-control ECertIssueDate" })
                                                                            @Html.ValidationMessageFor(model => model.EyeIssueDate, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        <td style="text-align:left">
                                                                            @Html.TextBoxFor(model => model.EyeValidTill, new { @placeholder = "Certificate Issue Date", @class = "form-control ECertValidTill", @readonly = "readonly" })
                                                                            @Html.ValidationMessageFor(model => model.EyeValidTill, "", new { @class = "text-danger validation-msg" })
                                                                        </td>
                                                                        @*<td style="text-align:left">
                                                                                <input type="file" class="filepond" name="DocUpload1" id="DocUpload1" />
                                                                                <input hidden="hidden" id="DocUpload1" name="DocUpload1" class="hidden" />
                                                                            </td>*@
                                                                        @*<td style="text-align:left">
                                                                                @if (ve == 1)
                                                                                {
                                                                                    <button type="button" id="btnAddEYE" class="btn btn-xs btn-primary classAddEYE">Add</button>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <button type="button" id="btnDeleteEYE" class="deleteContact btn btn btn-danger btn-xs">Remove</button>
                                                                                }
                                                                            </td>*@
                                                                    </tr>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <tr class="DivEyeTest" style="background-color:#f0f0f0">

                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.EyeCreatedBy, new { @placeholder = "Certificate Name", @class = "form-control form-control-custom ECreatedBy" })
                                                                        @Html.ValidationMessageFor(model => model.EyeCreatedBy, "", new { @class = "text-danger validation-msg" })
                                                                        @Html.HiddenFor(model => model.EyeCertName)
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.EyeIssueDate, new { @placeholder = "Certificate No", @class = "form-control ECertIssueDate" })
                                                                        @Html.ValidationMessageFor(model => model.EyeIssueDate, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    <td style="text-align:left">
                                                                        @Html.TextBoxFor(model => model.EyeValidTill, new { @placeholder = "Certificate Issue Date", @class = "form-control ECertValidTill", @readonly = "readonly" })
                                                                        @Html.ValidationMessageFor(model => model.EyeValidTill, "", new { @class = "text-danger validation-msg" })
                                                                    </td>
                                                                    @*<td style="text-align:left">
                                                                            <input type="file" class="filepond" name="DocUpload1" id="DocUpload1" />
                                                                            <input hidden="hidden" id="DocUpload1" name="DocUpload1" class="hidden" />
                                                                        </td>*@
                                                                    @*<td style="text-align:left">
                                                                            <button type="button" id="btnAddEYE" class="btn btn-xs btn-primary classAddEYE">Add</button>
                                                                        </td>*@
                                                                </tr>
                                                            }
                                                        </table><br />

                                                    </div>
                                                    @*<label><u>Eye Test Report</u></label>*@
                                                    @*<div class="row">



                                                            <div class="col-xs-4">

                                                                <label>Year</label>



                                                                @if (ViewBag.Year != null)
                                                                {
                                                                    @Html.DropDownListFor(m => m.Year, ViewBag.Year as IEnumerable<SelectListItem>, "--Select Year--", new { @class = "form-control", @id = "PT", @onchange = "onchangeddlStatus(this.value);" })
                                                                    @Html.ValidationMessageFor(model => model.Year, "", new { @class = "text-danger validation-msg" })
                                                                }
                                                            </div>

                                                            <div class="col-xs-12 col-sm-6">
                                                                <label></label>
                                                                <input type="file" class="filepond" name="DocUpload1" id="DocUpload1" />
                                                                <input hidden="hidden" id="DocUpload1" name="DocUpload1" class="hidden" />

                                                            </div>

                                                            <div class="col-xs-12 col-sm-2">
                                                                <div class="form-group">

                                                                    <button type="button" class="btn btn-default insert-form-btn" title="Add New Contact" style="margin-top:28px;" id="btnAddEyeTestDoc"><i class="fa fa-plus-circle"></i> Add Document</button>
                                                                </div>
                                                            </div>







                                                            <div class="col-xs-12" id="divDocuments1">


                                                                @if (Model.EyeTestReport != null)
                                                                {
                                                                    <br />
                                                                    <table width="100%" align="left">
                                                                        <tr>
                                                                            <td>
                                                                                <h2 class="dynamic-page-title dynamic-page-title-2"><i class="fa fa-address-book"></i>Eye Test Report</h2>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td align="left">
                                                                                <table class="display dataTable no-footer" style="width:100%" id="DocumentTable">
                                                                                    <tr style="background-color:lightgray">
                                                                                        <td>Document Type</td>
                                                                                        <td>File Name</td>
                                                                                        <td>Year</td>
                                                                                        <td>&nbsp;</td>
                                                                                    </tr>
                                                                                    @foreach (var item in ViewData["DocAttachmentsEyeTest"] as IEnumerable<TuvVision.Models.Users>)
                                                                                    {
                                                                                        string[] arrFile = item.FileName.Split(',');
                                                                                        string[] arrValue = null;
                                                                                        <tr style="background-color:#f0f0f0">
                                                                                            <td width="35%">@item.AttType</td>
                                                                                            <td>
                                                                                                @for (int cnt = 0; cnt < arrFile.Length; cnt++)
                                                                                                {

                                                                                                    arrValue = arrFile[cnt].ToString().Split('#');





                                                                                                    strFileName = arrValue[0].ToString();
                                                                                                    strPKId = arrValue[1].ToString();

                                                                                                    <a class="title" href="@Url.Action("DownloadFormat1", "Users", new {  @d= strPKId})">@strFileName</a>


                                                                                                }
                                                                                            </td>
                                                                                            <td>@item.Year</td>
                                                                                            <td width="8%">
                                                                                                <a href="javascript:void(0);" data-id="@strPKId" class="deleteItemFormat">X</a>
                                                                                            </td>

                                                                                        </tr>
                                                                                    }

                                                                                </table>
                                                                            </td>

                                                                        </tr>
                                                                    </table>







                                                                }
                                                            </div>

                                                            <br />
                                                        </div>*@


                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <hr class="custom-hr1">
                                                        </div>
                                                    </div>




                                                    <br />

                                                    <br />
                                                    <div class="row">
                                                        @*<div class="col-xs-12">*@
                                                        <div class="col-xs-4">

                                                            <label style="color:#100ED2">Upload Documents</label>
                                                            @if (ViewBag.DocTypeList != null)
                                                            {
                                                                @Html.DropDownListFor(m => m.DocType, ViewBag.DocTypeList as IEnumerable<SelectListItem>, "--Select Attachment Type--", new { @class = "form-control form-control-custom", @id = "DOCType", })
                                                                @Html.ValidationMessageFor(model => model.DocType, "", new { @class = "text-danger validation-msg" })
                                                            }
                                                        </div>
                                                        <div class="col-xs-6" style="margin-top:20px">
                                                            <input type="file" class="filepond" name="DocUpload" id="DocUpload" multiple />
                                                            <input hidden="hidden" id="DocUpload" name="DocUpload" class="hidden" />
                                                        </div>
                                                        @*<div class="form-group" style="margin-top:20px">

                                                            </div>*@
                                                        @*</div>*@

                                                        @*<div class="row">*@
                                                        <div class="col-xs-2">

                                                            <button type="button" class="btn btn-default insert-form-btn" id="btnAddDoc" title="Submit" style="margin-top:28px;"><i class="fa fa-plus-circle"></i>Add Document</button>
                                                        </div>
                                                        @*</div>*@


                                                        <div class="col-xs-12" id="divDocuments">


                                                            @if (Model.UserAttachment != null)
                                                            {
                                                                <br />
                                                                    <table width="100%" align="left">
                                                                        <tr>
                                                                            <td>
                                                                                <h2 class="dynamic-page-title dynamic-page-title-2"><i class="fa fa-address-book"></i>List of Documents</h2>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td align="left">
                                                                                <table class="display dataTable no-footer" style="width:100%" id="DocumentTable">
                                                                                    <tr style="background-color:lightgray">
                                                                                        <td>Document Type</td>
                                                                                        <td>File Name</td>
                                                                                        <td>&nbsp;</td>
                                                                                    </tr>
                                                                                    @*@foreach (var item in ViewData["DocAttachments"] as IEnumerable<TuvVision.Models.Users>)
                                                                                        {
                                                                                            string[] arrFile = item.FileName.Split(',');
                                                                                            string[] arrValue = null;
                                                                                            <tr style="background-color:#f0f0f0">
                                                                                                <td width="35%">@item.AttType</td>
                                                                                                <td>
                                                                                                    @for (int cnt = 0; cnt < arrFile.Length; cnt++)
                                                                                                    {

                                                                                                        arrValue = arrFile[cnt].ToString().Split('#');





                                                                                                        strFileName = arrValue[0].ToString();
                                                                                                        strPKId = arrValue[1].ToString();

                                                                                                        <a class="title" href="@Url.Action("DownloadFormat1", "Users", new {  @d= strPKId})">@strFileName</a>



                                                                                                    }
                                                                                                </td>
                                                                                                <td width="8%">
                                                                                                    <a href="javascript:void(0);" data-id="@strPKId" class="deleteItemFormat">X</a>
                                                                                                </td>

                                                                                            </tr>
                                                                                        }*@

                                                                                    @foreach (var item in ViewData["DocAttachments"] as IEnumerable<TuvVision.Models.Users>)
                                                                                    {
                                                                                        string[] arrFile = item.FileName.Split(','); // Split filenames by semicolon

                                                                                        <tr style="background-color:#f0f0f0">
                                                                                            <td width="35%">@item.AttType</td>
                                                                                            <td>
                                                                                                @foreach (var file in arrFile)
                                                                                                {

                                                                                                    string[] arrValue = file.Split('#');
                                                                                                    string strFileName1 = arrValue[0];
                                                                                                    string strPKId1 = arrValue[1];
                                                                                                    if (item.AttType == "Eye Test Report")
                                                                                                    {
                                                                                                        <input type="hidden" id="GetfileName_" value="Eye" />
                                                                                                    }
                                                                                                    if (item.AttType == "Photo (Passport Size)")
                                                                                                    {
                                                                                                        <input type="hidden" id="GetfileName" value="Photo" />
                                                                                                    }
                                                                                                    @*else
                                                                                                        {
                                                                                                            <input type="hidden" id="GetfileName" value="No" />
                                                                                                        }*@
                                                                                                    <div>
                                                                                                        <a class="title" href="@Url.Action("DownloadFormat1", "Users", new { d = strPKId1 })">@strFileName1</a>
                                                                                                        <a href="javascript:void(0);" data-id="@strPKId1" class="deleteItemFormat IdeleteContact btn btn-danger btn-xs">X</a>
                                                                                                    </div>
                                                                                                    <br /> <!-- Line break after each file -->
                                                                                                }
                                                                                            </td>
                                                                                            <td width="8%">
                                                                                                <!-- Optionally, you can remove this if you don't want an extra delete button in the column -->
                                                                                            </td>
                                                                                        </tr>
                                                                                    }


                                                                                </table>
                                                                            </td>

                                                                        </tr>
                                                                    </table>

                                                            }
                                                        </div>
                                                    </div>
                                                </div>

                                                @Html.HiddenFor(m => m.Signature)
                                                @Html.HiddenFor(m => m.FilePath)
                                                <!--Button Controls-->
                                                <br />
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-12">
                                                        <div class="form-group">
                                                            @if (Model.LoginUserRoleId == 36 || Model.LoginUserRoleId == 1 || Model.LoginUserRoleId == 30 || Model.LoginUserRoleId == 54 || Model.LoginUserRoleId == 42 || Model.LoginUserRoleId == 61 || Model.LoginUserRoleId == 62)
                                                            {
                                                                if (Model.PK_UserID != Session["UserIDs"].ToString())
                                                                {
                                                                    if (Model.isVerified == true)
                                                                    {
                                                                        <div class="col-xs-12 col-sm-6">
                                                                            <div class="form-group">
                                                                                @Html.CheckBoxFor(model => model.isVerified, new { @onclick = "return false;" })
                                                                                <label for="InActive" style="color:black;">Users Personal Details Verified</label>

                                                                            </div>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="col-xs-12 col-sm-6">
                                                                            <div class="form-group">
                                                                                @Html.CheckBoxFor(model => model.isVerified)
                                                                                <label for="InActive" style="color:black;">Users Personal Details Verified</label>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <div class="col-xs-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            @Html.CheckBoxFor(model => model.isVerified, new { @onclick = "return false;" })
                                                                            <label for="InActive" style="color:black;">Users Personal Details Verified</label>

                                                                        </div>
                                                                    </div>
                                                                }

                                                            }
                                                            else
                                                            {
                                                                <div class="col-xs-12 col-sm-6">
                                                                    <div class="form-group">
                                                                        @Html.CheckBoxFor(model => model.isVerified, new { @onclick = "return false;" })
                                                                        <label for="InActive" style="color:black;">Users Personal Details Verified</label>

                                                                    </div>
                                                                </div>
                                                            }
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-xs-12 text-center">
                                                        <div class="form-group">

                                                            @if (Model != null)
                                                            {
                                                                bool allFieldsValid =
                                                                    Model.PK_UserID != null &&
                                                                    !string.IsNullOrWhiteSpace(Model.DOB) &&
                                                                    //!string.IsNullOrWhiteSpace(Model.AgeCalculator) &&
                                                                    //!Convert.ToString(string.IsNullOrWhiteSpace(Model.Nationality)) &&
                                                                    //!string.IsNullOrWhiteSpace(Model.Location) &&
                                                                    !string.IsNullOrWhiteSpace(Model.LanguageSpoken) &&
                                                                    !string.IsNullOrWhiteSpace(Model.Gender) &&
                                                                    !string.IsNullOrWhiteSpace(Model.DateOfJoining) &&
                                                                    //!string.IsNullOrWhiteSpace(Model.TUVTotalyearofExperience) &&
                                                                    !string.IsNullOrWhiteSpace(Model.Marital_Status);

                                                                if (Model.PK_UserID == null)
                                                                {
                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave1" title="Submit"><i class="fa fa-plus-circle"></i> Insert User</button>
                                                                        <input type="button" class="btn btn-default insert-form-btn" value="Training Record" onclick="GetdataTraining();" />
                                                                        @*<button type="button" class="btn btn-default insert-form-btn" id="btnCreateCV" onclick="CreateCV() "><i class="fa fa-plus-circle"></i> Create CV </button>*@
                                                                }
                                                                else
                                                                {

                                                                    if (Convert.ToString(System.Web.HttpContext.Current.Session["RoleID"]) == "36" || Convert.ToString(System.Web.HttpContext.Current.Session["RoleID"]) == "52" || Convert.ToString(System.Web.HttpContext.Current.Session["RoleID"]) == "61" || Convert.ToString(System.Web.HttpContext.Current.Session["UserID"]) == Model.PK_UserID)
                                                                    {
                                                                        <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave1" title="Submit"><i class="fa fa-plus-circle"></i> Update User</button>
                                                                            <input type="button" class="btn btn-default insert-form-btn" value="Training Record" onclick="GetdataTraining();" />
                                                                    }


                                                                    if (allFieldsValid)
                                                                    {
                                                                        @*<button type="button" class="btn btn-default insert-form-btn" id="btnCreateCV" onclick="location.href='@Url.Action("CreateCV", "Users")'"><i class="fa fa-plus-circle"></i> Create CV </button>*@
                                                                        <button type="button" class="btn btn-default insert-form-btn" id="btnCreateCV"><i class="fa fa-plus-circle"></i> Create CV </button>
                                                                    }
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave1" title="Submit"><i class="fa fa-plus-circle"></i> Insert User</button>
                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnCreateCV" onclick="CreateCV()"><i class="fa fa-plus-circle"></i> Create CV </button>
                                                                    <input type="button" class="btn btn-default insert-form-btn" value="Training Record" onclick="GetdataTraining();" />
                                                            }


                                                            @*@if (Model != null)
                                                                {
                                                                    if (Model.PK_UserID == null)
                                                                    {

                                                                        <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave1" title="Submit"><i class="fa fa-plus-circle"></i> Insert User</button>
                                                                    }
                                                                    else
                                                                    {
                                                                        <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave1" title="Submit"><i class="fa fa-plus-circle"></i> Update User</button>
                                                                        <button type="button" class="btn btn-default insert-form-btn" id="btnCreateCV" onclick="location.href='@Url.Action("CreateCV","Users")'"><i class="fa fa-plus-circle"></i> Create CV </button>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave1" title="Submit"><i class="fa fa-plus-circle"></i> Insert User</button>
                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnCreateCV" onclick="CreateCV()"><i class="fa fa-plus-circle"></i> Create CV </button>
                                                                }*@
                                                        </div>


                                                        <div class="form-group">

                                                            @if (Convert.ToString(System.Web.HttpContext.Current.Session["RoleID"]) == "52" || Convert.ToString(System.Web.HttpContext.Current.Session["LoginID"]) == "TUV00602" || Convert.ToString(System.Web.HttpContext.Current.Session["LoginID"]) == "superadmin")
                                                            {
                                                                <button type="button" class="btn btn-default insert-form-btn" id="btnreset" style="margin-bottom:5px" title="Submit" onclick="ResetPassword()">Reset Password</button>

                                                            }
                                                        </div>

                                                    </div>


                                                    @*</div>*@
                                                    <!--Button Controls-->
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- /.col -->

                    </div><!-- /.row -->
                </div><!-- /.data table col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
        <!--End of header-->
    </div>
    <!--End of main content 3-->

                                                                }


<div class="modal fade" id="remarksModal" tabindex="-1" role="dialog" aria-labelledby="remarksModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <!-- Use modal-lg for wider table view -->
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="remarksModalLabel">Training Record</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <button type="button" value="ExportToExcel" id="btnpdf" class="btn btn-info dynamic-function-btn dynamic-function-btn-2" onclick="location.href='@Url.Action("GenerateTrainingDataExcel","Users", new { OPE_Number = @ViewBag.OP_Number })'"
                        style="border:none;">
                    Export To Excel
                </button>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-bordered table-sm" id="tblusersmodal">
                        <thead style="background-color:#001ED2;color:white;border:1px solid;">
                            <tr>
                                <th style="font-family:'TNG Pro';">Training Date</th>
                                <th style="font-family:'TNG Pro';">Hours</th>
                                <th style="font-family:'TNG Pro';">Topic</th>
                                <th style="font-family:'TNG Pro';">Scope</th>
                                <th style="font-family:'TNG Pro';">Scope Number</th>
                                <th style="font-family:'TNG Pro';">Category</th>
                            </tr>
                        </thead>
                        <tbody id="userbody"></tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

@********************************************************************************Script Started Here************************************************@
<script src="~/AllJsAndCss/js/bootstrap-multiselect.js"></script>
<link href="~/AllJsAndCss/css/bootstrap-multiselect.css" rel="stylesheet" />

<script>
    $('.form-multiselect-city').multiselect({
        enableFiltering: true,
        includeSelectAllOption: true,
        enableCaseInsensitiveFiltering: true
    });
</script>
<script type="text/javascript">
    $(function () {
        $('#Auditee').multiselect({
            includeSelectAllOption: true
        });

    });

    $(function () {
        $('#BrAuditee').multiselect({
            includeSelectAllOption: true
        });

    });

    $(function () {
        $('#LangAuditee').multiselect({
            includeSelectAllOption: true
        });




    });
</script>


<script>

    //added by nikita on 28/09/2023
    //start
    $(document).ready(function () {
        BindPchName();
        var Langselected = $("#LangAuditee option:selected");
        var LangSelectedVal = "";
        Langselected.each(function () {
            LangSelectedVal += $(this).text() + ",";
        });
        LangSelectedVal = LangSelectedVal.replace(/,\s*$/, "");
        localStorage.setItem('LangSelectedVal', LangSelectedVal)
    });




    function BindPchName() {
        debugger;
        var brid = $("#BrAuditee").val();
        var extractedValue = brid.length > 0 ? brid[0] : '';
        $.ajax({
            url: "@Url.Action("GetPch","Users")",
            type: "get",
            dataType: "json",
            data: { brid: extractedValue },
            //contentType: "application/json; charset=utf-8",
            success: function (result) {
                debugger;
                const Name = JSON.parse(result);
                //Name.each(function()
                //{

                //})
                if (result = true) {
                    $("#txtpch").val(Name[0].PCH_Name);
                }
            },

            error: function (result) {
                debugger;
                alert("something went wrong");
            }
        });
    }

    function ResetPassword() {

        var userid = $("#txtpkuserid").val();
        $.ajax({
            url: "@Url.Action("PasswordReset", "Users")",
            type: "post",
            datatype: 'json',
            data: { userid: userid },
            success: function (result) {

                debugger;
                if (result == true)
                    alert("Password Reset Successfully");
                else {
                    alert("Something Went wrong");
                }
            },
            error: function (result) {
                alert("something went wrong");
            }
        });
    }


    //end

</script>

<script>
    $("#FileUpload").change(function () {
        debugger;
        var Pk_Id = null;
        var formdata = new FormData(); //FormData object
        var fileInput = document.getElementById('FileUpload');
        //Iterating through each files selected in fileInput
        for (i = 0; i < fileInput.files.length; i++) {
            //Appending each file to FormData object
            formdata.append(fileInput.files[i].name, fileInput.files[i]);
        }
        var fileExtension = ['jpeg', 'jpg', 'gif', 'png'];
        if ($.inArray($("#FileUpload").val().split('.').pop().toLowerCase(), fileExtension) == -1) {
            alert("Only formats are allowed : " + fileExtension.join(', '));
        }

        //Creating an XMLHttpRequest and sending
        var xhr = new XMLHttpRequest();
        var link = '@Url.Action("TemporaryFilePathUserSignature", "Users")';
        xhr.open('POST', link, 'true');
        xhr.send(formdata);
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                debugger;
                var data = xhr.responseText;
                data = data.replace(/"/g, "");
                $("#FilePath").val(data);
            }
        }
    })

</script>

<script>
    $("#UserName").change(function () {
        debugger;
        var ExistsUserName = $("#UserName").val();

        $.ajax({
            type: "GET",
            url: "@Url.Action("CheckingUserNameExist", "Users")",
            data: { ExistingUserName: ExistsUserName },
            dataType: "json",
            cache: false,
            success: function (response) {
                if (response == "Success") {
                    alert("User Already Exists in System !! Please try another User Name!!!");
                    $("#UserName").val('');

                }
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });
</script>

<script type="text/javascript">

    $(document).ready(function () {
        Reset()


        function Reset() {
            $("#btnReset").click(function myfunction() {

                location.reload();
            });
        }
    });
</script>



<script>
    $("#btnUserSave1").on('click', function (event) {
        debugger;
        var a = "1";
        var b = "1";
        var c = "1";
        var status = false;
        // var varGender = $("input[name='Gender']:checked").val();
        /// var varIsActive = $("input[name='IsActive']:checked").val();
        var varRoleId = $("#LoginUserRoleId").val();
        var PK_UserID = $("#PK_UserID").val();
        var isVerified = false;
        var varCurrentAssignment = $("#CA option:selected").val();
        var isEyeAttachmentPresent = false;
        var isProfile = false;
        var getfilename=$("#GetfileName").val();
        var GetfileName_ = $("#GetfileName_").val();
        var S1Check = $("#S1Check").val();
        var IBRcompetent = $("#IBRcompetent").val();
        var CBBAuthorisationNumber = $("#CBBAuthorisationNumber").val();

        if (GetfileName_ === "Eye") {
            isEyeAttachmentPresent = true;
        }
        if (getfilename === "Photo") {
            isProfile = true;
        }

        @*var docAttachments =@Html.Raw(Json.Encode(ViewData["DocAttachments"]));
        if (docAttachments && docAttachments.length > 0) {
            for (var i = 0; i < docAttachments.length; i++) {
                var attachment = docAttachments[i];

                // Accessing AttType and FileName for each item
                var attType = attachment.AttType;
                var fileName = attachment.FileName;
                // Check if the attachment type is 'Photo (Passport Size)'
                if (attType === 'Eye Test Report') {
                    isEyeAttachmentPresent = true;
                }
                if (attType === 'Photo (Passport Size)') {
                    isProfile = true;
                }
            }
        }*@
        if (varRoleId == '36') {
            var FirstName = $("#FirstName").val();
            var MiddleName = $("#MiddleName").val();
            var LastName = $("#LastName").val();
            var UserName = $("#UserName").val();
            var DateOfJoining = $("#DateOfJoining").val();
            var Branch = $("#BrAuditee option:selected").val();
            var CostCenter = $("#Pk_CC_Id option:selected").val();
            var EmployementCategory = $("#EC option:selected").val();
            var EmployeeGradeId = $("#EGI option:selected").val();
            var EmployeeCode = $("#EmployeeCode").val();
            var SAPEmployeeCode = $("#SAPEmployeeCode").val();
            var SAP_VendorCode = $("#SAP_VendorCode").val();
            var ReportingOne = $("#R1 option:selected").val();
            var ReportingTwo = $("#R2 option:selected").val();
            var OPE = $("#OPE option:selected").val();
            var Designation = $("#Designation").val();
            var TuvEmailId = $("#TuvEmailId").val();
            var UserId = $("#PK_UserID").val();
            var Role = $("#ddlUserName option:selected").val();
            var Portfolio = $("#Auditee option:selected").val();
            var status = $("#IsActive option:selected").val();
            var IsLocked = $("#IsLocked option:selected").val();
            var OrgChangeDt = $("#OrgChangeDate").val();
            var ReasonForUpd = $("#RFU").val();
            //added by shrutika salve 28022024
            var CoreStudy = $("#ddlCoreStudy option:selected").val();
            var Location = $("#Location").val();
            var Nationality = $("#Nationality option:selected").val();
            var EmpRollNo = $("#EmpRollNo").val();
            var S1Check = $("#S1Check").val();
            var IBRcompetent = $("#IBRcompetent").val();
            var CBBAuthorisationNumber = $("#CBBAuthorisationNumber").val();
            if (FirstName == "" || FirstName == null) {
                alert("Please Enter First Name !!!");
                $("#FirstName").focus()
                return false;
            }
            //if (MiddleName == "" || MiddleName == null) {
            //    alert("Please Enter Middle Name !!!");
            //    $("#MiddleName").focus()
            //    return false;
            //}
            if (LastName == "" || LastName == null) {
                alert("Please Enter Last Name  !!!");
                $("#LastName").focus()
                return false;
            }
            if (UserName == "" || UserName == null) {
                alert("Please Enter User Name !!!");
                $("#UserName").focus()
                return false;
            }
            if (DateOfJoining == "" || DateOfJoining == null) {
                alert("Please Enter Date Of Joining !!!");
                $("#DateOfJoining").focus()
                return false;
            }
            if (Branch == "" || Branch == null) {
                alert("Please Enter Branch !!!");
                $("#BrAuditee").focus()
                return false;
            }
            if (CostCenter == "" || CostCenter == null) {
                alert("Please Enter Cost Center !!!");
                $("#Pk_CC_Id").focus()
                return false;
            }

            if (EmployementCategory == "" || EmployementCategory == null) {
                alert("Please Enter Employement Category !!!");
                $("#EC").focus()
                return false;
            }


            if (EmployeeGradeId == "" || EmployeeGradeId == null) {
                alert("Please Enter Employee Grade !!!");
                $("#EGI").focus()
                return false;
            }

            if (EmployeeCode == "" || EmployeeCode == null) {
                alert("Please Enter Employee Code!!!");
                $("#EmployeeCode").focus()
                return false;
            }
            //if (Location == "" || Location == null) {
            //    alert("Please Enter Location!!!");
            //    $("#Location").focus()
            //    return false;
            //}
            //if (Nationality == "" || Nationality == null) {
            //    alert("Please Enter Nationality!!!");
            //    $("#Nationality").focus()
            //    return false;
            //}


            //if (SAPEmployeeCode == "" || SAPEmployeeCode == null) {
            //    alert("Please Enter SAP Employee Code!!!");
            //    $("#SAPEmployeeCode").focus()
            //    return false;
            //}

            //if (SAP_VendorCode == "" || SAP_VendorCode == null) {
            //    alert("Please Enter SAP Vendor Code!!!");
            //    $("#SAP_VendorCode").focus()
            //    return false;
            //}
            ////if (ReportingOne == "" || ReportingOne == null) {
            ////    alert("Please Enter Reporting One!!!");
            ////    $("#ReportingOne").focus()
            ////    return false;
            ////}
            ////if (ReportingOne == "" || ReportingOne == null) {
            ////    alert("Please Enter Reporting One!!!");
            ////    $("#R1").focus()
            ////    return false;
            ////}
            ////if (ReportingTwo == "" || ReportingTwo == null) {
            ////    alert("Please Enter Reporting Two!!!");
            ////    $("#R2").focus()
            ////    return false;
            ////}
            if (OPE == "" || OPE == null) {
                alert("Please Enter OPE!!!");
                $("#OPE").focus()
                return false;
            }
            if (Designation == "" || Designation == null) {
                alert("Please Enter Designation!!!");
                $("#Designation").focus()
                return false;
            }
            if (TuvEmailId == "" || TuvEmailId == null) {
                alert("Please Enter Tuv Email Id!!!");
                $("#TuvEmailId").focus()
                return false;
            }
            //if (UserId == "" || UserId == null) {
            //    alert("Please Enter User Id!!!");
            //    $("#PK_UserID").focus()
            //    return false;
            //}
            if (Role == "" || Role == null) {
                alert("Please Enter Role!!!");
                $("#ddlUserName").focus()
                return false;
            }
            if (Portfolio == "" || Portfolio == null) {
                alert("Please Enter Portfolio!!!");
                $("#Auditee").focus()
                return false;
            }
            if (status == "" || status == null) {
                alert("Please Enter status!!!");
                $("#IsActive").focus()
                return false;
            }
            if (IsLocked == "" || IsLocked == null) {
                alert("Please Enter IsLocked!!!");
                $("#IsLocked").focus()
                return false;
            }

            if (OrgChangeDt != "" && OrgChangeDt != null) {
                if (ReasonForUpd == "" || ReasonForUpd == null) {
                    alert("Please enter reason for Update!!!");
                    $("#RFU").focus()
                    return false;
                }

            }
            if (ReasonForUpd != "" && ReasonForUpd != null) {
                if (OrgChangeDt == "" || OrgChangeDt == null) {
                    alert("Please enter Organisational Change Date!!!");
                    $("#OrgChangeDate").focus();
                    return false;
                }
            }

            if ($('#isVerified').prop('checked')) {
                isVerified = true;
            }
            else {
                isVerified = false;
            }



        }
        else if (varRoleId == "61" || varRoleId == "62") {
            var FirstName = $("#FirstName").val();
            var MiddleName = $("#MiddleName").val();
            var LastName = $("#LastName").val();
            var UserName = $("#UserName").val();
            var DateOfJoining = $("#DateOfJoining").val();
            var Branch = $("#BrAuditee option:selected").val();
            var CostCenter = $("#Pk_CC_Id option:selected").val();
            var EmployementCategory = $("#EC option:selected").val();
            var EmployeeGradeId = $("#EGI option:selected").val();
            var EmployeeCode = $("#EmployeeCode").val();
            var SAPEmployeeCode = $("#SAPEmployeeCode").val();
            var SAP_VendorCode = $("#SAP_VendorCode").val();
            var ReportingOne = $("#R1 option:selected").val();
            var ReportingTwo = $("#R2 option:selected").val();
            var OPE = $("#OPE option:selected").val();
            var Designation = $("#Designation").val();
            var TuvEmailId = $("#TuvEmailId").val();
            var UserId = $("#PK_UserID").val();
            var Role = $("#ddlUserName option:selected").val();
            var Portfolio = $("#Auditee option:selected").val();
            var status = $("#IsActive option:selected").val();
            var IsLocked = $("#IsLocked option:selected").val();
            var OrgChangeDt = $("#OrgChangeDate").val();
            var ReasonForUpd = $("#RFU").val();
            //added by shrutika salve 28022024
            var CoreStudy = $("#ddlCoreStudy option:selected").val();
            var TotalExpYear = $("#TYE").val();
            var TotalExpMonths = $("#TYEM").val();
            var DOB = $("#DOB").val();
            var Location = $("#Location").val();
            var Nationality = $("#Nationality option:selected").val();
            var varGender = $("#Gender option:selected").val();
              var  Marital_Status= $("#Marital_Status").val();
            ///LanguageSpoken: $("#LanguageSpoken").val(),
              var Langselected = $("#LangAuditee option:selected");
              var LanguageSpoken = LangSelectedVal;

            if (DOB == "" || DOB == null) {
                alert("Please Enter DOB !!!");
                $("#DOB").focus()
                return false;
            }
            if (TotalExpYear == "" || TotalExpYear == null) {
                alert("Please Enter Experience before Joining in YY MM !!!");
                $("#TYE").focus()
                return false;
            }
            if (CoreStudy == "" || CoreStudy == null) {
                alert("Please Select Core Field Of Study!!!");
                $("#ddlCoreStudy").focus()
                return false;
            }
            if (Location == "" || Location == null) {
                alert("Please Enter Location!!!");
                $("#Location").focus()
                return false;
            }
            if (Nationality == "" || Nationality == null) {
                alert("Please Enter Nationality!!!");
                $("#Nationality").focus()
                return false;
            }
            if (varGender == "" || varGender == null) {
                alert("Please Enter Gender !!!");
                $("#Gender").focus()
                return false;
            }
            if (Marital_Status == "" || Marital_Status == null) {
                alert("Please Enter Marital Status  !!!");
                $("#Marital_Status").focus()
                return false;
            }
            if (Langselected.length === 0) {
                alert("Please select a language(s)!!!");
                $("#LangAuditee").focus();
                return false;
            }

            //if (LanguageSpoken == "" || LanguageSpoken == null) {
            //    alert("Please Select Languages !!!");

            //    return false;
            //}

            if ($('#isVerified').prop('checked')) {
                isVerified = true;
            }
            else {
                isVerified = false;
            }
        }

        else if (varRoleId == '1' || varRoleId == '42' || varRoleId == '54' || varRoleId == '30') {

            if ($('#isVerified').prop('checked')) {
                isVerified = true;
            }
            else {
                isVerified = false;
            }

            if (PK_UserID != '@Session["UserIDs"].ToString()') {
                if (isVerified == false) {
                    alert("Kindly verify the Personal details of the User !!!");
                    $("#isVerified").focus();
                    return false;

                }
            }
            var DOB = $("#DOB").val();
            var PanNo = $("#PanNo").val();
            var EmailID = $("#EmailID").val();
            var MobileNo = $("#MobileNo").val();
            var EmergencyMobile_No = $("#EmergencyMobile_No").val();

            var Address1 = $("#Address1").val();
            var Address2 = $("#Address2").val();
            var ZipCode = $("#ZipCode").val();
            var PermanantPin = $("#PermanantPin").val();

            if (Address1 == "" || Address1 == null) {
                alert("Please Enter Residing Address !!!");
                $("#Address1").focus()
                return false;
            }
            if (Address2 == "" || Address2 == null) {
                alert("Please Enter permanent Address !!!");
                $("#Address2").focus()
                return false;
            }
            if (ZipCode == "" || ZipCode == null) {
                alert("Please Enter Residing Address PIN code !!!");
                $("#ZipCode").focus()
                return false;
            }
            if (PermanantPin == "" || PermanantPin == null) {
                alert("Please Enter Permanent address PIN code !!!");
                $("#ZipCode").focus()
                return false;
            }


            var Gender = $("#Gender").val();
            var TotalExpYear = $("#TYE").val();
            var TotalExpMonths = $("#TYEM").val();
            if (DOB == "" || DOB == null) {
                alert("Please Enter DOB !!!");
                $("#DOB").focus()
                return false;
            }
            if (PanNo == "" || PanNo == null) {
                alert("Please Enter Pan No !!!");
                $("#PanNo").focus()
                return false;
            }
            if (EmailID == "" || EmailID == null) {
                alert("Please Enter Email ID !!!");
                $("#EmailID").focus()
                return false;
            }
            if (MobileNo == "" || MobileNo == null) {
                alert("Please Enter MobileNo !!!");
                $("#MobileNo").focus()
                return false;
            }
            if (EmergencyMobile_No == "" || EmergencyMobile_No == null) {
                alert("Please Enter Emergency Mobile No !!!");
                $("#EmergencyMobile_No").focus()
                return false;
            }
            if (Gender == "" || Gender == null) {
                alert("Please Enter Gender !!!");
                $("#Gender").focus()
                return false;
            }
            if (TotalExpYear == "" || TotalExpYear == null) {
                alert("Please Enter Experience in Years and Months before TUVI Joining!!!");
                $("#TYE").focus()
                return false;
            }
            if (TotalExpMonths == "" || TotalExpMonths == null) {
                //alert("Please Enter Total Exp Months !!!");
                alert("Please Enter Experience in Years and Months before TUVI Joining!!!");
                $("#TYEM").focus()
                return false;
            }
            if (varCurrentAssignment == "" || varCurrentAssignment == null) {
                alert("Please Enter Current Assignment !!!");
                $("#CA").focus()
                return false;
            }
            //if (EmpRollNo == "" || EmpRollNo == null) {
            //    alert("Please Enter EmpRollNo!!!");
            //    $("#EmpRollNo").focus()
            //    return false;
            //}

            var ddlvalue = $("#CA option:selected").val();
            var varCustName = $("#SiteDetail").val();
            var varCustName1 = $("#SitePin").val();
            if (ddlvalue == 'Site/fixed location Deputed at single vendor/customer location for inspection/QA activity.') {
                if (varCustName == "" || varCustName == null) {
                    alert("Please Enter Customer/vendor name !!!");
                    $("#SiteDetail").focus()
                    return false;
                }
                else {

                }

            }
            if (ddlvalue == 'Site/fixed location Deputed at single vendor/customer location for inspection/QA activity.') {
                if (varCustName1 == "" || varCustName1 == null) {
                    alert("Please Enter Site Pin Code !!!");
                    $("#SitePin").focus()
                    return false;
                }
                else {

                }
            }

            else {

            }

        }
        else if (varRoleId == '52' || varRoleId == '59') {

        }
        else {

            //var IsLocked = $("#IsLocked option:selected").val();

            var LpgGasCylinder = $("#LpgGasCylinder").val();
            var DOB = $("#DOB").val();
            var PanNo = $("#PanNo").val();
            var EmailID = $("#EmailID").val();
            var MobileNo = $("#MobileNo").val();
            var EmergencyMobile_No = $("#EmergencyMobile_No").val();

            var Address1 = $("#Address1").val();
            var Address2 = $("#Address2").val();
            var ZipCode = $("#ZipCode").val();
            var PermanantPin = $("#PermanantPin").val();

            if (Address1 == "" || Address1 == null) {
                alert("Please Enter Residing Address !!!");
                $("#Address1").focus()
                return false;
            }
            if (Address2 == "" || Address2 == null) {
                alert("Please Enter permanent Address !!!");
                $("#Address2").focus()
                return false;
            }
            if (ZipCode == "" || ZipCode == null) {
                alert("Please Enter Residing Address PIN code !!!");
                $("#ZipCode").focus()
                return false;
            }
            if (PermanantPin == "" || PermanantPin == null) {
                alert("Please Enter Permanent address PIN code !!!");
                $("#ZipCode").focus()
                return false;
            }
            if (varCurrentAssignment == "" || varCurrentAssignment == null) {
                alert("Please Enter Current Assignment !!!");
                $("#CA").focus()
                return false;
            }


            var Gender = $("#Gender").val();
            var TotalExpYear = $("#TYE").val();
            var TotalExpMonths = $("#TYEM").val();

            if (DOB == "" || DOB == null) {
                alert("Please Enter DOB !!!");
                $("#DOB").focus()
                return false;
            }
            if (PanNo == "" || PanNo == null) {
                alert("Please Enter Pan No !!!");
                $("#PanNo").focus()
                return false;
            }
            if (EmailID == "" || EmailID == null) {
                alert("Please Enter Email ID !!!");
                $("#EmailID").focus()
                return false;
            }
            if (MobileNo == "" || MobileNo == null) {
                alert("Please Enter MobileNo !!!");
                $("#MobileNo").focus()
                return false;
            }
            if (EmergencyMobile_No == "" || EmergencyMobile_No == null) {
                alert("Please Enter Emergency Mobile No !!!");
                $("#EmergencyMobile_No").focus()
                return false;
            }
            if (Gender == "" || Gender == null) {
                alert("Please Enter Gender !!!");
                $("#Gender").focus()
                return false;
            }
            if (TotalExpYear == "" || TotalExpYear == null) {
                alert("Please Enter Experience before Joining in YY !!!");
                $("#TYE").focus()
                return false;
            }
            if (TotalExpMonths == "" || TotalExpMonths == null) {
                alert("Please Enter Experience before Joining in MM !!!");
                $("#TYEM").focus()
                return false;
            }

            var ddlvalue = $("#CA option:selected").val();
            var varCustName = $("#SiteDetail").val();
            if (ddlvalue == 'Site/fixed location Deputed at single vendor/customer location for inspection/QA activity.') {
                if (varCustName == "" || varCustName == null) {
                    alert("Please Enter Customer/vendor name !!!");
                    $("#SiteDetail").focus()
                    return false;
                }
                else {

                }
            }
            else {

            }

            if ($("#Marital_Status option:selected").val() == "" || $("#Marital_Status option:selected").val() == null) {
                alert("Please Select Marital_Status!!!");
                $("#Marital_Status").focus()
                return false;
            }
            if ($("#LangAuditee option:selected").val() == "" || $("#LangAuditee option:selected").val() == null) {
                alert("Please Select Language Known!!!");
                $("#LangAuditee").focus()
                return false;
            }
            if ($("#BG option:selected").val() == "" || $("#BG option:selected").val() == null) {
                alert("Please Select Blood Group!!!");
                $("#BG").focus()
                return false;
            }
            if ($("#ShirtSize option:selected").val() == "" || $("#ShirtSize option:selected").val() == null) {
                alert("Please Select Shirt Size!!!");
                $("#ShirtSize").focus()
                return false;
            }
            if ($("#ShoesSize option:selected").val() == "" || $("#ShoesSize option:selected").val() == null) {
                alert("Please Select Shoes Size!!!");
                $("#ShoesSize").focus()
                return false;
            }

            if ($("#ddlCoreStudy option:selected").val() == "" || $("#ddlCoreStudy option:selected").val() == null) {
                alert("Please Select Core  field of Study!!!");
                $("#ddlCoreStudy").focus()
                return false;
            }
        }

        var varIsActive = $("#IsActive option:selected").val();
        var varGender = $("#Gender option:selected").val();

        if (varIsActive == "1") {
            status = true;
        }
        var brAuditee = document.getElementById("BrAuditee");





        var DArray = [];

        $('.trEduQualification').each(function () {
            var trD = {};

            var Course = $(this).find('.CCourse').val();
            if (Course == 'Diploma') {
                Degree = $(this).find('.CDiploma').val();
            }
            else if (Course == 'PGD') {
                Degree = $(this).find('.CPGD').val();
            }
            else if (Course == 'PG') {
                Degree = $(this).find('.CPG').val();
            }
            else {
                Degree = $(this).find('.CDegree').val();
            }
            var MajorFieldOfStudy = $(this).find('.CDBranch').val();
            var University = $(this).find('.CUniversity').val();
            var LastYearCGPA = $(this).find('.CLastYearCGPA').val();
            var AggregateCGPA = $(this).find('.CAggregateCGPA').val();
            var YearOfPassing = $(this).find('.CYearOfPassing').val();

            if (Course != '') {
                trD['Course'] = Course;
                trD['Degree'] = Degree;
                trD['MajorFieldOfStudy'] = MajorFieldOfStudy;
                trD['UniversityName'] = University;
                trD['LastYearCGPA'] = LastYearCGPA;
                trD['AggregateCGPA'] = AggregateCGPA;
                trD['YearOfPassing'] = YearOfPassing;

                if (Course == 'Graduate') {
                    if (MajorFieldOfStudy=="") {
                        a = "2";
                    }
                    else if (Degree=="") {
                        a = "2";
                    }
                    else if (YearOfPassing == "" || YearOfPassing == "0") {
                        a = "10";
                    }
                    else if (University == '') {
                        a = "9";
                    }
                    else if (varRoleId == '61' || varRoleId == '62') {
                        a = "20";
                    }
                        // Check for empty or invalid LastYearCGPA, but only if role is not 52 or 59
                    else if (LastYearCGPA == "" || LastYearCGPA == "0") {
                        a = "3";
                    }
                    else {
                        a = "20";
                    }

                }

                //if (University =='') {
                //    a = "9";
                //}
                if (Course == 'S.S.C' || Course == 'H.S.C' || Course == "PGD") {
                    if (YearOfPassing == "" || YearOfPassing == "0") {
                        a = "10";
                    }
                    else if (University == '') {
                        a = "9";
                    }
                    else if (varRoleId == '61' || varRoleId == '62') {
                        a = "20";
                    }
                    else if (LastYearCGPA == "" || LastYearCGPA == "0") {
                        a = "3";
                    }
                    else {
                        a = "20";
                    }
                }
                if (Course == 'Diploma' || Course == 'PG') {
                    if (Degree == "" || Degree == "0") {
                        a = "12";
                    }
                    else if (YearOfPassing == "" || YearOfPassing == "0") {
                        a = "11";
                    }
                    else if (University == '') {
                        a = "9";
                    }
                    else if (varRoleId == '61' || varRoleId == '62') {
                        a = "20";
                    }
                    else if (LastYearCGPA == "" || LastYearCGPA == "0") {
                        a = "3"
                    }
                    else {
                        a = "20";
                    }
                }
                if (Course == 'Diploma' || Course == 'PG') {
                    if (Degree == "" || Degree == "0") {
                        a = "12";
                    }
                    else if (University == '') {
                        a = "9";
                    }
                    else if (varRoleId == '61' || varRoleId == '62') {
                        a = "20";
                    }
                    else if (LastYearCGPA == "" || LastYearCGPA == "0") {
                        a = "3"
                    }
                    else {
                        a = "20";
                    }
                }

                if (Course == '') {
                    a = "5";
                }
                DArray.push(trD);
            }
        });

        var DArrayPFC = [];

        $('.trProfCertificates').each(function () {
            debugger;
            var trDPFC = {};

            var CertName = $(this).find('.CCertName').val();
            var CertNo = $(this).find('.CCertNo').val();
            var CertIssueDate = $(this).find('.CCertIssueDate').val();
            var CertvalidTill = $(this).find('.CCertValidTill').val();

            if (CertName != '' && CertIssueDate != '' && CertNo != '') {

                trDPFC['CertName'] = CertName;
                trDPFC['CertNo'] = CertNo;
                trDPFC['CertIssueDate'] = CertIssueDate;
                trDPFC['CertvalidTill'] = CertvalidTill;

                if (CertName != '' && CertIssueDate == '') {
                    b = "2";
                }


                DArrayPFC.push(trDPFC);
            }
        });

        var DArrayEYE = [];

        $('.DivEyeTest').each(function () {
            debugger;
            var trEYE = {};
            var Pk_Id = $(this).find('.EPK_ID').val();
            var CreatedBy = $(this).find('.ECreatedBy').val();
            var CertIssueDate = $(this).find('.ECertIssueDate').val();
            {
                trEYE['PK_ID'] = Pk_Id;
                trEYE['EyeCreatedBy'] = CreatedBy;
                trEYE['EyeIssueDate'] = CertIssueDate;
                //if (CreatedBy != '' && CertIssueDate == '') {
                //    c = "4";
                //}
                //if ((CreatedBy != '' && CertIssueDate == '') || (CreatedBy = '' && CertIssueDate != '') || (CreatedBy != '' && CertIssueDate != '')) {
                //    c = "4";
                //}
                //else if ((CreatedBy != '' && CertIssueDate == '') || (CreatedBy = '' && CertIssueDate != '')) {
                //    c = "3";
                //}
                //else if (CertIssueDate == '' || CreatedBy == '') {
                //    c = "5";
                //}
                if (CreatedBy !== '' && CertIssueDate !== '') {
                    c = "4";
                }
                else if ((CreatedBy !== '' && CertIssueDate === '') ||
                         (CreatedBy === '' && CertIssueDate !== '')) {
                    c = "3";
                }
                else if (CertIssueDate === '' || CreatedBy === '') {
                    c = "5";
                }



                DArrayEYE.push(trEYE);
            }
        });

        var selected = $("#BrAuditee option:selected");
        var ddlCountryValue = "";
        selected.each(function () {
            ddlCountryValue += $(this).val() + ",";
        });
        ddlCountryValue = ddlCountryValue.replace(/,\s*$/, "");

        var PortfolioAccesselected = $("#Auditee option:selected");
        var ddlPortfolioAccesselected = "";
        PortfolioAccesselected.each(function () {
            ddlPortfolioAccesselected += $(this).val() + ",";
        });
        ddlPortfolioAccesselected = ddlPortfolioAccesselected.replace(/,\s*$/, "");

        var Langselected = $("#LangAuditee option:selected");
        var LangSelectedVal = "";
        Langselected.each(function () {
            LangSelectedVal += $(this).val() + ",";
        });
        LangSelectedVal = LangSelectedVal.replace(/,\s*$/, "");

        var varIdItemToBeInspected = $("#IdItemToBeInspected option:selected");
        var varIdItemToBeInspectedVal = "";
        varIdItemToBeInspected.each(function () {
            varIdItemToBeInspectedVal += $(this).val() + ",";
        });
        varIdItemToBeInspectedVal = varIdItemToBeInspectedVal.replace(/,\s*$/, "");

        if (varRoleId == '36' || varRoleId == '52' || varRoleId == '59') {

        }

    //else if (varRoleId == '32' || varRoleId == '35' || varRoleId == '37' || varRoleId == '37' || varRoleId == '46' || varRoleId == '53'|| varRoleId=='57')
    //    {
    //        if (c == "4") {
    //            alert("Kindly enter Eye test Details");
    //            return false;
    //        }
    //        else if (c == "5") {
    //            alert("Kindly enter Eye test Details");
    //            return false;
    //        }

    //    }
        else if (varRoleId == '61' || varRoleId == '62') {
            if (PK_UserID != "") {
                if (a == "1") {
                    alert("Either Diploma or Graduate Educational details has to be entered");
                    return false;
                }
                if (a == "9") {
                    alert("Educational details has to be entered");
                    return false;
                }
                if (a == "10") {
                    alert("Either S.S.C or H.S.C  Educational details has to be entered");
                    return false;
                }
                if (a == "11") {
                    alert("Please fill Educational Details");
                    return false;
                }
                if (a == "12") {
                    alert("Please fill Educational Details");
                    return false;
                }
                if (c == "4") {
                    if (!isEyeAttachmentPresent) {
                        alert("Please Enter Eye Details Or Attach Eye Report !!!");
                        return false;  // Prevent further action if the photo is missing
                    }
                }
                //if (!isEyeAttachmentPresent) {
                //    alert("Please Enter Eye Details Or Attach Eye Report !!!");
                //    return false;  // Prevent further action if the photo is missing
                //}
                 if (isEyeAttachmentPresent) {
                    if (c == "3") {
                        alert("Please Enter Eye Details Or Attach Eye Report !!!");
                        return false;  // Prevent further action if the photo is missing
                    }
                 }
                 if (!isEyeAttachmentPresent) {
                     if (c == "3") {
                         alert("Please Enter Eye Details Or Attach Eye Report !!!");
                         return false;  // Prevent further action if the photo is missing
                     }
                 }
                 if (isEyeAttachmentPresent) {
                    if (c == "5") {
                        alert("Please Enter Eye Details Or Attach Eye Report !!!");
                        return false;  // Prevent further action if the photo is missing
                    }
                }
                //if (a == "3") {
                //    alert("Kindly Enter Course Details");
                //    return false;
                //}
                if (b == "2") {
                    alert("Kindly enter Certificate Issue Date");
                    return false;
                }
                if (!isProfile) {
                    alert("Please Attach Photo !!!");
                    return false;
                }
                if (varRoleId == '36') {
                }
                else if (varRoleId == '52') {
                }
                else {
                    var x = confirm("I hereby declare that all the information provided above is true to the best of my knowledge?");
                    if (x) {
                    }
                    else {
                        return false;
                    }
                }
            }
        }
        else {
            if (PK_UserID != "") {
                if (a == "1") {
                    alert("Either Diploma or Graduate Educational details has to be entered in Education Qualification Section");
                    return false;
                }
                //if (!isEyeAttachmentPresent) {
                //    alert("Please Enter Eye Details Or Attach Eye Report !!!");
                //    return false;  // Prevent further action if the photo is missing
                //}
                if (a == "9") {
                    alert("Educational details has to be entered");
                    return false;
                }
                if (a == "10") {
                    alert("Either S.S.C or H.S.C  Educational details has to be entered");
                    return false;
                }

                if (a == "11") {
                    alert("Please fill Educational Details");
                    return false;
                }
                if (a == "12") {
                    alert("Please fill Educational Details");
                    return false;
                }
                if (a == "3") {
                    alert("Kindly Enter Course Details");
                    return false;

                }
                    if (b == "2") {
                        alert("Kindly enter Certificate Issue Date");
                        return false;
                    }
                    if (varRoleId == '36') {

                    }
                    if (c == "4") {
                        if (!isEyeAttachmentPresent) {
                            alert("Please Enter Eye Details Or Attach Eye Report !!!");
                            return false;  // Prevent further action if the photo is missing
                        }

                    }
                     if (isEyeAttachmentPresent) {

                        if (c == "3") {
                            alert("Please Enter Eye Details Or Attach Eye Report !!!");
                            return false;  // Prevent further action if the photo is missing
                        }

                    }
                     if (isEyeAttachmentPresent) {
                        if (c == "5") {
                            alert("Please Enter Eye Details Or Attach Eye Report !!!");
                            return false;  // Prevent further action if the photo is missing
                        }
                    }
                    else if (varRoleId == '52') {
                    }
                    else {
                        var x = confirm("I hereby declare that all the information provided above is true to the best of my knowledge?");
                        if (x) {

                        }
                        else {
                            return false;
                        }
                    }
                     if (!isProfile) {
                         alert("Please Attach Photo !!!");
                         return false;
                     }
                }
        }
        //if (!isProfile) {
        //    alert("Please Attach Photo !!!");
        //    return false;
        //}
            var UserDetails =
                        {
                            PK_UserID: $("#PK_UserID").val(),
                            FirstName: $("#FirstName").val(),
                            MiddleName: $("#MiddleName").val(),
                            LastName: $("#LastName").val(),
                            UserName: $("#UserName").val(),
                            DOB: $("#DOB").val(),
                            PanNo: $("#PanNo").val(),
                            AadharNo: $("#AadharNo").val(),
                            TUVUIN: $("#PK_UserID").val(),
                            DateOfJoining: $("#DateOfJoining").val(),
                            Branch: ddlCountryValue,
                            CostCenter: $("#Pk_CC_Id option:selected").val(),
                            EmployementCategory: $("#EC option:selected").val(),
                            EmployeeGradeId: $("#EGI option:selected").val(),
                            EmployeeCode: $("#EmployeeCode").val(),
                            SAPEmployeeCode: $("#SAPEmployeeCode").val(),
                            SAP_VendorCode: $("#SAP_VendorCode").val(),
                            ReportingOne: $("#R1 option:selected").val(),
                            ReportingTwo: $("#R2 option:selected").val(),
                            OPE: $("#OPE option:selected").val(),
                            Designation: $("#Designation").val(),
                            TuvEmailId: $("#TuvEmailId").val(),
                            ReasonForUpdate: $("#RFU option:selected").val(),
                            OrgChangeDate: $("#OrgChangeDate").val(),
                            EmployeeGradeIdOld: $("#EGO option:selected").val(),
                            UserRole: $("#ddlUserName option:selected").val(),
                            Employee_Type: ddlPortfolioAccesselected,
                            //Auditee: $("#Auditee option:selected").val(),
                            IsActive: status,
                            IsLocked: $("#IsLocked option:selected").val(),
                            EmailID: $("#EmailID").val(),
                            MobileNo: $("#MobileNo").val(),
                            EmergencyMobile_No: $("#EmergencyMobile_No").val(),
                            ResidenceNo: $("#ResidenceNo").val(),
                            OfficeNo: $("#OfficeNo").val(),
                            Address1: $("#Address1").val(),
                            Address2: $("#Address2").val(),
                            ZipCode: $("#ZipCode").val(),
                            PermanantPin: $("#PermanantPin").val(),
                            Gender: varGender,
                            Marital_Status: $("#Marital_Status").val(),
                            ///LanguageSpoken: $("#LanguageSpoken").val(),
                            LanguageSpoken: LangSelectedVal,
                            Medical_History: $("#Medical_History").val(),
                            Allergies: $("#Allergies").val(),
                            BloodGroup: $("#BG option:selected").val(),
                            ShirtSize: $("#ShirtSize").val(),
                            ShoesSize: $("#ShoesSize").val(),
                            TotalyearofExprience: $("#TYE").val(),
                            ExperienceInMonth: $("#TYEM").val(),
                            TUVIStampNo: $("#TUVIStampNo").val(),
                            CurrentAssignment: $("#CA option:selected").val(),
                            SiteDetail: $("#SiteDetail").val(),
                            Sitepin: $("#SitePin").val(),
                            ItemToBeInspected: varIdItemToBeInspectedVal,
                            LoginUserRoleId: $("#LoginUserRoleId").val(),
                            isVerified: isVerified,
                            PFUANNumber: $("#PFUANNumber").val(),
                            //added by shrutika salve 28022024
                            CoreField: $("#ddlCoreStudy option:selected").val(),
                            specialservices: $("#ddlspecialservice option:selected").val(),
                            Dom_Inter: $("#ddlDom_Inter option:selected").val(),
                            DisplayName: $("#DisplayName").val(),
                            LpgGasCylinder: $("#LpgGasCylinder").val(),
                            Nationality: $("#Nationality option:selected").val(),
                            Location: $("#Location").val(),
                            EmpRollNo: $("#EmpRollNo").val(),
                            S1Check: $("#S1Check").val(),
                            IBRcompetent: $("#IBRcompetent").val(),
                            CBBAuthorisationNumber : $("#CBBAuthorisationNumber").val(),
                        }
            $.ajax({
                type: 'POST',
                url: '@Url.Action("CreateUser", "Users")',
                dataType: 'json',
                Async: false,
                data: JSON.stringify({ URS: UserDetails, 'DArray': DArray, 'DArrayPFC': DArrayPFC, 'DArrayEYE': DArrayEYE }),
                enctype: "multipart/form-data",
                contentType: "application/json; charset=utf-8",
                success: function (response) {
                    debugger;
                    if (response.result == 'Redirect') {
                        alert("User Details has been Save successfully!!!")
                        window.location = response.url;
                    }

                    if (response.result == 'Update') {
                        alert("User Details has been updated successfully!!!")
                        window.location = response.url;
                    }
                    else if (response.success == 2) {
                        alert("please select auto suggestions certificate Name !")
                    }
                }
            })

    });

    function CreateCV() {
        debugger;
        var isProfileAttachmentPresent = false;
        var docAttachments = JSON.parse('@Html.Raw(Json.Encode(ViewData["DocAttachments"]))');
        if (docAttachments && docAttachments.length > 0) {
            for (var i = 0; i < docAttachments.length; i++) {
                var attachment = docAttachments[i];
                var attType = attachment.AttType;
                var fileName = attachment.FileName;
                if (attType === 'Photo (Passport Size)') {
                    isProfileAttachmentPresent = true;
                }
            }
        }

        if (isProfileAttachmentPresent) {
        } else {
            alert("Please Attach Photo Attachment");
            return false
        }
        var FirstName = $("#FirstName").val();
        var MiddleName = $("#MiddleName").val();
        var LastName = $("#LastName").val();
        var Name = FirstName + ' ' + MiddleName + ' ' + LastName;
        var UserName = $("#UserName").val();
        var DOB = $("#DOB").val();
        var Age = CalclateYearMonth(DOB);
        //var Nationality = 'Indian';
        //var Location = $('#MainBranch').val();
        var Gender = $("#Gender").val();
        var TotalExpYear = $("#TYE").val();
        var TotalExpMonths = $("#TYEM").val();
        var TotalExp = TotalExpYear + ' Years and ' + TotalExpMonths + ' Months'
        //var MaritalStatus = $('#Marital_Status').val();
        var Languages = $('#LangAuditee option:selected').toArray().map(item => item.text).join();
        //var DateofJoining = $('#DateOfJoining').val();
        var TUVEXP = TotalExpYear + ' Years and ' + TotalExpMonths + ' Months'
        var Total = $('#DynamicCalTotalYearExp').val().split(' ')
        var TotalExp = Total[0] + ' Years and ' + Total[2] + ' Months';
        var Profileimage = "~" + $('#Profileimage').attr('src');
        var PK_UserID = $("#PK_UserID").val();

        var UserDetails = {
            PK_UserID: PK_UserID,
            FullName: Name,
            DOB: $("#DOB").val(),
            AgeCalculator: Age,
            Nationality: 'Indian',
            MainBranch: $('#MainBranch').val(),
            Gender: $("#Gender").val(),
            Marital_Status: $('#Marital_Status').val(),
            LanguageSpoken: Languages,
            DateOfJoining: $('#DateOfJoining').val(),
            TUVTotalyearofExperience: TUVEXP,
            DynamicCalTotalYearExp: TotalExp,
            StrIData: Profileimage
        }

        $.ajax({
            type: 'POST',
            url: '@Url.Action("CreateCV", "Users")',
            dataType: 'json',
            Async: false,
            data: JSON.stringify({ URS: UserDetails }),
            enctype: "multipart/form-data",
            contentType: "application/json; charset=utf-8",
            success: function (response) {
                debugger



            }
        })
    }

    function CalclateYearMonth(joinDateStr) {
        var joinDateParts = joinDateStr.split('/');
        var joinDate = new Date(joinDateParts[2], joinDateParts[1] - 1, joinDateParts[0]);
        var currentDate = new Date();

        var yearsDiff = currentDate.getFullYear() - joinDate.getFullYear();
        var monthsDiff = currentDate.getMonth() - joinDate.getMonth();

        if (currentDate.getDate() < joinDate.getDate()) {
            monthsDiff--;
        }

        if (monthsDiff < 0) {
            yearsDiff--;
            monthsDiff += 12;
        }

        if (yearsDiff >= 0 && yearsDiff <= 9) {
            yearsDiff = '0' + yearsDiff;
        }

        if (monthsDiff >= 0 && monthsDiff <= 9) {
            monthsDiff = '0' + monthsDiff;
        }

        return (yearsDiff + ' Years and ' + monthsDiff + ' Months');
    }

</script>


<script src="~/AllJsAndCss/js/filepond.js"></script>

<!-- Turn all file input elements into ponds -->

<script>
    FilePond.parse(document.body);
</script>


<script>
    FilePond.setOptions({
        server: '@Url.Action("TemporaryFilePathDocumentAttachment", "Users")'
    });
</script>




<style>
    .addCSS {
        pointer-events: none;
    }
</style>

<script>
    $(document).ready(function () {
        debugger;
        var PKID = $("#LoginUserRoleId").val();

        if (PKID == '36' || PKID == '52') {

            // $('#UserHide').show();
            var DL = document.getElementById("UserHide");
            DL.className += "";
        }
        else if (PKID == '61' || PKID == '62') {

            //// $('#UserHide').show();
            //var DL = document.getElementById("UserHide");
            //DL.className += "";
        }
        else {
            var DL = document.getElementById("UserHide");
            DL.className += "addCSS";

            //$('#UserHide').hide();
        }
    })

    jQuery.fn.ValidateDocs = function () {
        var UserID = $("#PK_UserID").val();
        debugger;
        $.ajax({
            type: 'POST',
            url: '@Url.Action("ValidateDocs", "Users")',
            dataType: 'json',
            Async: false,
            data: JSON.stringify({ "UserID": UserID }),
            enctype: "multipart/form-data",
            contentType: "application/json; charset=utf-8",
            success: function (response) {

                return response;
            }

        });


    };


    $(function () {
        $("#btnViewHistory").click(function () {

            $("#divHistory").css('display', 'block');

        });
    });


    $(function () {
        $("#btnAddDoc").click(function () {
            debugger;
            var UserID = $("#PK_UserID").val();
            var Year = $("#PT").val();
            var docType = $("#DOCType").val();
            // var docType;
          var existingAttachments = @Html.Raw(Json.Encode(ViewData["DocAttachments"]));

    var alreadyExists = false;

    if (existingAttachments && existingAttachments.length > 0) {
        for (var i = 0; i < existingAttachments.length; i++) {
            if (existingAttachments[i].AttType == "Photo (Passport Size)"||existingAttachments[i].AttType=="Signature") {
                alreadyExists = true;
                break;
            }
        }
    }
    if (alreadyExists) {
        // Ask for confirmation before replacing
        if (!confirm("An attachment for this type already exists. Do you want to replace it?")) {
            return; // Cancel the upload
        }
    }

            //console.log(check);
            $.ajax({
                type: 'POST',
                url: '@Url.Action("InsertDocument", "Users")',
                dataType: 'json',
                Async: false,
                data: JSON.stringify({ "DocType": docType, "UserID": UserID, "Year": Year }),
                enctype: "multipart/form-data",
                contentType: "application/json; charset=utf-8",
                success: function (response) {

                    debugger;
                    if (response.result == "TYPEERROR") {
                        let filePond = FilePond.find(document.getElementById("DocUpload"));
                        if (filePond != null) {
                            //this will remove all files
                            filePond.removeFiles();
                        }
                        //if (docType == "1" || docType == "2") {
                        if (docType == "1" || docType == "2") {
                            alert("File formats should be JPG, JPEG, PNG");
                            return false;
                        }
                        else if (docType == "3") {
                            alert("CV File formats should be doc , docx");
                            return false;
                        }
                        else {
                            alert("File formats should be JPG, JPEG, PNG,PDF");
                            return false;
                        }

                    }
                    if (response.result == "ERROR") {
                        let filePond = FilePond.find(document.getElementById("DocUpload"));
                        if (filePond != null) {
                            //this will remove all files
                            filePond.removeFiles();
                        }

                        let filePond1 = FilePond.find(document.getElementById("DocUpload1"));
                        if (filePond1 != null) {
                            filePond1.removeFiles();
                        }

                        $("#PT").val("");
                        alert("There is some error while uploading the file");
                        return false;
                    }

                    if (response.result == "Ony One Attachment is allowed For Photo or Signature") {
                        if (docType == "1" || docType == "2") {
                            alert("Ony One Attachment is allowed For Photo or Signature");
                            return false;
                        }
                    }

                    if (response.result == "SUCCESS") {
                        let filePond = FilePond.find(document.getElementById("DocUpload"));
                        if (filePond != null) {
                            //this will remove all files
                            filePond.removeFiles();
                        }

                        let filePond1 = FilePond.find(document.getElementById("DocUpload1"));
                        if (filePond1 != null) {
                            filePond1.removeFiles();
                        }
                        $("#PT").val("");
                        //$("#divDocuments").load(location.href + " #divDocuments");
                        //$("#divDocuments1").load(location.href + " #divDocuments1");added by vaibhav
                        alert("File Uploaded Successfully");

                        $("#divDocuments").load(location.href + " #divDocuments");
                        $("#divDocuments1").load(location.href + " #divDocuments1");
                        @*@Html.Raw(Json.Encode(ViewData["DocAttachments"]);*@
                        //ViewData["DocAttachments"]
                        //window.location = response.url;
                                }

                                //$("#divDocuments").load(location.href + " #divDocuments");
                                //$("#divDocuments1").load(location.href + " #divDocuments1");
                            }

                        });

        });
    });


    $(function () {
        $("#btnAddEyeTestDoc").click(function () {
            debugger;
            var UserID = $("#PK_UserID").val();
            var Year = $("#PT").val();
            var docType = "9";
            // var docType;


            if (Year == "") {
                alert("Select Year")
                return false;
            }
            else {




                $.ajax({
                    type: 'POST',
                    url: '@Url.Action("InsertDocumentEyeTest", "Users")',
                    dataType: 'json',
                    Async: false,
                    data: JSON.stringify({ "DocType": docType, "UserID": UserID, "Year": Year }),
                    enctype: "multipart/form-data",
                    contentType: "application/json; charset=utf-8",
                    success: function (response) {

                        debugger;
                        if (response.result == "TYPEERROR") {
                            let filePond = FilePond.find(document.getElementById("DocUpload"));
                            if (filePond != null) {
                                //this will remove all files
                                filePond.removeFiles();
                            }
                            //if (docType == "1" || docType == "2") {
                            if (docType == "1" || docType == "2") {
                                alert("File formats should be JPG, JPEG, PNG");
                                return false;
                            }
                            else if (docType == "3") {
                                alert("CV File formats should be doc , docx");
                                return false;
                            }
                            else {
                                alert("File formats should be JPG, JPEG, PNG,PDF");
                                return false;
                            }

                        }
                        if (response.result == "ERROR") {
                            let filePond = FilePond.find(document.getElementById("DocUpload"));
                            if (filePond != null) {
                                //this will remove all files
                                filePond.removeFiles();
                            }

                            let filePond1 = FilePond.find(document.getElementById("DocUpload1"));
                            if (filePond1 != null) {
                                filePond1.removeFiles();
                            }

                            $("#PT").val("");
                            alert("There is some error while uploading the file");
                            return false;
                        }
                        if (response.result == "SUCCESS") {
                            let filePond = FilePond.find(document.getElementById("DocUpload"));
                            if (filePond != null) {
                                //this will remove all files
                                filePond.removeFiles();
                            }

                            let filePond1 = FilePond.find(document.getElementById("DocUpload1"));
                            if (filePond1 != null) {
                                filePond1.removeFiles();
                            }
                            $("#PT").val("");
                            alert("File Uploaded Successfully");
                            $("#divDocuments").load(location.href + " #divDocuments");
                            $("#divDocuments1").load(location.href + " #divDocuments1");




                            // window.location = response.url;
                        }

                        //$("#divDocuments").load(location.href + " #divDocuments");
                        //$("#divDocuments1").load(location.href + " #divDocuments1");
                    }

                });

            }

        });
    });
</script>

<script>
    $(document).ready(function () {
        $('.deleteItemFormat').click(function (e) {
            debugger;
            var UserID = $("#PK_UserID").val();
            var id = $(this).data('id');

            var $ctrl = $(this);
            // var docType;


            if (confirm('Do you really want to delete this file?')) {
                $.ajax({
                    type: 'POST',
                    url: '@Url.Action("DeleteFileFormat", "Users")',
                    dataType: 'json',
                    Async: false,
                    data: JSON.stringify({ "id": id, "UserID": UserID }),
                    enctype: "multipart/form-data",
                    contentType: "application/json; charset=utf-8",
                    success: function (response) {

                        if (response.result == "OK") {
                            alert("Deleted Successfully");
                            $ctrl.closest('li').remove();
                            $("#divDocuments").load(location.href + " #divDocuments");
                            $("#divDocuments1").load(location.href + " #divDocuments1");
                            location.reload();
                            //window.location = response.url;
                        }
                        else if (response.result.Message) {
                            alert(response.result.Message);
                        }
                    }
                });
            }
        })
    })
</script>

@*<script>
        $(document).ready(function () {
            $('.deleteItemFormat').click(function (e) {
                debugger;
                var UserID = $("#PK_UserID").val();
                e.preventDefault();
                var $ctrl = $(this);
                if (confirm('Do you really want to delete this file?')) {
                    $.ajax({
                        url: '@Url.Action("DeleteFileFormat")',
                        type: 'POST',
                        data: JSON.stringify({ "id": $(this).data('id'), "UserID": UserID }),
                   }).done(function (data) {
                        if (data.Result == "OK") {
                            $ctrl.closest('li').remove();
                            window.location = data.url;
                        }
                        else if (data.Result.Message) {
                            alert(data.Result.Message);
                        }
                    }).fail(function () {
                        alert("There is something wrong. Please try again.");
                    })

                }
            });
        });

    </script>*@
<script type="text/javascript">

    var DTRowCount = 1;

    $(document).ready(function () {

        $(document).on("click", ".classAdd", function () { //
            debugger;

            if ($('#DTestTable tr').length - 1 >= DTRowCount) {
                var count = $('#DTestTable tr').length - 1;
                DTRowCount = count;
            }
            //if (count < 3) {
            DTRowCount += 1;
            var contactdiv = '<tr class="trEduQualification" style="background-color:#f0f0f0">' +
          '<td>' +

 ' <select name="Course"  class="form-control CCourse" id="ddlCourse' + DTRowCount + '"  onchange= "return GetCourceName(this);" > <option value="">Select</option> <option value="S.S.C">S.S.C</option> <option value="H.S.C">H.S.C</option> <option value="Diploma">Diploma</option><option value="Graduate">Graduate</option> <option value="PGD">PGD</option><option value="PG">PG</option></select></td>' +
           '<td style="text-align:left"><select name="Degree"  class="form-control CDegree" id="ddlDegree' + DTRowCount + '"  onchange = "GetBranchName(this);" style= "display:block;"> <option value="">Select</option> <option Value = "BEng">Bachelor of Engineering</option><option Value = "BTech">Bachelor of Technology</option><option value="AMIE">AMIE</option> <option value="BA">Bachelor of Arts</option><option value="BSc">Bachelor of Science</option> <option value="BCom">Bachelor of Commerce</option><option value="BBA">BBA</option><option value="BMS">BMS</option><option value="BBS">BBS</option></select><select name="Diploma"  class="form-control CDiploma" id="ddlDiploma' + DTRowCount + '"  onchange = "GetBranchName(this);" style= "display:none;"><option value="">---Select---</option> <option Value = "Tech">Technical</option><option Value = "NTech">Non Technical</option></select><select name="PGD"  class="form-control CPGD" id="ddlPGD' + DTRowCount + '"  onchange = "GetBranchName(this);" style= "display:none;"><option value="">---Select---</option> </select><select name="PG"  class="form-control CPG" id="ddlPG' + DTRowCount + '"  onchange = "GetBranchName(this);" style= "display:none;"><option value="">---Select---</option> <option value="ME">Master of Engineering</option><option value="MTech">MTech</option><option value="MBA">MBA</option></select></td>' +
          '<td style="text-align:left"><select name="DBranch"  class="form-control CDBranch" id="DBranch' + DTRowCount + '" > <option value="">---Select---</option></td>' +
      '<td style="text-align:left"><select name="YearOfPassing"  class="form-control CYearOfPassing" id="YearOfPassing' + DTRowCount + '" ><option value="">---Select---</option> @foreach (var item in ViewBag.YearOfPassing) {  <option value="@item.Code">@item.Name</option>}</select></td>' +

    '<td style="text-align:left" ><input name="University"  class="form-control CUniversity" id="University' + DTRowCount + '"/></td>' +
           //'<td><input name="YearOfPassing"  class="form-control CYearOfPassing" id="YearOfPassing' + DTRowCount + '"/></td>' +
          '<td style="text-align:left"><input name="LastYearCGPA" onkeypress = "return isNumberKey(event);" , onkeyup = "return AcceptSelNumber(this);" class="form-control CLastYearCGPA" id="ILastYearCGPA' + DTRowCount + '"/></td>' +
          '<td style="text-align:left"><input type="number" name="AggregateCGPA" onkeypress = "return isNumberKey(event);" onkeyup = "return AcceptSelNumber(this);" class="form-control CAggregateCGPA" onkeyup="c()" Id="ICAggregateCGPA' + DTRowCount + '" /></td>' +
          '<td style="text-align:left"><button type="button" id="btnDelete" class="deleteContact btn btn btn-danger btn-xs">Remove</button></td>' +
          '</tr>';
            $('#DTestTable').append(contactdiv); // Adding these controls to Main table class
            //BindYearOfPassing();
            //GetYear();

        });

        $(document).on("click", ".classAddPFC", function () { //
            debugger;

            if ($('#DTestTablePFC tr').length - 1 >= DTRowCount) {
                var count = $('#DTestTablePFC tr').length - 1;
                DTRowCount = count;
            }

            DTRowCount += 1;

            var contactdiv = '<tr class="trProfCertificates" style="background-color:#f0f0f0">' +
         // '<td style="text-align:left"><input type="text" name="CertName" class="form-control form-control-custom CCertName" id="CertName' + DTRowCount + '"/></td>' +
          '<td style="text-align:left"><input type="text" name="CertName" class="form-control form-control-custom CCertName" id="CertName' + DTRowCount + '"/><span class="text-danger validation-msg"></span><label style="color:red;" id="SelectedCertName' + DTRowCount + '" name="SelectedCertName"></label></td>' +
          '<td style="text-align:left"><input type="text" name="CertNo"  class="form-control CCertNo" id="CertNo' + DTRowCount + '"/></td>' +
          '<td style="text-align:left"><input type="text" name="CertIssueDate"  class="form-control CCertIssueDate" id="CertIssueDate' + DTRowCount + '"/></td>' +
          '<td style="text-align:left"><input type="text" name="CertValidTill"  class="form-control CCertValidTill" id="CertValidTill' + DTRowCount + '"/></td>' +
          '<td style="text-align:left"><button type="button" id="btnDeletePFC" class="deleteContact btn btn btn-danger btn-xs">Remove</button></td>' +
          '</tr>';
            $('#DTestTablePFC').append(contactdiv); // Adding these controls to Main table class
            BindAutoComplete(DTRowCount);
            BindValidDate();
            BindIssueDate();
        });
    });
</script>

<script>
    $(document).on("click", ".deleteContact", function () {
        $(this).closest("tr").remove(); // closest used to remove the respective 'tr' in which I have my controls
        DTRowCount = DTRowCount - 1;
    });
</script>


<script type="text/javascript">
    // <![CDATA[
    function addRow() {
        //copy the table row and clear the value of the input, then append the row to the end of the table
        $("#DTestTable tbody tr:first").clone().find("input").each(function () {
            $(this).val('');
        }).end().appendTo("#DTestTable");
    }

    function addRowPFC() {
        //copy the table row and clear the value of the input, then append the row to the end of the table
        $("#DTestTablePFC tbody tr:first").clone().find("input").each(function () {
            $(this).val('');
        }).end().appendTo("#DTestTablePFC");
    }
</script>

<script>
    $(function () {
        $('.CPIN').keypress(function (evt) {
            var maxLength = 6; // as it threat maxlength-5 custom class :)

            // assuming that data-mask will certify that only currency format will be valid
            var pureValue = $(this).val().replace('.', '').replace(',', '');

            if (pureValue.length >= maxLength)
                evt.preventDefault();
        })
    });

    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode != 46 && charCode > 31
          && (charCode < 48 || charCode > 57))
            return false;

        return true;
    }


</script>

<script>
    $(".CCertName").autocomplete({
        source: function (request, response) {
            debugger
            $.ajax({
                url: '@Url.Action("GetCertName", "Users")',
                data: "{ 'prefix': '" + request.term + "'}",
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                success: function (data) {

                    response($.map(data, function (item) {

                        return { label: item.CertName, value: item.CertName };
                    }));
                },
                error: function (response) {

                },
                failure: function (response) {

                }
            });
        },
        select: function (e, i) {

        },
        minLength: 2
    })
    $(".CCertName").blur(function () {
        var inputText = $(this).val().trim();
        var found = false;

        $(".CCertName").autocomplete("widget").find("li").each(function () {
            if ($(this).text().trim() === inputText) {
                found = true;
                return false; // Exit the loop early if match found
            }
        });

        if (!found && inputText !== "") {
            var msg = "Please select a valid certification name from the suggestions.";
            $("#SelectedCertName").text(msg).removeAttr('hidden');
        } else {
            $("#SelectedCertName").empty().attr('hidden', true);
        }
    });

    function BindAutoComplete() {
        $(".CCertName").autocomplete({
            source: function (request, response) {
                debugger
                $.ajax({
                    url: '@Url.Action("GetCertName", "Users")',
                    data: "{ 'prefix': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        response($.map(data, function (item) {
                            return { label: item.CertName, value: item.CertName };
                        }));
                    },
                    error: function (response) {

                    },
                    failure: function (response) {

                    }
                });
            },
            select: function (e, i) {

            },
            minLength: 2
        });

    }
    $(document).on("blur", ".CCertName", function () {
        var inputText = $(this).val().trim();
        var found = false;

        $(this).autocomplete("widget").find("li").each(function () {
            if ($(this).text().trim() === inputText) {
                found = true;
                return false; // Exit the loop early if match found
            }
        });

        var DTRowCount = $(this).attr('id').replace('CertName', ''); // Extract DTRowCount from element ID
        if (!found && inputText !== "") {
            var msg = "Please select a valid certification name from the suggestions.";
            $("#SelectedCertName" + DTRowCount).text(msg).removeAttr('hidden');
        } else {
            $("#SelectedCertName" + DTRowCount).empty().attr('hidden', true);
        }
    });




</script>

<script>
    //$('.CTYE').on('keyup', keyUpHandler);

    //function keyUpHandler(e) {
    //    var element = this;
    //    var key = e.keyCode || e.which;
    //    insertTimingColor(element, key)
    //}

    //function insertTimingColor(element, key) {
    //    var inputValue = element.value;
    //    if (element.value.trim().length == 2 && key !== 8) {
    //        element.value = element.value + ':';
    //    }
    //}

    $('#MobileNo').keypress(function (e) {
        debugger;
        var maxLength = 15;
        var pureValue = $(this).val().replace('.', '').replace(',', '');

        var regex = new RegExp("^[0-9*#+]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        e.preventDefault();
        return false;
    });
</script>

<script type="text/javascript">

    $(document).ready(function () {
        debugger;
        CalYear();
        CurrentAssignmentChange();
        CalAgeInYearDays();

        var varURI = $("#LoginUserRoleId").val();
        var varAfter7days = $("#After7Days").val();

        var varHideFirstTime = document.getElementById("HideFirstTime");
        var IdHideAddUser = document.getElementById("IdHideAddUser");

        var DL = document.getElementById("IdReadOnly");
        var Hide = document.getElementById("IdHide1");
        var Hide2 = document.getElementById("IdHide2");
        var Hide3 = document.getElementById("IdHide3");
        var HideAfter7Days = document.getElementById("IdOrgChangeDateMain");
        var DLidFirstName = document.getElementById("idFirstName");
        var DLidLastName = document.getElementById("idLastName");
        var DLidUserName = document.getElementById("idUserName");

        var HideIdEmploymentCate = document.getElementById("IdEmploymentCate");

        var varPK_Userid = $("#PK_UserID").val();

        if (varPK_Userid == null || varPK_Userid == "") {
            //varHideFirstTime.style.visibility = 'hidden';
            //IdHideAddUser.style.visibility = 'hidden';
            $('#IdHideAddUser').css('display', 'none');
            $('#HideFirstTime').css('display', 'none');
        }
        else {
            varHideFirstTime.style.visibility = 'visible';
            IdHideAddUser.style.visibility = 'visible';
        }


        if (varURI == 36 || varURI == 52 || varURI == 59) {
            if (varAfter7days == 'Yes') {

            }
            else {
                HideAfter7Days.style.display = "none";
                Hide3.style.display = "none";

            }
        }
        else {
            DL.className += "addCSS";
            DLidFirstName.className += "addCSS";
            DLidLastName.className += "addCSS";
            DLidUserName.className += "addCSS";
            //Hide.style.visibility = 'hidden';
            Hide.style.display = "none";
            Hide2.style.display = "none";
            HideIdEmploymentCate.style.display = "none";
            Hide3.style.display = "none";
            HideAfter7Days.style.display = "none";

            //if (varAfter7days == 'Yes') {

            //}
            //else
            //{
            //    Hide3.style.display = "none";
            //}

        }


    })


    function CalYear() {
        //Get current date
        var varTYE = $("#TYE").val();
        var varTYEM = $("#TYEM").val();

        if (parseInt(varTYE, 10) > 70) {
            alert("Value can not be greater than 70")
            $("#TYE").val('');
            $("#TYE").focus();
            return false;
        }
        if (parseInt(varTYEM, 10) > 12) {
            alert("Value can not be greater than 12")
            $("#TYEM").val('');
            $("#TYEM").focus();
            return false;
        }


        var today = new Date();
        const yyyy = today.getFullYear();
        let mm = today.getMonth() + 1; // Months start at 0!
        let dd = today.getDate();

        if (dd < 10) dd = '0' + dd;
        if (mm < 10) mm = '0' + mm;
        today = dd + '/' + mm + '/' + yyyy;




        var startdate = $("#DateOfJoining").val(); //'26-12-2020';//


        //var newDate = moment(startdate, "DD-MM-YYYY").add(3, 'months').format('DD/MM/YYYY');
        //var newDate1 = moment(startdate, "DD-MM-YYYY").add(3, 'year').format('DD/MM/YYYY');
        var newDate = moment(startdate, "DD-MM-YYYY").subtract(varTYEM, 'months').format('DD/MM/YYYY');
        var newDate1 = moment(newDate, "DD-MM-YYYY").subtract(varTYE, 'year').format('DD/MM/YYYY');


        //var m1 = moment(newDate1, 'M/D/YYYY');
        //var m2 = moment(today, 'M/D/YYYY');
        var m1 = moment(newDate1, 'DD-MM-YYYY');
        var m2 = moment(today, 'DD-MM-YYYY');
        var diff = moment.preciseDiff(m1, m2);

        diffs = diff.split(' ');

        if (diffs[2] < '9') {
            var newMonth = '0' + diffs[2];
            diff = diff.replace(diffs[2] + " months", newMonth + " months");
        }

        $("#DynamicCalTotalYearExp").val(diff);
        localStorage.setItem('TotalEXP', diff)

        //console.log(diff);

        //return displayRes



    }


    $('#TYEM').keyup(function () {
        debugger;

        CalYear();
    });
    $('#TYE').keyup(function () {
        debugger;

        CalYear();
    });



    $("#PanNo").change(function () {
        debugger;
        var inputvalues = $(this).val();
        var incap = inputvalues.toUpperCase();
        var regex = /[A-Z]{5}[0-9]{4}[A-Z]{1}$/;
        if (!regex.test(incap)) {
            $("#PanNo").val("");
            alert("invalid PAN no");
            return regex.test(inputvalues);
        }
    });



    $("#AadharNo").change(function () {
        var aadhar = $("#AadharNo").val();
        var adharcardTwelveDigit = /^\d{12}$/;
        var adharSixteenDigit = /^\d{16}$/;
        if (aadhar != '') {
            if (aadhar.match(adharcardTwelveDigit)) {
                return true;
            }
            else if (aadhar.match(adharSixteenDigit)) {
                return true;
            }
            else {
                $("#AadharNo").val("");
                alert("Enter valid Aadhar Number");

                return false;
            }
        }
    });





    $("#MobileNo").change(function () {
        var val = $("#MobileNo").val();
        if (/^\d{10}$/.test(val)) {
            // value is ok, use it
        } else {
            $("#MobileNo").val("");
            alert("Enter 10 digit number.")


            return false
        }
    })



    //$('#SAP_VendorCode').keypress(function (evt) {
    //    var maxLength = 15; // as it threat maxlength-5 custom class :)

    //    // assuming that data-mask will certify that only currency format will be valid
    //    var pureValue = $(this).val().replace('.', '').replace(',', '');

    //    if (pureValue.length >= maxLength)
    //        evt.preventDefault();
    //})

    //$('#TUVIStampNo').keypress(function (evt) {
    //    var maxLength = 4; // as it threat maxlength-5 custom class :)

    //    // assuming that data-mask will certify that only currency format will be valid
    //    var pureValue = $(this).val().replace('.', '').replace(',', '');

    //    if (pureValue.length >= maxLength)
    //        evt.preventDefault();
    //})


    function isAlphaNumeric(event) {
        var charCode = event.which ? event.which : event.keyCode;

        // Allow letters (A-Z, a-z), numbers (0-9), and backspace (charCode 8)
        if ((charCode >= 48 && charCode <= 57) || // numbers 0-9
            (charCode >= 65 && charCode <= 90) || // uppercase letters A-Z
            (charCode >= 97 && charCode <= 122) || // lowercase letters a-z
            charCode == 8) // backspace
        {
            return true;
        } else {
            return false;
        }
    }




</script>

<script>

    //function fncModalSave() {
    //    debugger;

    //    var Year = $("#PT").val();

    //    if (Year == "")
    //    {
    //        alert("Select Year")
    //    }
    //    else
    //    {
    //        $("#DOCType").val("9");

    //        var link = document.getElementById('btnAddEyeTestDoc');
    //        link.click();
    //    }

    //}

</script>

<script>
    function CurrentAssignmentChange() {
        debugger;
        var ddlvalue = $("#CA option:selected").val();
        if (ddlvalue == 'Site/fixed location Deputed at single vendor/customer location for inspection/QA activity.') {
            $("#divSiteDetails").css('display', 'block');
        }
        else {
            $("#divSiteDetails").css('display', 'none');
        }
    }
</script>


<script>
    //Age Calculate


    $("#DOB").change(function () {
        debugger;
        CalAgeInYearDays();
    })

    function CalAgeInYearDays() {

        var today = new Date();
        const yyyy = today.getFullYear();
        let mm = today.getMonth() + 1; // Months start at 0!
        let dd = today.getDate();

        if (dd < 10) dd = '0' + dd;
        if (mm < 10) mm = '0' + mm;
        today = dd + '/' + mm + '/' + yyyy;




        var startdate = $("#DOB").val(); //'26-12-2020';//
        //var varTYE = $("#TYE").val();
        //var varTYEM = $("#TYEM").val();

        //var newDate = moment(startdate, "DD-MM-YYYY").subtract(varTYEM, 'months').format('DD/MM/YYYY');
        //var newDate1 = moment(newDate, "DD-MM-YYYY").subtract(varTYE, 'year').format('DD/MM/YYYY');


        var m1 = moment(startdate, 'DD-MM-YYYY');
        var m2 = moment(today, 'DD-MM-YYYY');
        var diff = moment.preciseDiff(m1, m2);

        $("#AgeCalculator").val(diff);
        localStorage.setItem('AgeCalculator', diff)

    }



    @*function GetYear() {
        debugger;
        for (var i = 0; i < @ViewBag.YearOfPassing.Count(); i++) {
            var opt = new Option(ViewBag.Students[i].YearOfPassingName, ViewBag.Students[i].YearOfPassing);
            $(YearOfPassing).append(opt);

        }
    }*@

    $("#EmployeeCode").change(function () {
        debugger;
        var ExistsUserName = $("#EmployeeCode").val();

        $.ajax({
            url: '@Url.Action("CheckingHrEmployeeCode", "Users")',
            type: 'GET',
            dataType: 'json',
            data: { ExistingUserName: ExistsUserName },
            cache: false,
            success: function (response) {
                if (response == "Success") {
                    alert("Hr Employee Already Exists in System !!!");
                    $("#EmployeeCode").val('');
                    //$("#UserName").focus();
                }
                //else
                //{
                //    alert("User is Available!!");
                //}
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });

</script>
<script>
    $("#TuvEmailId").change(function () {

        var str1 = $("#TuvEmailId").val();
        var str2 = "tuv-nord.com";
        var str3 = "co.in";

        if (str1.indexOf(str2) != -1) {

        }
        else if (str1.indexOf(str3) != -1) {

        }
        else {
            $("#TuvEmailId").val('');
            alert("Enter Valid TUV Email");
        }

    });

</script>


<script>
    $("#EC").change(function () {
        var ECVal = this.value;

        if (ECVal == "2" || ECVal == "3") {
            $("#OPE").val("YES")
        }
        else {
            $("#OPE").val("NO")
        }
    });

</script>

<script>
    function parseDateDDMMYY(dateStr) {
        var parts = dateStr.split("/"); // Split by '/'
        return new Date(parts[2], parts[1] - 1, parts[0]); // year, month-1, day
    }

    $(document).on("change", ".CCertValidTill, .CCertIssueDate", function () {
        var $row = $(this).closest('tr'); // Get current row
        var issueDateStr = $row.find('.CCertIssueDate').val(); // Issue Date as string
        var validTillDateStr = $row.find('.CCertValidTill').val(); // Valid Till Date as string

        if (issueDateStr && validTillDateStr) {
            // Parse both dates manually from dd/mm/yy to Date objects
            var issueDate = parseDateDDMMYY(issueDateStr);
            var validTillDate = parseDateDDMMYY(validTillDateStr);

            // Check if both dates are valid
            if (isNaN(issueDate.getTime()) || isNaN(validTillDate.getTime())) {
                alert("Invalid dates entered. Please check.");
                $(this).val('');
                return;
            }

            // Calculate the difference in days
            var timeDiff = validTillDate.getTime() - issueDate.getTime();
            var dayDiff = timeDiff / (1000 * 3600 * 24);

            // Validate minimum 366 days difference
            if (dayDiff < 364) {
                alert("The 'Valid Till' date must be at least 364 days after the 'Issue Date'.");
                $(this).val(''); // Clear the invalid date
                return;
            }
        }
    });


</script>


<script>
    $("#btnCreateCV").click(function () {
        debugger;
        var isProfileAttachmentPresent = false;
        var docAttachments = JSON.parse('@Html.Raw(Json.Encode(ViewData["DocAttachments"]))');
        if (docAttachments && docAttachments.length > 0) {
            for (var i = 0; i < docAttachments.length; i++) {
                var attachment = docAttachments[i];
                var attType = attachment.AttType;
                var fileName = attachment.FileName;
                if (attType === 'Photo (Passport Size)') {
                    isProfileAttachmentPresent = true;
                }
            }
        }

        if (isProfileAttachmentPresent) {
        } else {
            alert("Please Attach Photo Attachment");
            return false
        }
        window.location.href = '@Url.Action("CreateCV", "Users")';
    });
</script>




<script>
    function GetdataTraining(){
        debugger;
        $.ajax({
            type: "GET",
            url: "/Users/GetTrainingData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {
                if (!!response) {
                    var a = JSON.parse(response);
                    var aa = JSON.stringify(response);

                    if (a == "Error") {
                        $("#tblusersmodal tbody").empty();
                    }
                    else {

                        $("#tblusersmodal tbody").empty();
                        for (var i = 0; i < a.length; i++) {

                            tr = $('<tr/>');
                            tr.append("<td><label'>" + a[i].TrainingStartDate + "</label> </td>");
                            tr.append("<td><label'>" + a[i].TotalHours + "</label> </td>");
                            tr.append("<td><label'>" + a[i].TrainingTopic + "</label> </td>");
                            tr.append("<td><label'>" + a[i].Scope + "</label> </td>");
                            tr.append("<td><label'>" + a[i].ScopeNumber + "</label> </td>");
                            tr.append("<td><label'>" + a[i].Category + "</label> </td>");
                            $('#tblusersmodal').append(tr);
                        }
                        $('#remarksModal').modal('show');
                    }
                }
                    //check response is null or empty
                else {
                    $("#tblusersmodal tbody").empty();
                }
            },

            error: function (xhr, status, error) {
                debugger;

            }
        });

    }
</script>