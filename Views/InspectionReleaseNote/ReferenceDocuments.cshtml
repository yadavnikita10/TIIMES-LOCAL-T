@model TuvVision.Models.ReferenceDocumentsModel

@{
    ViewBag.Title = "ReferenceDocuments";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
    int j = 0;
}
<style>
   
      #yourCustomClass {

    width=200;

    height=40;


    }
</style>

<script type="text/javascript" language="javascript" src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>
<script src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>
<script src="~/AllJsAndCss/js/datatable-custom.js"></script>

    <div class="white-bg section-box-shadow">


        <div class="row">


            <div class="col-xs-12 col-sm-offset-1 col-sm-10">

                <br />
                <div class="col-xs-12">
                    <h3 class="dynamic-page-title dynamic-page-title-2  ">Inspection Release Note : @Session["IRNReport"]</h3>
                    <br />
                   

                    @if (Model != null)
            {
                if (Model.PK_IVR_ID != 0)
                {
                <button class="btn btn-default news-btn" type="button" onclick="location.href='@Url.Action("IRNForm", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">General</button>
                <button class="btn btn-default news-btn" type="button" onclick="location.href='@Url.Action("ItemDescription", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">Item Description</button>
                <button class="btn btn-default insert-form-btn" type="button" onclick="location.href='@Url.Action("ReferenceDocuments", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">Reference Documents</button>
                <button class="btn btn-default news-btn" type="button" onclick="location.href='@Url.Action("InspectionActivites", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">Stage Witnessed</button>
                <button class="btn btn-default news-btn" type="button" onclick="location.href='@Url.Action("DocumentReviewed", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">Document Reviewed</button>
                <button class="btn btn-default news-btn" type="button" onclick="location.href='@Url.Action("Conclusion", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">Conclusion</button>
                @*<button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("EquipmentDetails", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID} )'">Details Of Equipment</button>*@
                <button class="btn btn-default news-btn" type="button" onclick="location.href='@Url.Action("AllConcern", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">List Of Open Issues</button>
                <button class="btn btn-default news-btn" type="button" onclick="location.href='@Url.Action("EarlierIssuedQuantity", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid} )'">Earlier Issued Quantity</button>
                @*<button class="btn btn-info dynamic-function-btn" type="button" onclick="location.href='@Url.Action("IvrReports", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID} )'">Report</button>*@
                @*<a href="@Url.Action("IRNForm", "InspectionReleaseNote",new { @PK_IVR_ID = Model.PK_IVR_ID, @PK_RM_ID=Model.abcid })" class="btn btn-default news-btn" style="float:right;"><i class="fa fa-long-arrow-left"></i> Go Back</a>*@
                    }
                }

                @*<a href="@Url.Action("CallsListByInspector","CallsMaster")" class="btn btn-info dynamic-function-btn" style="float:right;"><i class="fa fa-long-arrow-left"></i> Go Back</a>*@
            </div>
            <div class="col-xs-12">
                <div class="white-bg section-box-shadow">
                    <h3 class="form-page-title">Reference Documents</h3>
                    <div class="row">
                        @*<div class="col-xs-12 col-sm-offset-1 col-sm-10">*@
                        <div class="col-xs-12 col-sm-12">

                            <div class="form-box">
                                <form method="post" enctype="multipart/form-data">
                                    @Html.HiddenFor(m => m.PK_IVR_ID)
                                    @Html.HiddenFor(m => m.abcid)


                                    @*<div class="row">


                        <div class="col-xs-12 col-sm-12">
                            <div class="form-group">
                                <label> Document Name:</label>

                                @Html.DropDownListFor(m => m.Document_Name, new List<SelectListItem>
                                          {
                                            new SelectListItem{ Text="Select Document Name", Value = "" },
                                            new SelectListItem{ Text="PR/MR/ARM", Value = "PR/MR/ARM" },
                                            new SelectListItem{ Text="QAP/ITP/QCP", Value = "QAP/ITP/QCP" },
                                            new SelectListItem{ Text="Drawing(s)", Value = "Drawing(s)" },
                                            new SelectListItem{ Text="Procedure(s)", Value = "Procedure(s)" },
                                            new SelectListItem{ Text="Datasheet(s)", Value = "Datasheet(s)" },
                                            new SelectListItem{ Text="Others(Specify)", Value = "Others(Spceify)" },
                                         }, new { @class = "form-control", @id = "Type" })
                                @Html.ValidationMessageFor(m => m.Document_Name, "", new { @class = "text-danger" })

                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-12">
                            <div class="form-group">
                                <label>Document Number:</label>

                                @Html.TextAreaFor(model => model.Document_No, new { @placeholder = "Document Number", @class = "form-control", @rows = 5 })
                                @Html.ValidationMessageFor(model => model.Document_No, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-12">
                            <div class="form-group">
                                <label>Vendor Document Number:</label>

                                @Html.TextAreaFor(model => model.VendorDocumentNumber, new { @placeholder = "Vendor Document Number", @class = "form-control", @rows = 5 })
                                @Html.ValidationMessageFor(model => model.VendorDocumentNumber, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-12">
                            <div class="form-group">
                                <label>Approval Status:</label>

                                @Html.TextBoxFor(model => model.Approval_Status, new { @placeholder = "Approval Status", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Approval_Status, "", new { @class = "text-danger validation-msg" })
                            </div>
                        </div>
                    </div>*@

                                    @if (Model.Visible == "True")
                                    {


                                        foreach (var item in ViewBag.DocName as IEnumerable<TuvVision.Models.ReferenceDocumentsModel>)
                                        {
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-3">
                                                    <div class="form-group">
                                                        <label> Document Name:</label>

                                                        @Html.TextBoxFor(m => m.RD[j].Document_Name, new { @placeholder = "Document name", @class = "form-control", @readonly = true, @Value = item.Document_Name })
                                                        @Html.HiddenFor(m => m.RD[j].Document_Name)
                                                        @Html.ValidationMessageFor(m => m.Document_Name, "", new { @class = "text-danger" })

                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-3">
                                                    <div class="form-group">
                                                        <label>Client Document No:</label>

                                                        @Html.TextBoxFor(model => model.RD[j].Document_No, new { @placeholder = "Enter Client Document No", @class = "form-control", autocomplete = "off", @Value = item.Document_No })

                                                        @Html.ValidationMessageFor(model => model.Document_No, "", new { @class = "text-danger validation-msg" })
                                                    </div>
                                                </div>

                                                <div class="col-xs-12 col-sm-3">
                                                    <div class="form-group">
                                                        <label>Vendor Document No:</label>

                                                        @Html.TextBoxFor(model => model.RD[j].VendorDocumentNumber, new { @placeholder = "Enter Document No", @class = "form-control", autocomplete = "off", @Value = item.VendorDocumentNumber })
                                                        @Html.ValidationMessageFor(model => model.VendorDocumentNumber, "", new { @class = "text-danger validation-msg" })
                                                    </div>
                                                </div>

                                                <div class="col-xs-12 col-sm-3">
                                                    <div class="form-group">
                                                        <label>Approval Status:</label>

                                                        @Html.TextBoxFor(model => model.RD[j].Approval_Status, new { @placeholder = "Enter Approval Status", @class = "form-control", autocomplete = "off", @Value = item.Approval_Status })
                                                        @Html.ValidationMessageFor(model => model.Approval_Status, "", new { @class = "text-danger validation-msg" })
                                                    </div>
                                                </div>
                                            </div>
                                            j++;
                                        }


                                        <div class="col-xs-12 text-center" id="IRNPointerEvents">

                                            <button type="submit" class="btn btn-default insert-form-btn"> Save </button>

                                        </div>
                                    }


                                </form>
                            </div>


                            @using (Html.BeginForm("UpdateReferenceD", "InspectionReleaseNote", FormMethod.Post, new { enctype = "multipart/form-data", @id = "formiid" }))
                            {
                                @Html.HiddenFor(m => m.PK_IVR_ID)
                                @Html.HiddenFor(m => m.abcid)
                                @*<div class="main-content3 xs-max-height">


                <div class="container-fluid">*@
                                @*<div class="row assignfixedwidth rp-15">

                    <h3 class="form-page-title">Refrance Documents</h3>

                    <div class="col-xs-12">
                        <hr class="custom-hr">
                    </div><!-- /.col -->
                    <!--Table was here-->

                </div><!-- /.row -->*@
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="col-xs-12">
                                            <table id="library-dt" class="display custom-table" cellspacing="0" width="100%">

                                                <thead>
                                                    <tr>
                                                        <th class="remove-search">Document Name</th>
                                                        <th class="remove-search">Client Document No</th>
                                                        <th class="remove-search">Vendor Document Number</th>
                                                        <th class="remove-search">Approval Status</th>
                                                        @*<th class="remove-search">Action</th>*@
                                                    </tr>
                                                </thead>

                                                @*<tbody>

                                    @{
                                        int i = 0;
                                    }
                                    @foreach (var item in ViewData["CostSheet"] as IEnumerable<TuvVision.Models.ReferenceDocumentsModel>)
                                    {
                                        <tr>


                                            <td>@item.Document_Name</td>
                                            <td style='white-space: pre-line;'>@item.Document_No</td>
                                            <td style='white-space: pre-line;'> @item.VendorDocumentNumber</td>
                                            <td>@item.Approval_Status</td>
                                            <td class="less-width">
                                                <a href="@Url.Action("ReferenceDocuments", "InspectionReleaseNote", new { @PK_RD_ID = item.PK_RD_ID, @PK_RM_ID = Model.abcid })" title="Edit"><span class="fa fa-pencil"></span>&nbsp;</a>
                                                <a href="@Url.Action("DeleteIReferenceDocumentsData", "InspectionReleaseNote", new { @PK_RD_ID = item.PK_RD_ID, @PK_RM_ID = Model.abcid })" onclick="return confirm('Are you sure you want to Delete this Record?')" title="Delete"><span class="fa fa-trash-o"></span>&nbsp;</a>
                                                @{
                                                    if ((Convert.ToString(TempData["InsertCompany"])) != "" && Convert.ToString(TempData["InsertCompany"]) != null)
                                                    {
                                                        TempData["InsertCompany"] = null;

                                                    }
                                                    if ((Convert.ToString(TempData["UpdateCompany"])) != "" && Convert.ToString(TempData["UpdateCompany"]) != null)
                                                    {
                                                        TempData["UpdateCompany"] = null;

                                                    }
                                                }
                                            </td>

                                        </tr>
                                                    }

                                </tbody>*@

                                                <tbody>

                                                    @{
                                                        int i = 0;
                                                    }

                                                    @foreach (var item in ViewBag.CostSheet as IEnumerable<TuvVision.Models.ReferenceDocumentsModel>)
                                                    {
                                                        i = i + 1;
                                                        <tr>
                                                            @Html.HiddenFor(model => model.RD[j].PK_CALL_ID, new { @placeholder = "ID", @Value = item.PK_CALL_ID, @class = "form-control" })


                                                            @Html.HiddenFor(model => model.RD[j].PK_RD_ID, new { @placeholder = "ID", @Value = item.PK_RD_ID, @class = "form-control" })
                                                            <td>
                                                                @Html.TextBoxFor(model => model.RD[j].Document_Name, new { @placeholder = "Document Name", @Value = item.Document_Name, @class = "form-control", @style = "Height:600px", @readonly = "readonly" })
                                                                @Html.HiddenFor(model => model.RD[j].Document_Name, new { @placeholder = "Document Name", @Value = item.Document_Name, @class = "form-control" })
                                                            </td>

                                                            <td>
                                                                @Html.TextBoxFor(model => model.RD[j].Document_No, new { @placeholder = "Document No", @Value = item.Document_No, @class = "form-control white-space: pre-line; ", @style = "Height:600px" })
                                                                @*@Html.TextBoxFor(model => model.RD[j].Document_No, new { @placeholder = "Document No", @Value = item.Document_No, @class = "form-control white-space: pre-line;" })*@
                                                            </td>

                                                            <td style='white-space: pre-line;'>
                                                                @Html.TextBoxFor(model => model.RD[j].VendorDocumentNumber, new { @placeholder = "Vendor Document Number", @Value = item.VendorDocumentNumber, @class = "form-control", @style = "Height:600px" })
                                                            </td>
                                                            <td>
                                                                @Html.TextBoxFor(model => model.RD[j].Approval_Status, new { @placeholder = "Approval Status", @Value = item.Approval_Status, @class = "form-control", @style = "Height:600px" })
                                                            </td>

                                                        </tr>
                                                        j++;
                                                    }
                                                </tbody>



                                            </table>
                                        </div><!-- /.data table col -->
                                    </div>
                                </div>
                                    @*</div>


                    </div>*@


                                                        <div class="col-xs-12 text-center" id="IRNPointerEvents1">
                                                            <button type="submit" class="btn btn-default insert-form-btn">Update</button>

                                                        </div>


                                                        }
                        </div>
                    </div>
                    <!--Contact Details By Manoj -->


                </div><!-- /.box-shadow -->
            </div><!-- /.col -->
        </div>
    </div>
    <!--Contact Details By Manoj -->
</div>

   
<!-- /.box-shadow -->
<!--End of Ashwini Code-->
                                        }



<script>
    $(document).ready(function () {
        debugger;
        //var chkARC = $('#chkARC').val();
        //var IVRCount = $('#IVRCount').val();
        //var ARCFirstPrint = $('#ARCFirstPrint').val();


        $("input[type='text']").each(function () {

            var textbox = $(document.createElement('textarea')).val(this.value);
            console.log(this.attributes);
            $.each(this.attributes, function () {
                if (this.specified) {
                    textbox.prop(this.name, this.value)
                }
            });
            $(this).replaceWith(textbox);


        })






    });
</script>




<script>
    var isConfirmationIRN = @Session["IsConfirmationIRN"] ?? 0;
    // JavaScript to disable pointer events if isConfirmationIVR is 1

    if (isConfirmationIRN == 1) {
        document.getElementById("IRNPointerEvents").style.pointerEvents = "none";

    }
</script>


<script>
    var isConfirmationIRN1 = @Session["IsConfirmationIRN"] ?? 0;
    // JavaScript to disable pointer events if isConfirmationIVR is 1

    if (isConfirmationIRN1 == 1) {
        document.getElementById("IRNPointerEvents1").style.pointerEvents = "none";

    }
</script>