
@{
    ViewBag.Title = "pieer";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<link href="~/Content/c3.css" rel="stylesheet" />
<link href="~/Content/Site.css" rel="stylesheet" />
<script src="~/Scripts/c3.min.js"></script>
<script src="~/Scripts/d3.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"></script>

<h2>pieer</h2>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>
var chartData; // global variable for hold chart data
google.load("visualization", "1", { packages: ["corechart"] });
// Here We will fill chartData
$(document).ready(function () {
    $.ajax({
        url: "@Url.Action("BindDataToChart2","BDSMActivities")",
        data: "",
        dataType: "json",
        type: "get",
        contentType: "application/json; chartset=utf-8",
        success: function (result) {
            debugger;
            var chartData = [['Activity Type', 'Activity Count']];
            for (var i = 0; i < result.length; i++) {
                var activityType = result[i].ActivityType;
                var activityCount = result[i].ActivityCount;
                chartData.push([activityType, activityCount]);
            }
        },
        error: function () {
            alert("Error loading data! Please try again.");
        }
    }).done(function () {
        // after complete loading data
        google.setOnLoadCallback(drawChart);
        drawChart();
    });
});
function drawChart() {
    var data = google.visualization.DataTable(chartData);

    var options = {
        title: "Company Annual Report",
        pointSize: 5
    };
    var pieChart = new google.visualization.PieChart(document.getElementById('pieChart'));
    pieChart.draw(data, options);

}
</script>
<body>
    <div id="pieChart" style="width: 600px; height: 400px;"></div>
</body>