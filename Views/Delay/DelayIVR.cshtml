@model TuvVision.Models.IVRDelay
@using NonFactors.Mvc.Grid;
@using System.Web.Mvc;

@{
    ViewBag.Title = "DelayIVR";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
}

@*DATEPICKER*@

<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />

<script>
    $(function () {
        $(".Fromdate").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>

<script>
    $(function () {
        $(".Todate").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>

<link href="~/AllJsAndCss/css/MVCGridN.css" rel="stylesheet" />



@using (Html.BeginForm())
{

    <div class="main-content3 xs-max-height">

        <!--Start of header-->
        <div class="container-fluid">
            <div class="row assignfixedwidth rp-15">

                <div class="col-xs-12">
                    <h3 class="dynamic-page-title dynamic-page-title-2  text-left">Delay IVR</h3>
                    <button type="button" id="a" value="ExportToExcel" class="btn btn-info dynamic-function-btn dynamic-function-btn-2" style="margin-right:10px;" onclick="location.href='@Url.Action("ExportIndex", "Delay")'">
                        Export To Excel
                    </button>


                </div><!-- /.col -->
                @*<div class="row">
                    <div class="col-xs-12 col-sm-3">
                        <div class="form-group">
                            <label>From Date:</label>
                            @Html.TextBoxFor(model => model.FromD, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "From Date", @class = "form-control Fromdate", autocomplete = "off" })

                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-3">
                        <div class="form-group">
                            <label>To Date:</label>
                            @Html.TextBoxFor(model => model.ToD, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "To Date", @class = "form-control ToDate", autocomplete = "off" })

                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-3">
                        <div class="form-group">
                            <button type="submit" class="btn btn-default insert-form-btn" style="margin-top:22px;"><i class="fa "></i> Search</button>
                          
                            @Html.ActionLink("Reset", "DelayIVR", "Delay", new { @class = "btn btn-default insert-form-btn", style = "margin-top: 22px;" })
                        </div>
                    </div>

                </div>*@
                <div class="col-xs-12">
                    <hr class="custom-hr">
                </div><!-- /.col -->
                <!--Table was here-->

            </div><!-- /.row -->



            <div class="col-xs-12">
                <table class="display dataTable no-footer" style="overflow-y:auto" id="gridMapping">
                    <tr>
                        <td>
                            @(Html
        .Grid(Model.lstDelay)
        .Build(columns =>
        {
            columns.Add(c => c.Call_No).Titled("Call No");

            columns.Add(c => c.Call_CreatedDate).Titled("Call Created Date");
            columns.Add(c => c.Call_CreatedBy).Titled("Call CreatedBy");
            columns.Add(c => c.Actual_Visit_Date).Titled("Actual Visit Date");
            columns.Add(c => c.CallType).Titled("Call Type");
            columns.Add(c => c.ContinuousDate).Titled("Continuous Date");
            columns.Add(c => c.Sub_JobNo).Titled("Sub_JobNo");
            columns.Add(c => c.Customer_Name).Titled("Customer Name");
            columns.Add(c => c.ProjectName).Titled("Project Name");
            columns.Add(c => c.VendorName).Titled("Vendor Name");
            columns.Add(c => c.SubVendorName).Titled("SubVendorName");
            columns.Add(c => c.P1).Titled("P1");
            columns.Add(c => c.P2).Titled("P2");
            columns.Add(c => c.Originating_Branch).Titled("Originating Branch");
            columns.Add(c => c.Excuting_Branch).Titled("Excuting Branch");
            columns.Add(c => c.InspectorName).Titled("Inspector Name");
            


        })
           .Pageable(pager =>
           {
               pager.ShowPageSizes = true;
               pager.PagesToDisplay = 3;
               pager.CurrentPage = 1;
               pager.RowsPerPage = 2;
           })
        .UsingFilterMode(GridFilterMode.Row)
        .Empty("No data found")
        .Filterable()
        .Sortable()

                            )

                            </td>
                        </tr>
                    </table>
                </div>
            </div>
</div>
}