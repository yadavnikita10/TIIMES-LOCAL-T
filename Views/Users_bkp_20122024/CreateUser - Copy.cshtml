@using TuvVision.Models;
@model TuvVision.Models.Users
@{
    ViewBag.Title = "CreateUser";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
}

<title>Users </title>

@*<link href="~/Alljsandcss/bootstrap-multiselect/bootstrap-multiselect.css" rel="stylesheet" />*@
@*<link href="~/Alljsandcss/css/mutualfunds.css" rel="stylesheet" />*@
<!--  required libraries  -->
@*<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.1/css/star-rating.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.1/js/star-rating.min.js"></script>*@
@*DATEPICKER*@
@*<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/js/bootstrap.js" data-modules="effect effect-bounce effect-blind effect-bounce effect-clip effect-drop effect-fold effect-slide"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />
<script>
    $(function () {
        $(".dateofjoinings").datepicker({
            dateFormat: 'dd/mm/y',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>
<script>
    $(function () {
        $(".dateofbirths").datepicker({
            dateFormat: 'dd/mm/y',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>*@

@*DATEPICKER*@
@*<script src="https://code.jquery.com/jquery-1.10.2.js"></script>*@
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />
<script>

    $(function () {
        $(".dateofjoinings").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>
<script>

    $(function () {
        $(".dateofbirths").datepicker({
            dateFormat: 'dd/mm/yy',//check change
            changeMonth: true,
            changeYear: true,
            yearRange: "-100:+50"
        });
    });
</script>
<style>
    .ui-widget-header {
        background: #3677e6 !important;
    }

    .ui-datepicker-month, .ui-datepicker-year {
        color: #333 !important;
    }
</style>

@{
    List<string> EditSectorCode = ViewBag.EditSectorCode as List<string>;
    List<string> EditAnalystName = ViewBag.EditAnalystName as List<string>;
}
@using (Html.BeginForm("CreateUser", "Users", FormMethod.Post, new { enctype = "multipart/form-data", @id = "form1" }))
{
    @Html.Hidden("PK_UserID")
    @Html.AntiForgeryToken()
     <!--Start of main content 3-->
    <div class="grey-bg-f3">
        <!--Start of header-->
        <div class="container-fluid">
            <div class="row assignfixedwidth rp-5">

                <div class="col-xs-12 form-col">
                    <div class="row">

                        <div class="col-xs-12 text-right">
                            <a href="@Url.Action("UserDashBoard", "Users")" class="btn btn-info dynamic-function-btn"><i class="fa fa-long-arrow-left"></i> Go Back</a>
                        </div>

                        <div class="col-xs-12">
                            <div class="white-bg section-box-shadow">
                                <h3 class="form-page-title">Insert User</h3>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-offset-1 col-sm-10">
                                        <div class="form-box">
                                            <form>
                                                <div class="row">
                                                <div class="col-xs-12 col-sm-4">
                                                    <div class="form-group">
                                                        <label>First Name:<span style="color:#ff0000;">*</span></label>
                                                        @Html.TextBoxFor(model => model.FirstName, new { placeholder = "Enter First Name", @class = "form-control form-control-custom" })
                                                        @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })

                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4">
                                                    <div class="form-group">
                                                        <label>Last Name:<span style="color:#ff0000;">*</span></label>
                                                        @Html.TextBoxFor(model => model.LastName, new { placeholder = "Enter Last Name", @class = "form-control form-control-custom" })
                                                        @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4">
                                                    <div class="form-group">
                                                        <label>User Name:<span style="color:#ff0000;">*</span></label>
                                                        @Html.TextBoxFor(model => model.UserName, new { placeholder = "Enter User Name", @class = "form-control form-control-custom" })
                                                        @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                                    </div>
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>TUV Email:<span style="color:#ff0000;">*</span></label>
                                                            @Html.TextBoxFor(model => model.TuvEmailId, new { placeholder = "Enter TUV Email", @class = "form-control form-control-custom" })
                                                            @Html.ValidationMessageFor(model => model.TuvEmailId, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>

                                                <div class="col-xs-12 col-sm-4">
                                                    <div class="form-group">
                                                        <label>Email ID:<span style="color:#ff0000;">*</span></label>
                                                        @Html.TextBoxFor(model => model.EmailID, new { placeholder = "Enter Email ID", @class = "form-control form-control-custom" })
                                                        @Html.ValidationMessageFor(model => model.EmailID, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>SAP Vendor Code:</label>
                                                            @Html.TextBoxFor(model => model.SAP_VendorCode, new { placeholder = "Enter SAP Vendor Code", @class = "form-control form-control-custom" })
                                                        </div>
                                                    </div>
                                                
                                                    </div>
                                                <div class="row">
                                              
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Employee Grade:<span style="color:#ff0000;">*</span></label>
                                                            @*@Html.DropDownListFor(model => model.EmployeeGrade, EnumHelper.GetSelectList(typeof(EmployeeGrade)), "Select Employee Grade", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.EmployeeGrade, "", new { @class = "text-danger" })*@
                                                            @*@Html.DropDownListFor(model => model.EmployeeGrade, new SelectList(@ViewBag.EmployeeGrade, "EmployeeGradeId", "EmployeeGrade"), "---Select User Grade---", new { @id = "EmployeeGrade", @class = "form-control form-control-custom-ddl" })*@
                                                            @*@Html.DropDownListFor(model => model.EmployeeGrade, (IEnumerable<SelectListItem>)ViewData["EmployeeGrade"], "Code", "Name"), "---Select User Grade---", new { @id = "ddlTitle", @class = "form-control" })
                @Html.ValidationMessageFor(model => model.EmployeeGrade, "", new { @class = "text-danger" })*@

                                                            @Html.DropDownListFor(model => model.EmployeeGradeId, new SelectList(@ViewBag.EmployeeGrade, "Code", "Name"), "---Select Title---", new { @id = "ddlTitle", @class = "form-control" })

                                                            @Html.ValidationMessageFor(model => model.EmployeeGradeId, "", new { @class = "text-danger validation-msg" })


                                                        </div>
                                                    </div>
                                                <div class="col-xs-12 col-sm-4">
                                                    <div class="form-group">
                                                        <label>Employee Code:</label>
                                                        @Html.TextBoxFor(model => model.EmployeeCode, new { placeholder = "Enter Employee Code", @class = "form-control form-control-custom" })
                                                    </div>
                                                </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Employee Bifurcation:</label>
                                                            @{
                                                                if (Model != null)
                                                                {
                                                                    if (ViewBag.ProjectType != null)
                                                                    {
                                                                        @Html.DropDownListFor(model => model.Employee_Type, new SelectList(@ViewBag.ProjectType, "Code", "Name"), "---Select Project Type---", new { @id = "ddlProjectType", @class = "form-control" })
                                                                    }
                                                                }
                                                                if (ViewData["ProjectTypeItems"] != null)
                                                                {
                                                                    @Html.DropDownListFor(model => model.Employee_Type, (IEnumerable<SelectListItem>)ViewData["ProjectTypeItems"], "---Select Project Type---", new { @id = "ddlProjectType", @class = "form-control" })
                                                                }
                                                                else
                                                                {
                                                                    @Html.DropDownListFor(model => model.Employee_Type, new SelectList(@ViewBag.ProjectType, "Code", "Name"), "---Select Project Type---", new { @id = "ddlProjectType", @class = "form-control" })
                                                                }

                                                            }

                                                            @*@if (ViewData["ProjectTypeItems"] != null)
                                                            {
                                                                <div class="col-xs-12 col-sm-4" id="autoUpdate">
                                                                    <div class="form-group">                                                                        
                                                                        <select id="Auditee" class="form-control form-multiselect-city" multiple="multiple" name="AuditeeName" placeholder="Select Option">
                                                                            @{
                                                                                foreach (var item in ViewData["ProjectTypeItems"] as IEnumerable<SelectListItem>)
                                                                                {
                                                                                    <option value="@item.Value">@item.Text&nbsp; &nbsp;</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            }*@
                                                        </div>
                                                    </div>
                                                 

                                                    </div>
                                                <div class="row">
                                                <div class="col-xs-12 col-sm-4">
                                                    <div class="form-group">
                                                        <label>Mobile Number:<span style="color:#ff0000;">*</span></label>
                                                        @Html.TextBoxFor(model => model.MobileNo, new { placeholder = "Enter Mobile Number", @class = "form-control form-control-custom" })
                                                        @Html.ValidationMessageFor(model => model.MobileNo, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Residence Number:</label>
                                                            @Html.TextBoxFor(model => model.ResidenceNo, new { placeholder = "Enter Residence Number", @class = "form-control form-control-custom" })
                                                            @Html.ValidationMessageFor(model => model.ResidenceNo, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Office Number:</label>
                                                            @Html.TextBoxFor(model => model.OfficeNo, new { placeholder = "Enter Office Number", @class = "form-control form-control-custom" })
                                                            @Html.ValidationMessageFor(model => model.OfficeNo, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    </div>
                                                <div class="row">

                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Date Of Birth:<span style="color:#ff0000;">*</span></label>
                                                            @Html.TextBoxFor(model => model.DOB, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Date Of Birth", @class = "form-control form-control-custom dateofbirths", autocomplete = "off" })
                                                            @Html.ValidationMessageFor(model => model.DOB, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Date Of Joining:<span style="color:#ff0000;">*</span></label>
                                                            @Html.TextBoxFor(model => model.DateOfJoining, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Date Of Joining", @class = "form-control form-control-custom dateofjoinings", autocomplete = "off" })
                                                            @Html.ValidationMessageFor(model => model.DateOfJoining, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Designation:</label>
                                                            @Html.TextBoxFor(model => model.Designation, new { placeholder = "Enter Designation", @class = "form-control form-control-custom" })
                                                        </div>
                                                    </div>
                                                </div>
                                                    
                                                  

                                                
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Blood Group:</label>

                                                            @Html.TextBoxFor(model => model.BloodGroup, new { @placeholder = "Enter Blood Group", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.BloodGroup, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Shoes Size:</label>

                                                            @Html.TextBoxFor(model => model.ShoesSize, new { @placeholder = "Enter Shoes Size", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.ShoesSize, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>


                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Shirt Size :</label>

                                                            @Html.TextBoxFor(model => model.ShirtSize, new { @placeholder = "Enter Shirt Size", @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.ShirtSize, "", new { @class = "text-danger validation-msg" })
                                                        </div>
                                                    </div>

                                                    
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>User Role: <span style="color:#ff0000;">*</span></label>
                                                            @{
                                                                if (Model != null)
                                                                {
                                                                    if (ViewBag.UserRole != null)
                                                                    {
                                                                        @Html.DropDownListFor(model => model.UserRole, new SelectList(@ViewBag.UserRole, "Code", "Name"), "---Select User Type---", new { @id = "ddlUserName", @class = "form-control form-control-custom-ddl" })
                                                                    }
                                                                }
                                                                if (ViewData["RoleNameItems"] != null)
                                                                {
                                                                    @Html.DropDownListFor(model => model.UserRole, (IEnumerable<SelectListItem>)ViewData["RoleNameItems"], "---Select User Type---", new { @id = "ddlUserName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                }
                                                                else
                                                                {
                                                                    @Html.DropDownListFor(model => model.UserRole, new SelectList(@ViewBag.UserRole, "Code", "Name"), "---Select User Type---", new { @id = "ddlUserName", @class = "form-control form-control-custom-ddl" })
                                                                }

                                                            }
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Qualification:</label>
                                                            @Html.TextBoxFor(model => model.Qualification, new { placeholder = "Enter Qualification", @class = "form-control form-control-custom" })
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Branch:<span style="color:#ff0000;">*</span></label>
                                                            @{
                                                                if (Model != null)
                                                                {
                                                                    if (ViewBag.BranchName != null)
                                                                    {
                                                                        @Html.DropDownListFor(model => model.Branch, new SelectList(@ViewBag.BranchName, "Code", "Name"), "---Select Branch---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl" })
                                                                    }
                                                                }
                                                                if (ViewData["BranchNameItems"] != null)
                                                                {
                                                                    @Html.DropDownListFor(model => model.Branch, (IEnumerable<SelectListItem>)ViewData["BranchNameItems"], "---Select Branch---", new { @id = "ddlBranchName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                }
                                                                else
                                                                {
                                                                    @Html.DropDownListFor(model => model.Branch, new SelectList(@ViewBag.BranchName, "Code", "Name"), "---Select Branch---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl" })
                                                                }

                                                            }
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Reporting Person One: <span style="color:#ff0000;">*</span></label>
                                                            @Html.DropDownListFor(m => m.ReportingOne, (SelectList)ViewBag.Employees, "Select Reporting Person One", new { @class = "form-control form-control-custom-ddl" })
                                                            @*@Html.DropDownListFor(model => model.ReportingOne, new SelectList(@ViewBag.Employees, "PK_UserID", "FullName"), "---Select Reporting One---", new { @class = "form-control form-control-custom-ddl" })*@
                                                            @Html.ValidationMessageFor(model => model.ReportingOne, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Reporting Person Two:</label>
                                                            @Html.DropDownListFor(m => m.ReportingTwo, (SelectList)ViewBag.Employees, "Select Reporting person 2", new { @class = "form-control form-control-custom-ddl" })
                                                            @*@Html.DropDownListFor(model => model.ReportingTwo, new SelectList(@ViewBag.Employees, "PK_UserID", "FullName"), "---Select Reporting Tqo---", new { @class = "form-control form-control-custom-ddl" })*@
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Language Spoken:</label>
                                                            @Html.TextBoxFor(model => model.LanguageSpoken, new { placeholder = "Enter Language Spoken", @class = "form-control form-control-custom" })
                                                        </div>
                                                    </div>


                                                </div>
                                             
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Transfer Date:<span style="color:#ff0000;">*</span></label>
                                                                @Html.TextBoxFor(model => model.TransferDate, "{0:dd MMM yyyy}", htmlAttributes: new { placeholder = "Select Date Of Transfer", @class = "form-control form-control-custom dateofjoinings", autocomplete = "off" })
                                                                @Html.ValidationMessageFor(model => model.TransferDate, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Service Code:</label>
                                                                @if (ViewBag.SubCatlist != null)
                                                                {
                                                                    @Html.DropDownListFor(m => m.CostCenter, ViewBag.SubCatlist as IEnumerable<SelectListItem>, "--Select Cost center--", new { @class = "form-control", @id = "Pk_CC_Id", })
                                                                    @Html.ValidationMessageFor(model => model.CostCenter, "", new { @class = "text-danger validation-msg" })
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                               


                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>User Status:</label>
                                                            @if (Model != null)
                                                            {
                                                                if (Model.IsActive == true)
                                                                {
                                                        <div class="radio">
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="IsActive" id="Active" value="true" checked="checked"><label class="radio-lbl-green" for="Active">Active</label>
                                                            </label>
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="IsActive" id="DeActive" value="false"><label class="radio-lbl-green" for="DeActive">DeActive</label>
                                                            </label>
                                                        </div>
                                                                }
                                                                else if (Model.IsActive == false)
                                                                {
                                                        <div class="radio">
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="IsActive" id="Active" value="true"><label class="radio-lbl-green" for="Active">Active</label>
                                                            </label>
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="IsActive" id="DeActive" value="false" checked="checked"><label class="radio-lbl-green" for="DeActive">InActive</label>
                                                            </label>
                                                        </div>
                                                                }
                                                            }
                                                            else
                                                            {
                                                        <div class="radio">
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="IsActive" id="Active" checked value="true"><label class="radio-lbl-green" for="Active">Active</label>
                                                            </label>
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="IsActive" id="DeActive" value="false"><label class="radio-lbl-green" for="DeActive">InActive</label>
                                                            </label>
                                                        </div>
                                                            }
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>Gender:</label>
                                                            @if (Model != null)
                                                            {
                                                                if (Model.Gender == "Male")
                                                                {
                                                        <div class="radio">
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="Gender" id="Male" value="Male" checked="checked"><label class="radio-lbl-green" for="Male">Male</label>
                                                            </label>
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="Gender" id="FeMale" value="Female"><label class="radio-lbl-green" for="FeMale">Female</label>
                                                            </label>
                                                        </div>
                                                                }
                                                                else if (Model.Gender == "Female")
                                                                {
                                                        <div class="radio">
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="Gender" id="Male" value="Male"><label class="radio-lbl-green" for="Male">Male</label>
                                                            </label>
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="Gender" id="FeMale" value="Female" checked="checked"><label class="radio-lbl-green" for="FeMale">Female</label>
                                                            </label>
                                                        </div>
                                                                }

                                                            }
                                                            else
                                                            {
                                                        <div class="radio">
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="Gender" id="Male" value="Male"><label class="radio-lbl-green" for="Male">Male</label>
                                                            </label>
                                                            <label class="radio-green">
                                                                <input type="radio" class="with-gap" name="Gender" id="FeMale" value="Female"><label class="radio-lbl-green" for="FeMale">Female</label>
                                                            </label>
                                                        </div>
                                                            }
                                                        </div>
                                                    </div>


                                                    <div class="form-group">
                                                        <label for="InActive" style="color:red;">Locked Status </label>
                                                        @Html.CheckBoxFor(model => model.IsLocked, new { @id = "chkLocked", @onclick = "ShowHideDiv(this)" })
                                                    </div>
                                                    
                                                </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6">
                                                            <div class="form-group">
                                                                <label>Address 1:</label>
                                                                @Html.TextAreaFor(model => model.Address1, new { placeholder = "Enter Address 1", @class = "form-control", @rows = "4" })
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-6">
                                                            <div class="form-group">
                                                                <label>Address 2:</label>
                                                                @Html.TextAreaFor(model => model.Address2, new { placeholder = "Enter Address 2", @class = "form-control", @rows = "4" })
                                                            </div>
                                                        </div>
                                                    </div>
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4">
                                                        <div class="form-group">
                                                            <label>ZIP Code:</label>
                                                            @Html.TextBoxFor(model => model.ZipCode, new { placeholder = "Enter ZIP Code", @class = "form-control form-control-custom" })
                                                            @Html.ValidationMessageFor(model => model.ZipCode, "", new { @class = "text-danger" })
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Upload Signature:</label>
                                                                <input type="file" name="file" id="FileUpload" class="form-control" />
                                                                @{
                                                                if (Model != null)
                                                                {
                                                                    if (ViewBag.PhotoPath != null)
                                                                    {
                                                            @*<a href="http://worldindia.in/SushilFinanceApp/@ViewBag.PhotoPath" target="_blank" style="width:100%;height:100%;">View Image</a>*@
                                                            <a href="@ViewBag.PhotoPath" target="_blank" style="width:100%;height:100%;">View Image</a>
                                                            <input type="text" id="hdnFilePath" class="hidden" value="@Model.Signature" />
                                                                    }
                                                                    else
                                                                    {
                                                            <input type="text" id="hdnFilePath" class="hidden" />
                                                                    }
                                                                }
                                                                else
                                                                {
                                                            <input type="text" id="hdnFilePath" class="hidden" />
                                                                }
                                                                }
                                                            </div>
                                                            @{
                                                            if (Model != null)
                                                            {
                                                        <div class="cform-group">
                                                            @{
                                                                if (Model.Signature != null && Model.Signature != "")
                                                                {
                                                                    string[] words = (Model.Signature).Split(',');

                                                                    for (int i = 1; i < words.Count(); i++)
                                                                    {
                                                            <a id="btnAddToCart" class="btn btn-default insert-form-btn" href="@Url.Content("~/UsersSignature/" + words[i - 1])" role="button" download="@Url.Content("~/UsersSignature/" + words[i - 1])">
                                                                <i class="fa fa-download"></i> Download
                                                            </a>
                                                                    }
                                                                }
                                                            }

                                                        </div>
                                                                        }
                                                                        else
                                                                        {
                                                        <div class="form-group">

                                                        </div>
                                                                        }
                                                            }
                                                        </div>
                                                    </div>
                                                </div>

                                                    @Html.HiddenFor(m => m.Signature)
                                                    @Html.HiddenFor(m => m.FilePath)
                                                    <!--Button Controls-->
                                                    <div class="col-xs-12 text-center">
                                                        <div class="form-group">
                                                            <button type="button" class="btn btn-default news-btn" id="btnReset" value="Reset" title="Reset">Reset</button>
                                                            @if(Model!=null)
                                                            {
                                                                if (Model.PK_UserID != "")
                                                                {
                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave" title="Submit"><i class="fa fa-plus-circle"></i> Update User</button>
                                                                }
                                                                else
                                                                {
                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave" title="Submit"><i class="fa fa-plus-circle"></i> Insert User</button>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button type="button" class="btn btn-default insert-form-btn" id="btnUserSave" title="Submit"><i class="fa fa-plus-circle"></i> Insert User</button>
                                                            }
                                                        </div>
                                                    </div>
                                                    <!--Button Controls-->
</form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- /.col -->

                    </div><!-- /.row -->
                </div><!-- /.data table col -->

            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
        <!--End of header-->

    </div>
        <!--End of main content 3-->
                                                            }
@********************************************************************************Script Started Here************************************************@
<script src="~/AllJsAndCss/js/bootstrap-multiselect.js"></script>
<link href="~/AllJsAndCss/css/bootstrap-multiselect.css" rel="stylesheet" />

<script>
    $('.form-multiselect-city').multiselect({
        enableFiltering: true,
        includeSelectAllOption: true,
        enableCaseInsensitiveFiltering: true
    });
</script>
<script type="text/javascript">
    $(function () {
        $('#Auditee').multiselect({
            includeSelectAllOption: true
        });

    });

</script>

<script>
    $("#FileUpload").change(function () {
        debugger;
        var Pk_Id = null;
        var formdata = new FormData(); //FormData object
        var fileInput = document.getElementById('FileUpload');
        //Iterating through each files selected in fileInput
        for (i = 0; i < fileInput.files.length; i++) {
            //Appending each file to FormData object
            formdata.append(fileInput.files[i].name, fileInput.files[i]);
        }
        var fileExtension = ['jpeg', 'jpg', 'gif', 'png'];
        if ($.inArray($("#FileUpload").val().split('.').pop().toLowerCase(), fileExtension) == -1) {
            alert("Only formats are allowed : " + fileExtension.join(', '));
        }

        //Creating an XMLHttpRequest and sending
        var xhr = new XMLHttpRequest();
        var link = '@Url.Action("TemporaryFilePathUserSignature", "Users")';
        xhr.open('POST', link, 'true');
        xhr.send(formdata);
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                debugger;
                var data = xhr.responseText;
                data = data.replace(/"/g, "");
                $("#FilePath").val(data);
            }
        }
    })

</script>

<script>
    $("#UserName").change(function () {
        debugger;
        var ExistsUserName = $("#UserName").val();

        $.ajax({
            type: "GET",
            url: "@Url.Action("CheckingUserNameExist", "Users")",
            data: { ExistingUserName: ExistsUserName },
            dataType: "json",
            cache: false,
            success: function (response) {
                if (response == "Success") {
                    alert("User Already Exists in System !! Please try another User Name!!!");
                    $("#UserName").val('');
                    //$("#UserName").focus();
                }
                //else
                //{
                //    alert("User is Available!!");
                //}
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        Reset()
        $("#btnUserSave").click(function myfunction() {
            debugger;
            if (ValidateForm() == false) {
                return false;
            }
            else {
                $("#form1").submit()
            }
        });
    });
    function Reset() {
        $("#btnReset").click(function myfunction() {

            location.reload();
        });
    }

    function ValidateForm() {
        debugger;
       
        if ($("#ddlBranchName")[0].selectedIndex == 0) {
            alert("Please select Branch!!!");
            $("#Branch").focus()
            return false;
        }
        if ($("#ddlUserName")[0].selectedIndex == 0) {
            alert("Please select User Role!!!");
            $("#UserRole").focus()
            return false;
        }

        //if ($("#UploadedFile").val() == "" || $("#UploadedFile").val() == null) {
        //    alert("Please enter Product ImageURL!!!");
        //    $("#UploadedFile").focus()
        //    return false;
        //}
        else
        {
            return true;
        }
    }
</script>