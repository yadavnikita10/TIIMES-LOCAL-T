@model TuvVision.Models.CompanyMaster
@using NonFactors.Mvc.Grid;
@using System.Web.Mvc;

@{
    ViewBag.Title = "CreateCompany";
    Layout = "~/Views/Shared/_TuvVision.cshtml";
}

<link href="~/AllJsAndCss/css/MVCGridN.css" rel="stylesheet" />

@*<script src="~/AllJsAndCss/datatable/js/jquery.dataTables.js"></script>
<script src="~/AllJsAndCss/js/datatable-custom.js"></script>*@





@using (Html.BeginForm("CreateCompany", "CompanyMasters", FormMethod.Post, new { enctype = "multipart/form-data", @id = "form1" }))
{
    @Html.Hidden("CMP_ID")
    @Html.AntiForgeryToken()
    <div class="main-content3 xs-max-height grey-bg-f3">
        <div class="grey-bg-f3">
            <!--Start of header-->
            <div class="container-fluid">
                <div class="row assignfixedwidth rp-5">

                    <div class="col-xs-12 form-col">
                        <div class="row">

                            <div class="col-xs-12 text-right">
                                <a href="@Url.Action("CompanyDashBoard", "CompanyMasters")" class="btn btn-info dynamic-function-btn"><i class="fa fa-long-arrow-left"></i> Go Back</a>
                            </div>

                            <div class="col-xs-12">
                                <div class="white-bg section-box-shadow">
                                @if(Model ==null)
                                {
                                    <h3 class="form-page-title">Add New Company</h3>
                                }
                                else
                                {
                                    <h3 class="form-page-title">Update Company</h3>
                                }
                                @if (Model != null)
                                {

                                    if (Model.CreatedBy == Session["UserID"].ToString() || Session["RoleID"].ToString() == "36")
                                    {

                                        <div class="row">
                                        <div class="col-xs-12 col-sm-offset-1 col-sm-10">
                                            <div class="form-box">
                                                <form>
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Customer Name: <span style="color:#ff0000;">*</span></label>
                                                                @Html.TextBoxFor(model => model.Company_Name, new { @placeholder = "Company Name Here", @class = "form-control", onchange = "UserCheck()" })
                                                                @Html.ValidationMessageFor(model => model.Company_Name, "", new { @class = "text-danger validation-msg" })
                                                                <p id="Status" />
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>EMail ID: <span style="color:#ff0000;">*</span></label>
                                                                @Html.TextBoxFor(model => model.Email, new { @placeholder = "Email Id here", @class = "form-control" })
                                                                @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Website Address:  </label>
                                                                @Html.TextBoxFor(model => model.Website, new { @placeholder = "Website Name Here", @class = "form-control" })
                                                                @Html.ValidationMessageFor(model => model.Website, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Landline No: </label>
                                                                @Html.TextBoxFor(model => model.Work_Phone, new { @placeholder = "Landline Number Here", @class = "form-control" })
                                                                @Html.ValidationMessageFor(model => model.Work_Phone, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Fax No:</label>
                                                                @*<input type="text" class="form-control" placeholder="Fax Here">*@
                                                                @Html.TextBoxFor(model => model.Fax_No, new { @placeholder = "Fax Number Here", @class = "form-control" })
                                                                @Html.ValidationMessageFor(model => model.Fax_No, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Branch Name:<span style="color:#ff0000;">*</span></label>
                                                                @{
                                                                    if (Model != null)
                                                                    {
                                                                        if (ViewBag.BranchName != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.BranchName, new SelectList(@ViewBag.BranchName, "Code", "Name"), "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl" })
                                                                        }
                                                                    }
                                                                    if (ViewData["BranchNameItems"] != null)
                                                                    {
                                                                        @Html.DropDownListFor(model => model.BranchName, (IEnumerable<SelectListItem>)ViewData["BranchNameItems"], "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                    }
                                                                    else
                                                                    {
                                                                        @Html.DropDownListFor(model => model.BranchName, new SelectList(@ViewBag.BranchName, "Code", "Name", ViewBag.UserBranchId), "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl" })
                                                                    }
                                                                    @Html.ValidationMessageFor(model => model.BranchName, "", new { @class = "text-danger" })
                                                                }
                                                            </div>
                                                        </div>
                                                      
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <div class="form-group">
                                                                <label>Office Address:</label>
                                                                @Html.TextAreaFor(model => model.Address, new { @placeholder = "Address Here", @class = "form-control", @rows = "3" })
                                                                @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-12">
                                                            <div class="form-group">
                                                                <label>Site Address:</label>
                                                                @Html.TextAreaFor(model => model.Address_Account, new { @placeholder = "Site Address Here", @class = "form-control" })
                                                                @Html.ValidationMessageFor(model => model.Address_Account, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">                                                        
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>PAN Number:</label>
                                                                @Html.TextBoxFor(model => model.Pan_No, new { @placeholder = "Pan Number Here", @class = "form-control" })
                                                                @Html.ValidationMessageFor(model => model.Pan_No, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Corporate Group:<span style="color:#ff0000;">*</span></label>
                                                                @{
                                                                    if (Model != null)
                                                                    {
                                                                        if (ViewBag.CorporateName != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.CG_ID, new SelectList(@ViewBag.CorporateName, "Code", "Name"), "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control form-control-custom-ddl" })
                                                                        }
                                                                    }
                                                                    if (ViewData["CorporateNameItems"] != null)
                                                                    {
                                                                        @Html.DropDownListFor(model => model.CG_ID, (IEnumerable<SelectListItem>)ViewData["CorporateNameItems"], "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                    }
                                                                    else
                                                                    {
                                                                        @Html.DropDownListFor(model => model.CG_ID, new SelectList(@ViewBag.CorporateName, "Code", "Name"), "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control form-control-custom-ddl" })
                                                                    }
                                                                    @Html.ValidationMessageFor(model => model.CG_ID, "", new { @class = "text-danger" })
                                                                }
                                                            </div>
                                                        </div>



                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Industry Type: <span style="color:#ff0000;">*</span></label>
                                                                @{
                                                                    if (Model != null)
                                                                    {
                                                                        if (ViewBag.IndustryName != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.Ind_ID, new SelectList(@ViewBag.IndustryName, "Code", "Name"), "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control form-control-custom-ddl" })
                                                                        }
                                                                    }
                                                                    if (ViewData["IndustryNameItems"] != null)
                                                                    {
                                                                        @Html.DropDownListFor(model => model.Ind_ID, (IEnumerable<SelectListItem>)ViewData["IndustryNameItems"], "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                    }
                                                                    else
                                                                    {
                                                                        @Html.DropDownListFor(model => model.Ind_ID, new SelectList(@ViewBag.IndustryName, "Code", "Name"), "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control form-control-custom-ddl" })
                                                                    }
                                                                    @Html.ValidationMessageFor(model => model.Ind_ID, "", new { @class = "text-danger" })
                                                                }
                                                            </div>
                                                        </div>
                                                       
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <div class="form-group">
                                                                <label>Description of Business:</label>
                                                                @Html.TextAreaFor(model => model.Branch_Description, new { @placeholder = "Description of Business Here", @class = "form-control", @rows = "3" })
                                                                @Html.ValidationMessageFor(model => model.Branch_Description, "", new { @class = "text-danger" })
                                                             </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">						 
                                                        <div class="col-xs-12 col-sm-4">  
                                                            <div class="form-group">
                                                                <label>Company Created By:</label>
                                                                @Html.TextAreaFor(model => model.CreatedByName, new { @placeholder = "Created By", @class = "form-control", @disabled = "disabled" })
                                                                @Html.ValidationMessageFor(model => model.CreatedByName, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4">
                                                            <div class="form-group">
                                                                <label>Company Creation Date:</label>
                                                                @Html.TextAreaFor(model => model.createDate, new { @placeholder = "Creation Date", @class = "form-control",@disabled="disabled" })
                                                                @Html.ValidationMessageFor(model => model.createDate, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    </div>
                                             
                                                   
                                                    <div class="col-xs-12 text-center">
                                                        
                                                        @if (Model == null)
                                                        {
                                                            <button type="button" class="btn btn-default news-btn" id="btnReset" value="Reset" title="Reset">Reset</button>
                                                            <button type="button" class="btn btn-default insert-form-btn" id="btnSaveCompany"><i class="fa fa-plus-circle"></i> Save Company</button>
                                                        }
                                                        else
                                                        {
                                                           
                                                                <button type="button" class="btn btn-default insert-form-btn" id="btnSaveCompany"><i class="fa fa-plus-circle"></i>Update Company</button>
                                                            
                                                        }
                                                       

                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div><!-- /.row -->
                                    }
                                    else
                                    {

                                        <div class="row">
                                            <div class="col-xs-12 col-sm-offset-1 col-sm-10">
                                                <div class="form-box">
                                                    <form>
                                                        <div class="row">
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Customer Name: <span style="color:#ff0000;">*</span></label>
                                                                    @Html.TextBoxFor(model => model.Company_Name, new { @placeholder = "Company Name Here", @class = "form-control", onchange = "UserCheck()", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Company_Name, "", new { @class = "text-danger validation-msg" })
                                                                    <p id="Status" />
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>EMail ID: <span style="color:#ff0000;">*</span></label>
                                                                    @Html.TextBoxFor(model => model.Email, new { @placeholder = "Email Id here", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Website Address:  </label>
                                                                    @Html.TextBoxFor(model => model.Website, new { @placeholder = "Website Name Here", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Website, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Landline No: </label>
                                                                    @Html.TextBoxFor(model => model.Work_Phone, new { @placeholder = "Landline Number Here", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Work_Phone, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Fax No:</label>
                                                                    @*<input type="text" class="form-control" placeholder="Fax Here">*@
                                                                    @Html.TextBoxFor(model => model.Fax_No, new { @placeholder = "Fax Number Here", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Fax_No, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Branch Name:<span style="color:#ff0000;">*</span></label>
                                                                    @{
                                                                        if (Model != null)
                                                                        {
                                                                            if (ViewBag.BranchName != null)
                                                                            {
                                                                                @Html.DropDownListFor(model => model.BranchName, new SelectList(@ViewBag.BranchName, "Code", "Name"), "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl", @disabled = "disabled" })
                                                                            }
                                                                        }
                                                                        if (ViewData["BranchNameItems"] != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.BranchName, (IEnumerable<SelectListItem>)ViewData["BranchNameItems"], "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl", @disabled = "disabled" })
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.DropDownListFor(model => model.BranchName, new SelectList(@ViewBag.BranchName, "Code", "Name", ViewBag.UserBranchId), "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl", @disabled = "disabled" })
                                                                        }
                                                                        @Html.ValidationMessageFor(model => model.BranchName, "", new { @class = "text-danger" })
                                                                    }
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Office Address:</label>
                                                                    @Html.TextAreaFor(model => model.Address, new { @placeholder = "Address Here", @class = "form-control", @rows = "3", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-12 col-sm-12">
                                                                <div class="form-group">
                                                                    <label>Site Address:</label>
                                                                    @Html.TextAreaFor(model => model.Address_Account, new { @placeholder = "Site Address Here", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Address_Account, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>PAN Number:</label>
                                                                    @Html.TextBoxFor(model => model.Pan_No, new { @placeholder = "Pan Number Here", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Pan_No, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>


                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Corporate Group:<span style="color:#ff0000;">*</span></label>
                                                                    @{
                                                                        if (Model != null)
                                                                        {
                                                                            if (ViewBag.CorporateName != null)
                                                                            {
                                                                                @Html.DropDownListFor(model => model.CG_ID, new SelectList(@ViewBag.CorporateName, "Code", "Name"), "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control form-control-custom-ddl", @disabled = "disabled" })
                                                                            }
                                                                        }
                                                                        if (ViewData["CorporateNameItems"] != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.CG_ID, (IEnumerable<SelectListItem>)ViewData["CorporateNameItems"], "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl", @disabled = "disabled" })
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.DropDownListFor(model => model.CG_ID, new SelectList(@ViewBag.CorporateName, "Code", "Name"), "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control form-control-custom-ddl", @disabled = "disabled" })
                                                                        }
                                                                        @Html.ValidationMessageFor(model => model.CG_ID, "", new { @class = "text-danger" })
                                                                    }
                                                                </div>
                                                            </div>



                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Industry Type: <span style="color:#ff0000;">*</span></label>
                                                                    @{
                                                                        if (Model != null)
                                                                        {
                                                                            if (ViewBag.IndustryName != null)
                                                                            {
                                                                                @Html.DropDownListFor(model => model.Ind_ID, new SelectList(@ViewBag.IndustryName, "Code", "Name"), "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control form-control-custom-ddl", @disabled = "disabled" })
                                                                            }
                                                                        }
                                                                        if (ViewData["IndustryNameItems"] != null)
                                                                        {
                                                                            @Html.DropDownListFor(model => model.Ind_ID, (IEnumerable<SelectListItem>)ViewData["IndustryNameItems"], "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl", @disabled = "disabled" })
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.DropDownListFor(model => model.Ind_ID, new SelectList(@ViewBag.IndustryName, "Code", "Name"), "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control form-control-custom-ddl", @disabled = "disabled" })
                                                                        }
                                                                        @Html.ValidationMessageFor(model => model.Ind_ID, "", new { @class = "text-danger" })
                                                                    }
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Description of Business:</label>
                                                                    @Html.TextAreaFor(model => model.Branch_Description, new { @placeholder = "Description of Business Here", @class = "form-control", @rows = "3", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.Branch_Description, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Company Created By:</label>
                                                                    @Html.TextAreaFor(model => model.CreatedByName, new { @placeholder = "Created By", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.CreatedByName, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4">
                                                                <div class="form-group">
                                                                    <label>Company Creation Date:</label>
                                                                    @Html.TextAreaFor(model => model.createDate, new { @placeholder = "Creation Date", @class = "form-control", @disabled = "disabled" })
                                                                    @Html.ValidationMessageFor(model => model.createDate, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="col-xs-12 text-center">

                                                            @if (Model == null)
                                                            {
                                                                <button type="button" class="btn btn-default news-btn" id="btnReset" value="Reset" title="Reset">Reset</button>
                                                                <button type="button" class="btn btn-default insert-form-btn" id="btnSaveCompany"><i class="fa fa-plus-circle"></i> Save Company</button>
                                                            }
                                                            else
                                                            {

                                                               
                                                            }


                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div><!-- /.row -->
                                    }
                                                                        }
                                                                        else
                                                                        {
                                                                            <div class="row">
                                                                                <div class="col-xs-12 col-sm-offset-1 col-sm-10">
                                                                                    <div class="form-box">
                                                                                        <form>
                                                                                            <div class="row">
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Customer Name: <span style="color:#ff0000;">*</span></label>
                                                                                                        @Html.TextBoxFor(model => model.Company_Name, new { @placeholder = "Company Name Here", @class = "form-control", onchange = "UserCheck()" })
                                                                                                        @Html.ValidationMessageFor(model => model.Company_Name, "", new { @class = "text-danger validation-msg" })
                                                                                                        <p id="Status" />
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>EMail ID: <span style="color:#ff0000;">*</span></label>
                                                                                                        @Html.TextBoxFor(model => model.Email, new { @placeholder = "Email Id here", @class = "form-control" })
                                                                                                        @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Website Address:  </label>
                                                                                                        @Html.TextBoxFor(model => model.Website, new { @placeholder = "Website Name Here", @class = "form-control" })
                                                                                                        @Html.ValidationMessageFor(model => model.Website, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="row">
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Landline No: </label>
                                                                                                        @Html.TextBoxFor(model => model.Work_Phone, new { @placeholder = "Landline Number Here", @class = "form-control" })
                                                                                                        @Html.ValidationMessageFor(model => model.Work_Phone, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Fax No:</label>
                                                                                                        @*<input type="text" class="form-control" placeholder="Fax Here">*@
                                                                                                        @Html.TextBoxFor(model => model.Fax_No, new { @placeholder = "Fax Number Here", @class = "form-control" })
                                                                                                        @Html.ValidationMessageFor(model => model.Fax_No, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Branch Name:<span style="color:#ff0000;">*</span></label>
                                                                                                        @{
                                                                                                            if (Model != null)
                                                                                                            {
                                                                                                                if (ViewBag.BranchName != null)
                                                                                                                {
                                                                                                                    @Html.DropDownListFor(model => model.BranchName, new SelectList(@ViewBag.BranchName, "Code", "Name"), "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl" })
                                                                                                                }
                                                                                                            }
                                                                                                            if (ViewData["BranchNameItems"] != null)
                                                                                                            {
                                                                                                                @Html.DropDownListFor(model => model.BranchName, (IEnumerable<SelectListItem>)ViewData["BranchNameItems"], "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                @Html.DropDownListFor(model => model.BranchName, new SelectList(@ViewBag.BranchName, "Code", "Name", ViewBag.UserBranchId), "---Select Branch Name---", new { @id = "ddlBranchName", @class = "form-control form-control-custom-ddl" })
                                                                                                            }
                                                                                                            @Html.ValidationMessageFor(model => model.BranchName, "", new { @class = "text-danger" })
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>

                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <div class="col-xs-12">
                                                                                                    <div class="form-group">
                                                                                                        <label>Office Address:</label>
                                                                                                        @Html.TextAreaFor(model => model.Address, new { @placeholder = "Address Here", @class = "form-control", @rows = "3" })
                                                                                                        @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <div class="col-xs-12 col-sm-12">
                                                                                                    <div class="form-group">
                                                                                                        <label>Site Address:</label>
                                                                                                        @Html.TextAreaFor(model => model.Address_Account, new { @placeholder = "Site Address Here", @class = "form-control" })
                                                                                                        @Html.ValidationMessageFor(model => model.Address_Account, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>PAN Number:</label>
                                                                                                        @Html.TextBoxFor(model => model.Pan_No, new { @placeholder = "Pan Number Here", @class = "form-control" })
                                                                                                        @Html.ValidationMessageFor(model => model.Pan_No, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>


                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Corporate Group:<span style="color:#ff0000;">*</span></label>
                                                                                                        @{
                                                                                                            if (Model != null)
                                                                                                            {
                                                                                                                if (ViewBag.CorporateName != null)
                                                                                                                {
                                                                                                                    @Html.DropDownListFor(model => model.CG_ID, new SelectList(@ViewBag.CorporateName, "Code", "Name"), "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control form-control-custom-ddl" })
                                                                                                                }
                                                                                                            }
                                                                                                            if (ViewData["CorporateNameItems"] != null)
                                                                                                            {
                                                                                                                @Html.DropDownListFor(model => model.CG_ID, (IEnumerable<SelectListItem>)ViewData["CorporateNameItems"], "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                @Html.DropDownListFor(model => model.CG_ID, new SelectList(@ViewBag.CorporateName, "Code", "Name"), "---Select Corporate---", new { @id = "ddlCorporateName", @class = "form-control form-control-custom-ddl" })
                                                                                                            }
                                                                                                            @Html.ValidationMessageFor(model => model.CG_ID, "", new { @class = "text-danger" })
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>



                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Industry Type: <span style="color:#ff0000;">*</span></label>
                                                                                                        @{
                                                                                                            if (Model != null)
                                                                                                            {
                                                                                                                if (ViewBag.IndustryName != null)
                                                                                                                {
                                                                                                                    @Html.DropDownListFor(model => model.Ind_ID, new SelectList(@ViewBag.IndustryName, "Code", "Name"), "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control form-control-custom-ddl" })
                                                                                                                }
                                                                                                            }
                                                                                                            if (ViewData["IndustryNameItems"] != null)
                                                                                                            {
                                                                                                                @Html.DropDownListFor(model => model.Ind_ID, (IEnumerable<SelectListItem>)ViewData["IndustryNameItems"], "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control col-md-7 col-xs-12 form-control-custom-ddl" })
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                @Html.DropDownListFor(model => model.Ind_ID, new SelectList(@ViewBag.IndustryName, "Code", "Name"), "---Select Industry---", new { @id = "ddlIndustry", @class = "form-control form-control-custom-ddl" })
                                                                                                            }
                                                                                                            @Html.ValidationMessageFor(model => model.Ind_ID, "", new { @class = "text-danger" })
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>

                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <div class="col-xs-12">
                                                                                                    <div class="form-group">
                                                                                                        <label>Description of Business:</label>
                                                                                                        @Html.TextAreaFor(model => model.Branch_Description, new { @placeholder = "Description of Business Here", @class = "form-control", @rows = "3" })
                                                                                                        @Html.ValidationMessageFor(model => model.Branch_Description, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Company Created By:</label>
                                                                                                        @Html.TextAreaFor(model => model.CreatedByName, new { @placeholder = "Created By", @class = "form-control", @disabled = "disabled" })
                                                                                                        @Html.ValidationMessageFor(model => model.CreatedByName, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-xs-12 col-sm-4">
                                                                                                    <div class="form-group">
                                                                                                        <label>Company Creation Date:</label>
                                                                                                        @Html.TextAreaFor(model => model.createDate, new { @placeholder = "Creation Date", @class = "form-control", @disabled = "disabled" })
                                                                                                        @Html.ValidationMessageFor(model => model.createDate, "", new { @class = "text-danger" })
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>


                                                                                            <div class="col-xs-12 text-center">

                                                                                                @if (Model == null)
                                                                                                {
                                                                                                    <button type="button" class="btn btn-default news-btn" id="btnReset" value="Reset" title="Reset">Reset</button>
                                                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnSaveCompany"><i class="fa fa-plus-circle"></i> Save Company</button>
                                                                                                }
                                                                                                else
                                                                                                {

                                                                                                    <button type="button" class="btn btn-default insert-form-btn" id="btnSaveCompany"><i class="fa fa-plus-circle"></i> Update Company</button>
                                                                                                }


                                                                                            </div>
                                                                                        </form>
                                                                                    </div>
                                                                                </div>
                                                                            </div><!-- /.row -->

                                                                                                            }





                                    <!--Contact Details By Manoj -->
                                    @{
                                        if (Model != null)
                                        {
                                            if (Convert.ToInt32(TempData["ShowContactName"]) > 0 && Convert.ToInt32(TempData["ShowContactName"]) != null)
                                            {
                                            <div class="row">
                                                <hr>
                                                <div class="col-xs-12 col-sm-offset-1 col-sm-10">
                                                    <h2 class="dynamic-page-title dynamic-page-title-2"><i class="fa fa-address-book"></i> Select Contact</h2>
                                                    <a href="@Url.Action("ContactDetails", "CompanyMasters",new {@CompanyName=Model.Company_Name,@CompId=Model.CMP_ID, @address=Model.Address, })" class="btn btn-info dynamic-function-btn dynamic-function-btn-2"><i class="fa fa-plus-circle"></i> Add New Contact</a>
                                                </div>
                                                

                                                <div class="col-lg-12">
                                                    <table class="display dataTable no-footer" style="overflow-y:auto" id="gridMapping">
                                                        <tr>
                                                            <td>
                                                                @(Html
                                                                    .Grid(Model.ListDashboard)
                                                                    .Build(columns =>
                                                                    {
                                                                        columns.Add(c => c.ContactName).Titled("Contact Name");
                                                                        columns.Add(c => c.Mobile).Titled("Mobile No");
                                                                        columns.Add(c => c.Address).Titled("Address");
                                                                        columns.Add(c => c.HomePhone).Titled("Landline No");
                                                                        columns.Add(c => c.IsMainContactString).Titled("Is Main Contact");
                                                                        columns.Add(c => c.ContactStatus).Titled("Is Contact Active");
                                                                        columns.Add().Titled("Edit").Encoded(false).RenderedAs(o => Html.ActionLink(" ", "ContactDetails", new { CNT_ID = o.PK_ContID, CompanyName = o.Company_Name, CompId = o.CMP_ID }, new { @class = "fa fa-pencil", title = "Edit" }));
                                                                        columns.Add().Titled("Delete").Encoded(false).RenderedAs(o => Html.ActionLink(" ", "DeleteContact", new { CNT_ID = o.PK_ContID }, new { @class = "fa fa-trash", title = "Delete", onclick = "return confirm('Are you sure you wish to delete ?');" }));

                                                                    }).Pageable(pager =>
                                                                    {
                                                                        
                                                                        pager.ShowPageSizes = true;
                                                                        pager.PagesToDisplay = 3;
                                                                        pager.CurrentPage = 1;
                                                                        pager.RowsPerPage = 2;
                                                                    })
                                                                    .UsingFilterMode(GridFilterMode.Row)
                                                                    .Empty("No Data Found")
                                                                    .Filterable()
                                                                    .Sortable()
                                                                )
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </div>
                                            }
                                        }
                                    }


                                </div><!-- /.box-shadow -->
                            </div><!-- /.col -->

                        </div><!-- /.row -->
                    </div><!-- /.col -->



                </div><!-- /.row -->
            </div><!-- /.container-fluid -->
            <!--End of header-->

        </div>
    </div>

    @*<script>
        $(document).ready(function () {
            $("#CompanyName").change(function () {
                if ($("#CompanyName").val() != "") {
                    var Address = {};
                    Address.url = "/CompanyMasters/GetAddressOfCompany";
                    Address.type = "Get";
                    Address.data = { Company_Name: $("#CompanyName").val() };
                    Address.datatype = "json";
                    Address.ContentType = "application/json";
                    Address.success = function (address) {
                        $("#Address").val(address.Address).val()
                        //if (address != null && address != "")
                        //{
                        //    //$("#Address").append("<option value=" + address.Address + ">" + address.Address + "</option>");
                        //    $("#Address").append( + address.Address + "</option>");
                        //}
                        //$("#Address").prop("disabled", false);
                    };
                    Address.error = function () { alert("Error in Getting Address !"); };
                    $.ajax(Address);
                }
                else {
                    $("#Address").empty();
                    $("#Address").prop("disabled", true);
                }
            });
        });
    </script>*@

                                                                }
@***************************************************************************Script Started Here**************************************************************************@
<script type="text/javascript">
    $(document).ready(function () {
        Reset()
        $("#btnSaveCompany").click(function myfunction() {
            debugger;
            if (ValidateForm() == false) {
                return false;
            }
            else {
                $("#form1").submit()
            }
        });
    });
    function Reset() {
        $("#btnReset").click(function myfunction() {

            location.reload();
        });
    }

    function ValidateForm()
    {
        debugger;
        return true;
        //if ($("#Company_Name").val() == "" || $("#Company_Name").val() == null) {
        //    alert("Please Enter Company Name First!!!");
        //    $("#Company_Name").focus()
        //    return false;
        //}
        //if ($("#Email").val() == "" || $("#Email").val() == null) {
        //    alert("Please Enter Company Name First!!!");
        //    $("#Email").focus()
        //    return false;
        //}
        //if ($("#Work_Phone").val() == "" || $("#Work_Phone").val() == null) {
        //    alert("Please Enter Company Name First!!!");
        //    $("#Work_Phone").focus()
        //    return false;
        //}
        //if ($("#ddlTitle")[0].selectedIndex == 0) {
        //    alert("Please select Title!!!");
        //    $("#TitleName").focus()
        //    return false;
        //}
        //if ($("#ddlIndustry")[0].selectedIndex == 0) {
        //    alert("Please select Industry!!!");
        //    $("#Ind_ID").focus()
        //    return false;
        //}
        //if ($("#ddlBranchName")[0].selectedIndex == 0) {
        //    alert("Please select Branch!!!");
        //    $("#Branch").focus()
        //    return false;
        //}
        //if ($("#ddlStatusName")[0].selectedIndex == 0) {
        //    alert("Please Select Status!!!");
        //    $("#Status").focus()
        //    return false;
        //}
        //if ($("#ddlCorporateName")[0].selectedIndex == 0) {
        //    alert("Please Select Corporate Name!!!");
        //    $("#CG_ID").focus()
        //    return false;
        //}
        //if ($("#Contact").val() == "" || $("#Contact").val() == null) {
        //    alert("Please Enter Contact Name First!!!");
        //    $("#Contact").focus()
        //    return false;
        //}
        //if ($("#Mobile").val() == "" || $("#Mobile").val() == null) {
        //    alert("Please Enter Mobile Number!!!");
        //    $("#Mobile").focus()
        //    return false;
        //}
        //else {
        //    return true;
        //}
    }
    var UserBranchId = '@ViewBag.UserBranchId';
    console.log(UserBranchId)
    if(UserBranchId!='')
    {
        $('#ddlBranchName').val(UserBranchId);
    }
</script>
<script>
    var CustomTextFilter = (function (base) {
        MvcGridExtends(CustomTextFilter, base);

        function CustomTextFilter(column) {
            base.call(this, column);

            this.methods = ['contains'];
            column.grid.lang.custom = { contains: 'Contains' };
        }

        // Other extension points can be found at MvcGridFilter declaration

        return CustomTextFilter;
    })(MvcGridFilter);

    new MvcGrid(document.querySelector('.mvc-grid'), {
        filters: {
            'custom': CustomTextFilter
        }
    });
</script>
@*Checking Existing Role*@
<script>
    function UserCheck()
    {
        debugger;
        $("#Status").html('<font color="blue">Checking ...</font>'),
        $.post("@Url.Action("DuplicateCompanyName", "CompanyMasters")",
            {
                companyname: $("#Company_Name").val()
            },
            function (data)
            {
                if (data == 0)
                {
                    $("#Status").html('<font color="white">Company Name is Available !</font>');
                    $("#UserName").css("border-color", "white");
                    $("#btnSaveCompany").attr('disabled', false);

                }
                else
                {
                    $("#Status").html('<font color="red">Company Name already Exist !</font>');
                    $("#UserName").css("border-color", "Red");
                    $("#btnSaveCompany").attr('disabled', true);
                }
            });
    }
</script>